"use strict";function adminPageCtrl($scope,$location,$mdDialog,Authentication){function DialogController($scope,$mdDialog){$scope.hide=function(){$mdDialog.hide()},$scope.cancel=function(){$mdDialog.cancel()},$scope.answer=function(answer){$mdDialog.hide(answer)}}$scope.authentication=Authentication,$scope.user=Authentication.user,$scope.showSignInTutorial=function(){$mdDialog.show({controller:DialogController,templateUrl:"modules/openboard/template/authentication/signin-dialog.tpl.html",clickOutsideToClose:!0}).then(function(answer){},function(){}),TweenMax.to($("md-backdrop"),.5,{position:"fixed"})},console.log($scope.authentication.user),""===$scope.authentication.user&&$scope.showSignInTutorial();var vm=this;vm.defaultMenu="Class",vm.availMenus=["Class","Example","gDocs"],vm["class"]=!0,vm.example=!1,vm.gDocs=!1,$scope.$watch("vm.defaultMenu",function(newVar){"Class"===newVar?(vm["class"]=!0,vm.example=!1,vm.gDocs=!1):"Example"===newVar?(vm["class"]=!1,vm.example=!0,vm.gDocs=!1):"gDocs"===newVar&&(vm["class"]=!1,vm.example=!1,vm.gDocs=!0)}),vm.title="Admin Page",vm.description="Description",vm.menus=[{title:"Dashboard"},{title:"News"},{title:"Pages"},{title:"Media",subMenu:[{title:"Video Gallery"},{title:"Photo Gallery"}]},{title:"Graph & Charts"},{title:"Events"},{title:"Other Contents"},{title:"Admin Tools"}]}function meanAni(){return{template:"<div></div>",restrict:"E",link:function(scope,element,attrs){function animate(){requestAnimationFrame(animate),renderer.render(stage)}var renderer=PIXI.autoDetectRenderer(800,600,{backgroundColor:1087931}),div=element.find("div");div.append(renderer.view);var stage=new PIXI.Container,container=new PIXI.Container;stage.addChild(container);for(var j=0;5>j;j++)for(var i=0;5>i;i++){var bunny=PIXI.Sprite.fromImage("modules/animations/img/mean-ani/bunny.png");bunny.x=40*i,bunny.y=40*j,container.addChild(bunny)}container.x=100,container.y=60,animate();var canvas=element.find("canvas");canvas.css("width","100%"),canvas.css("float","left")}}}function meanAni2(){return{template:"<div></div>",restrict:"E",link:function(scope,element,attrs){function onAssetsLoaded(){for(var frames=[],i=0;30>i;i++){var val=10>i?"0"+i:i;frames.push(PIXI.Texture.fromFrame("rollSequence00"+val+".png"))}movie=new PIXI.extras.MovieClip(frames),movie.position.set(300),movie.anchor.set(.5),movie.animationSpeed=.5,movie.play(),stage.addChild(movie),animate()}function animate(){movie.rotation+=.01,renderer.render(stage),requestAnimationFrame(animate)}var renderer=PIXI.autoDetectRenderer(800,600);element.append(renderer.view);var canvas=element.find("canvas");canvas.css("width","100%"),canvas.css("float","left");var stage=new PIXI.Container;PIXI.loader.add("modules/animations/img/mean-ani2/fighter.json").load(onAssetsLoaded);var movie}}}function meanAni3(){return{template:"<div></div>",restrict:"E",link:function(scope,element,attrs){function onDown(eventData){sprite.scale.x+=.3,sprite.scale.y+=.3}function animate(){requestAnimationFrame(animate),renderer.render(stage)}var renderer=PIXI.autoDetectRenderer(800,600,{backgroundColor:3426654});element.append(renderer.view);var stage=new PIXI.Container,sprite=PIXI.Sprite.fromImage("modules/animations/img/mean-ani/bunny.png");sprite.position.set(230,264),sprite.interactive=!0,sprite.on("mousedown",onDown),sprite.on("touchstart",onDown),stage.addChild(sprite),animate();var canvas=element.find("canvas");canvas.css("width","100%"),canvas.css("float","left")}}}function meanAni4(){return{template:"<div></div>",restrict:"E",link:function(scope,element,attrs){function animate(){requestAnimationFrame(animate),renderer.render(stage)}var renderer=PIXI.autoDetectRenderer(800,600,{transparent:!0});element.append(renderer.view);var canvas=element.find("canvas");canvas.css("width","100%"),canvas.css("float","left");var stage=new PIXI.Container,basicText=new PIXI.Text("Basic text in pixi");basicText.x=30,basicText.y=90,stage.addChild(basicText);var style={font:"36px Arial bold italic",fill:"#F7EDCA",stroke:"#4a1850",strokeThickness:5,dropShadow:!0,dropShadowColor:"#000000",dropShadowAngle:Math.PI/6,dropShadowDistance:6,wordWrap:!0,wordWrapWidth:440},richText=new PIXI.Text("Rich text with a lot of options and across multiple lines",style);richText.x=30,richText.y=180,stage.addChild(richText),animate()}}}function pixiMenu(){return{template:"<div></div>",restrict:"E",link:function(scope,element,attrs){function animate(){requestAnimationFrame(animate),renderer.render(stage)}var renderer=PIXI.autoDetectRenderer(150,700,{backgroundColor:15844367});element.append(renderer.view),element.css("position","absolute"),element.css("left","0");var stage=new PIXI.Container,basicText=new PIXI.Text("Basic text\n in pixi");basicText.x=5,basicText.y=90,stage.addChild(basicText);var style={font:"13px Arial bold italic",fill:"#F7EDCA",stroke:"#4a1850",strokeThickness:5,dropShadow:!0,dropShadowColor:"#000000",dropShadowAngle:Math.PI/6,dropShadowDistance:6,wordWrap:!0,wordWrapWidth:440},richText=new PIXI.Text(" Best\n Web UI\n EVER!",style);richText.x=5,richText.y=180,stage.addChild(richText),animate()}}}function mainMenu(){return{template:"<div></div>",restrict:"E",link:function(scope,element,attrs){function onResize(){renderer.resize(window.innerWidth,window.innerHeight-65)}function init(){function onClick(mouseData){tilingSprite.tilePosition.x+=100,console.log("MOUSE Click!")}var viewWidth=2560,viewHeight=1600;renderer=PIXI.autoDetectRenderer(viewWidth,viewHeight);var div=element.find("div");div.append(renderer.view),stage=new PIXI.Container;var texture=PIXI.Texture.fromImage("modules/admin-page/img/p2.jpeg");tilingSprite=new PIXI.extras.TilingSprite(texture,renderer.width,renderer.height),stage.addChild(tilingSprite),fish=PIXI.Sprite.fromImage("modules/admin-page/img/mean.png"),fish.interactive=!0,fish.anchor.x=.5,fish.anchor.y=.5,fish.on("click",onClick),stage.addChild(fish);({font:"23px Arial bold italic",fill:"#F7EDCA",stroke:"#4a1850",strokeThickness:5,dropShadow:!0,dropShadowColor:"#000000",dropShadowAngle:Math.PI/6,dropShadowDistance:6,wordWrap:!0,wordWrapWidth:440});requestAnimationFrame(animate)}function animate(){tilingSprite.tilePosition.x-=.64,tilingSprite.tilePosition.y-=.64,fish.x=renderer.width/2,fish.y=.3*renderer.height,renderer.render(stage),requestAnimationFrame(animate)}var tilingSprite,renderer,stage,fish;$(window).resize(onResize),init(),onResize()}}}function statusBar(){return{restrict:"A",controller:statusBarCtrl,link:function(scope,element,attrs){function animate(){requestAnimationFrame(animate),renderer.render(stage)}var renderer=PIXI.autoDetectRenderer(150,700,{backgroundColor:15844367});element.append(renderer.view),element.append("<div>{{title}}</div>");var stage=new PIXI.Container;animate()}}}function statusBarCtrl($scope){$scope.title="statusBarCtrl"}function statusBarSvg(){return{templateUrl:"modules/animations/directives/template/statusBarSvg.html",restrict:"E",controller:statusBarSvgCtrl,link:function(scope,element,attrs){}}}function statusBarSvgCtrl($scope){$scope.title="statusBarCtrl"}function classBoard(){function classBoardCtrl(MeanEvents){this.title="알림",this.info=MeanEvents.query()}function link($scope,$element,$attrs){}return{restrict:"E",scope:{},template:['<md-whiteframe flex class="md-whiteframe-z2 meanT-home-card ob-underbar-dark" layout="column" layout-align="start start">','<h3 class="md-title"> {{vm.title}} </h3>','<div layout="column" layout-fill>','<md-whiteframe class="md-body-1 class-board md-whiteframe-z2" layout layout-align="start center" ng-repeat="content in vm.info">','<span class="class-board-desc md-body-1">{{content.name}}-{{content.created | date}}</span>',"</md-whiteframe>","</div>","</md-whiteframe>"].join(""),controllerAs:"vm",controller:classBoardCtrl,link:link}}function D2lClassesController($scope,$sce,$stateParams,$state,$window,$location,$mdDialog,Authentication,D2lHws,D2lGradesByClass,D2lClasses,D2lHwsByClass,D2lHwsSubmitsTrue,D2lGrades,D2lHwsSubmitsTrueByClass,D2lHwsByOriginDocId,D2lClassesOwnership,D2lLessonsOwnership){$scope.classOwner=!1,$scope.id=$stateParams.d2lClassId,$scope.authentication=Authentication;var authentication=Authentication;$scope.user=Authentication.user,$scope.calendarAvail=!0,void 0!==$scope.user.additionalProvidersData?$scope.gUser=$scope.user.additionalProvidersData.google.email.split("@")[0]:"google"===$scope.user.provider?$scope.gUser=$scope.user.providerData.email.split("@")[0]:$scope.calendarAvail=!1,$scope.toGo=function(lessonId){$state.go("viewD2lLesson",{d2lLessonId:lessonId})},$scope.calendar=function(){var src;return $scope.calendarAvail&&(src="https://www.google.com/calendar/embed?showTitle=0&showNav=0&showDate=0&showPrint=0&showTabs=0&showCalendars=0&showTz=0&mode=AGENDA&height=300&wkst=1&bgcolor=%23FFFFFF&src="+$scope.gUser+"%40gmail.com&color=%23691426&ctz=America%2FChicago"),$sce.trustAsResourceUrl(src)},$scope.numClasses=0,$scope.classContents=[{topic:"Introduction"},{topic:"C++"},{topic:"Input/Flow Control"},{topic:"Functions"},{topic:"Arrays"},{topic:"File IO"}],$scope.copyHWTemplate=function(gdocId){var AppScriptAPI="https://script.google.com/macros/s/AKfycbzoXxZDgzjLOJdqGUGYCWSpIT7n2sHyvnIo2W7E5jmXI_2sryj3/exec?",param="docId="+gdocId+"&userIdRef="+Authentication.user._id+"&task=copy";$window.open(AppScriptAPI+param)},$scope.create=function(){var d2lClass=new D2lClasses({name:this.name,prefix:this.prefix,image:this.image});d2lClass.$save(function(response){$mdDialog.hide(),$scope.name="",$scope.prefix=""},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.remove=function(d2lClass){if(d2lClass){d2lClass.$remove();for(var i in $scope.d2lClasses)$scope.d2lClasses[i]===d2lClass&&$scope.d2lClasses.splice(i,1)}else $scope.d2lClass.$remove(function(){$location.path("d2l-classes")})},$scope.update=function(){var d2lClass=$scope.d2lClass;d2lClass.$update(function(){$location.path("d2l-classes/"+d2lClass._id)},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.find=function(){$scope.d2lClasses=D2lClassesOwnership.query()},$scope.lessons=D2lLessonsOwnership.query({d2lClassId:$stateParams.d2lClassId}),$scope.linkHW=function(hw){console.log("dd");var AppScriptAPI="https://script.google.com/macros/s/AKfycbzMWif8iQmlLZbno9fSUSWWwA9mL4_OEae1nKxcnbxSt980kOpy/exec?",param="docId="+hw.gdocId+"&userId="+authentication.user.username+"&title="+hw.title+"&dDate="+hw.dDate+"&userIdRef="+Authentication.user._id+"&instructorRef="+hw["class"].user+"&classId="+hw["class"]._id;console.log(hw.dDate),$window.open(AppScriptAPI+param)},$scope.openDoc=function(docId){var url="https://docs.google.com/document/d/"+docId+"/edit";$window.open(url)},$scope.findAll=function(){$scope.d2lClasses=D2lClasses.query()},$scope.findOne=function(){$scope.d2lClass=D2lClasses.get({d2lClassId:$stateParams.d2lClassId}),$scope.d2lClass.$promise.then(function(result){Authentication.user._id===result.user._id&&($scope.classOwner=!0),$scope.numClasses=result.length,$scope.hws=D2lHwsByClass.get({classId:result._id},function(result){$scope.hwsCopy=[].concat(result)}),$scope.submittedHW=D2lHwsSubmitsTrueByClass.get({classId:result._id},function(result){$scope.submittedHWCopy=[].concat(result),result.forEach(function(value,index){$scope.submittedHWCopy[index].hwInfo=D2lHwsByOriginDocId.get({gdocId:result[index].originId},function(result){})})}),$scope.gradeCollection=D2lGradesByClass.get({classId:$stateParams.d2lClassId}),$scope.gradeCollection.$promise.then(function(result){$scope.gradeCollection=result,$scope.gradeCollectionCopy=[].concat(result),result.forEach(function(value,index){$scope.gradeCollectionCopy[index].name=result[index].name.split(":")[0]})})})},$scope.showNewAssign=function(ev){function D2lHwDialogCtrl(scope,$timeout,$mdDialog,D2lHws,D2lClassesOwnership,GDriveSelectResult){scope.$on("handleEmit",function(event,args){scope.project.gdocId=args.message,scope.$digest()}),scope.cancel=function(){$mdDialog.cancel(),scope.docs="",scope.project="",scope.projectForm="",args.message="",scope.$digest()},scope.docs=GDriveSelectResult,scope.project={gdocId:scope.docs.id};var dDate=new Date;dDate.setHours(23,59,59,999),scope.project={dDate:dDate},scope.loadClasses=function(){return $timeout(function(){scope.classes=D2lClassesOwnership.query()},650)},scope.createNewRecord=function(){scope.project.dDate.setHours(23,59,59,999);var d2lHw=new D2lHws(scope.project);d2lHw["class"]=d2lHw["class"]._id,d2lHw.$save(function(response){scope.name="",scope.project.gdocId="",scope.projectForm=null,$mdDialog.cancel(),scope.project=null},function(errorResponse){scope.error=errorResponse.data.message})}}$mdDialog.show({controller:D2lHwDialogCtrl,templateUrl:"modules/openboard/template/tutorial/newAssign-dialog.tpl.html",targetEvent:ev,clickOutsideToClose:!1,preserveScope:!1,locals:{project:{gdocId:""}},bindToController:!0}).then(function(){},function(){$scope.hws=D2lHwsByClass.get({classId:$scope.d2lClass._id},function(result){$scope.hwsCopy=[].concat(result)})})},$scope.openAdminMenu=function(){$state.go("admin-page")}}function classExCreate(){return{templateUrl:"modules/d2l-examples/views/create-d2l-example.client.view.html",restrict:"E",link:function(scope,element,attrs){}}}function classExteList(){return{templateUrl:"modules/d2l-examples/views/list-d2l-examples.client.view.html",restrict:"E",link:function(scope,element,attrs){}}}function classNoteCreate(){return{templateUrl:"modules/d2l-hws/views/create-d2l-hw.client.view.html",restrict:"E",link:function(scope,element,attrs){}}}function classNoteList(){return{templateUrl:"modules/d2l-hws/views/list-d2l-hws.client.view.html",restrict:"E",link:function(scope,element,attrs){}}}function D2lLessonsController($scope,$timeout,$state,$stateParams,$mdDialog,$location,$window,Authentication,D2lLessons,D2lClassesOwnership,D2lExamples,GoogledocsByLesson){$scope.authentication=Authentication,console.log("lesson ctrl");$scope.create=function(){console.log(this["class"]);var d2lLesson=new D2lLessons({name:this.name,"class":this.project["class"]._id,contentType:this.contentType,example:this.example,body:this.body});d2lLesson.$save(function(response){$location.path("d2l-lessons/"+response._id),$scope.name=""},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.remove=function(d2lLesson){if(d2lLesson){d2lLesson.$remove();for(var i in $scope.d2lLessons)$scope.d2lLessons[i]===d2lLesson&&$scope.d2lLessons.splice(i,1)}else $scope.d2lLesson.$remove(function(){$location.path("d2l-lessons")})},$scope.update=function(){$scope.d2lLesson["class"]=$scope.d2lLesson["class"]._id,console.log("update");var d2lLesson=$scope.d2lLesson;d2lLesson.$update(function(){$location.path("d2l-lessons/"+d2lLesson._id)},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.find=function(){$scope.d2lLessons=D2lLessons.query()},$scope.findOne=function(){if($scope.d2lLesson=D2lLessons.get({d2lLessonId:$stateParams.d2lLessonId}),"editD2lLesson"===$state.current.name)$scope.d2lLesson.$promise.then(function(data){$scope.d2lLesson.example=_.pluck(_.dropWhile(data.example,"name link"),"_id")});else if("viewD2lLesson"===$state.current.name){Wistia.embed("ocowx278d5")}},$scope.loadClasses=function(){return $timeout(function(){$scope.classes=D2lClassesOwnership.query()},650)},$scope.loadExamples=function(){return $timeout(function(){$scope.examples=D2lExamples.query()},650)},$scope.toggle=function(item,list){var idx=list.indexOf(item._id);idx>-1?list.splice(idx,1):list.push(item._id)},$scope.exists=function(item,list){return list.indexOf(item._id)>-1},$scope.loadGDocs=function(){$scope.gdocs=GoogledocsByLesson.query({lessonId:$stateParams.d2lLessonId})},$scope.showNewAssign=function(ev){function D2lHwDialogCtrl(scope,$timeout,$mdDialog,D2lHws,D2lClassesOwnership,GDriveSelectResult){scope.$on("handleEmit",function(event,args){scope.project.gdocId=args.message,scope.$digest()}),scope.cancel=function(){$mdDialog.cancel(),scope.docs="",scope.project="",scope.projectForm="",scope.$digest()},scope.docs=GDriveSelectResult,scope.project={gdocId:scope.docs.id};var dDate=new Date;dDate.setHours(23,59,59,999),scope.project={dDate:dDate},scope.loadClasses=function(){return $timeout(function(){scope.classes=D2lClassesOwnership.query()},650)},scope.createNewRecord=function(){scope.project.dDate.setHours(23,59,59,999);var d2lHw=new D2lHws(scope.project);d2lHw["class"]=d2lHw["class"]._id,d2lHw.$save(function(response){scope.name="",scope.project.gdocId="",scope.projectForm=null,$mdDialog.cancel(),scope.project=null},function(errorResponse){scope.error=errorResponse.data.message})}}$mdDialog.show({controller:D2lHwDialogCtrl,templateUrl:"modules/openboard/template/tutorial/newAssign-dialog.tpl.html",targetEvent:ev,clickOutsideToClose:!1,preserveScope:!1,locals:{project:{gdocId:""}},bindToController:!0}).then(function(){},function(){})},$scope.linkGDoc=function(doc){console.log("dd");var AppScriptAPI="https://script.google.com/macros/s/AKfycbzMWif8iQmlLZbno9fSUSWWwA9mL4_OEae1nKxcnbxSt980kOpy/exec?",param="docId="+doc.gdocId+"&title="+doc.name+"&classId="+doc["class"]._id;$window.open(AppScriptAPI+param)}}function D2lHomeController($scope,$window,$http,Authentication,D2LOauth,D2lHwsSubmits,D2lClasses,D2lHws){$scope.classes=D2lClasses.query(),$scope.hws=D2lHws.query(),$scope.hwsCopy=[].concat($scope.hws),$scope.totalHwPoints=0,$scope.totalPercentages=0,$scope.allGrade=[],$http.get("/d2l-grades").success(function(result){$scope.allGrade=result});var authentication=Authentication;$scope.gradeCollection=[{numAssignment:"A1",grade:200,total:250,docLink:""},{numAssignment:"A2",grade:160,total:250,docLink:""},{numAssignment:"A3",grade:220,total:250,docLink:""},{numAssignment:"A4",grade:75,total:100,docLink:""},{numAssignment:"A5",grade:85,total:150,docLink:""}],$scope.hws.$promise.then(function(){angular.forEach($scope.hws,function(value,key){$scope.totalHwPoints+=value.totalGrade,$scope.totalPercentages+=value.percent})}),$scope.linkHW=function(docId){var AppScriptAPI="https://script.google.com/macros/s/AKfycbzoXxZDgzjLOJdqGUGYCWSpIT7n2sHyvnIo2W7E5jmXI_2sryj3/exec?docId="+docId+"&userId="+authentication.user.username;$window.open(AppScriptAPI)}}function gridListDemoCtrl($scope,$state){function goToHWList(){}function buildGridModel(tileTmpl){for(var it,results=[],j=0;12>j;j++){switch(it=angular.extend({},tileTmpl),it.icon=it.icon+(j+1),it.title=it.title+(j+1),it.span={row:"1",col:"1"},j+1){case 1:it.background="red",it.title="Notifications";break;case 2:it.background="green",it.title="Classes";break;case 3:it.background="darkBlue",it.title="List HWs",it.state="classes";break;case 4:it.background="blue",it.title="Grades";break;case 5:it.background="yellow",it.title="Articles";break;case 6:it.background="pink",it.title="Tutorials";break;case 7:it.background="darkBlue",it.title="Projects";break;case 8:it.background="purple",it.title="Portfolio";break;case 9:it.background="deepBlue",it.title="Career";break;case 10:it.background="lightPurple",it.title="MEANJS Stack";break;case 11:it.background="yellow";break;case 12:it.background="deepBlue"}results.push(it)}return results}$scope.test=function(event,targetInfo){console.log("dddd");var target=event.target;console.log(target),TweenLite.to(target,.3,{opacity:.8,scale:.85}),TweenLite.to(target,.3,{opacity:1,scale:1,rotation:360,delay:.2,onComplete:goToHWList})},this.tiles=buildGridModel({icon:"avatar:svg-",title:"Svg-",background:""})}function DemoCtrl($timeout,$q){function querySearch(query){var deferred,results=query?self.states.filter(createFilterFor(query)):[];return self.simulateQuery?(deferred=$q.defer(),$timeout(function(){deferred.resolve(results)},1e3*Math.random(),!1),deferred.promise):results}function loadAll(){var allStates="Alabama, Alaska, Arizona, Arkansas, California, Colorado, Connecticut, Delaware,              Florida, Georgia, Hawaii, Idaho, Illinois, Indiana, Iowa, Kansas, Kentucky, Louisiana,              Maine, Maryland, Massachusetts, Michigan, Minnesota, Mississippi, Missouri, Montana,              Nebraska, Nevada, New Hampshire, New Jersey, New Mexico, New York, North Carolina,              North Dakota, Ohio, Oklahoma, Oregon, Pennsylvania, Rhode Island, South Carolina,              South Dakota, Tennessee, Texas, Utah, Vermont, Virginia, Washington, West Virginia,              Wisconsin, Wyoming";return allStates.split(/, +/g).map(function(state){return{value:state.toLowerCase(),display:state}})}function createFilterFor(query){var lowercaseQuery=angular.lowercase(query);return function(state){return 0===state.value.indexOf(lowercaseQuery)}}var self=this;self.states=loadAll(),self.selectedItem=null,self.searchText=null,self.querySearch=querySearch,self.simulateQuery=!1}function GDriveSelectResult(){var selectedDocs={id:""};return selectedDocs}function GDriveFilePicker($scope,Googledrive,configGdrive,GDriveSelectResult){function handleAuthentication(result){result&&!result.error?($scope.isAuth=!0,$scope.authName="Deauthorize",accessToken=result.access_token,$scope.setupPicker()):(console.log(result),console.log(result.error),console.log("fail to authentication"))}$scope.isAuth=!0,$scope.docs=[],$scope.setupPicker=function(){function pickerCallback(data){data.action==google.picker.Action.PICKED?($scope.files=data.docs,$scope.arrive=!0,GDriveSelectResult.id=data.docs[0].id,$scope.$emit("handleEmit",{message:GDriveSelectResult.id})):data.action==google.picker.Action.CANCEL}Googledrive.setupPicker(accessToken,pickerCallback)},$scope.authName="Authorization",$scope.googleDrive={info:"gDriveCtrl"},$scope.openMenu=!0,$scope.hideResult=function(){var target=$(".listFolder");TweenLite.to(target,.5,{autoAlpha:0,display:"none"})},$scope.showResult=function(){var target=$(".listFolder");TweenLite.to(target,.5,{autoAlpha:1,display:"block"})},$scope.plusTest=function(){var promise=Googledrive.plusTest();promise.then(function(result){$scope.gPlus=result,$scope.$digest()})},$scope.listingFolderInfo=function(){$scope.gDocs="dd",console.log("gDriveDashCtrl");var promise=Googledrive.listFolder();promise.then(function(result){console.log("service is done"),$scope.gDocs=result.items,$scope.$digest()})},$scope.listFile=function(){};var accessToken;$scope.arrive=!1,$scope.authName="Authorize",$scope.init=function(){window.gapi.load("auth",$scope.authenticateWithGoogle),window.gapi.load("picker")},$scope.authenticateWithGoogle=function(){window.gapi.auth.authorize({client_id:configGdrive.clientId,scope:configGdrive.scopes,immediate:!1},handleAuthentication)},$scope.findFolder=function(){console.log("findFolder");var query="mimeType = 'application/vnd.google-apps.folder'";Googledrive.findFolder(query,function(result){console.log(result)})},$scope.listFolderInformation=function(){Googledrive.listFolder()}}function HwGenerator($mdToast,$location,devConfig,D2lHws){return{templateUrl:"modules/d2l/directives/template/d2l-hw-generator-tpl.html",restrict:"E",link:function(scope,element,attrs){scope.isOpen=!0,scope.docTypes=["Docs","Sheets","Slides","PDF"],scope.create=function(){console.log("Create");var d2lHw=new D2lHws(scope.project);d2lHw.$save(function(response){$location.path("d2l-hws/"+response._id),scope.name=""},function(errorResponse){$scope.error=errorResponse.data.message})},scope.publishHW=function(){alert("Click")},scope.toastPosition={bottom:!0,top:!1,left:!1,right:!0},scope.getToastPosition=function(){return Object.keys(scope.toastPosition).filter(function(pos){return scope.toastPosition[pos]}).join(" ")},scope.showCustomToast=function(){$mdToast.show({controller:"ToastCtrl",templateUrl:"modules/d2l/directives/toast-template.html",hideDelay:16e3,position:scope.getToastPosition()})}}}}function HwPublisher($timeout,$http,D2lHwPermission,D2lHwCopy,D2lHws){return{templateUrl:"modules/d2l/directives/template/d2l-hw-publisher-tpl.html",restrict:"E",link:function(scope,element,attrs){scope.listP=function(id){scope.result=D2lHwPermission.getDoc({id:id}).$promise.then(function(value){scope.items=value.items},function(error){console.log(error)})},scope.copyFileTemplate=function(id){var users=[{email:"pbshop1001@gmail.com"},{email:"kruny1001@gmail.com"}];users.forEach(function(user){D2lHwCopy.copyDoc({id:id,userNameDoc:user.email}).$promise.then(function(value){console.log(value),alert("copy process is done")},function(error){console.log(error)})})},scope.gsCopyFile=function(){var url="http://localhost:8080/api/AKfycbwqcvW0ogVTk4o5-J89Fih5wO2XoNcsiTX_FCfbPXZdhGpIYNHW/cats";$http.get(url).success(function(data){console.log(data)}).error(function(data){})},scope.publish=function(id){scope.result=D2lHwPermission.getDoc({id:id}).$promise.then(function(value){scope.items=value.items},function(error){console.log(error)})},scope.loadUsers=function(){return scope.users=[],scope.d2lhws=D2lHws.query(),$timeout(function(){scope.users=[{id:1,name:"Copy of restFulAPI Test2",docId:"1HP0LZO1chIZSp-wxK0Gx2B5EVDrw9dVnl8y6OkQB5_k"}]},650)}}}}function CreateFile($resource){function create(){console.log("Create Function from CreateFile");var o=$resource("/userInfo",{userId:123,cardId:"@id"},{charge:{method:"POST",params:{charge:!0}},getInfo:{method:"GET"}});return o}function read(){console.log("read Function from CreateFile");var o=$resource("/createFile",{},{readFile:{method:"GET",params:{id:"@id"}}});return o}return{create:create,read:read}}function GDocs(selector){var SCOPE_="https://www.googleapis.com/drive/v2/";this.lastResponse=null,this.__defineGetter__("SCOPE",function(){return SCOPE_}),this.__defineGetter__("DOCLIST_FEED",function(){return SCOPE_+"files/"}),this.__defineGetter__("CREATE_SESSION_URI",function(){return"https://www.googleapis.com/upload/drive/v2/files?uploadType=resumable"}),this.__defineGetter__("DEFAULT_CHUNK_SIZE",function(){return 5242880})}function GoogledocsController($scope,$stateParams,$location,$timeout,Authentication,Googledocs,D2lClassesOwnership,D2lLessonsByClass){$scope.authentication=Authentication,$scope.create=function(){var googledoc=new Googledocs({name:this.name,link:this.link,contentType:this.contentType,"class":this["class"]._id,lesson:this.lesson._id,gdocId:this.gdocId});googledoc.$save(function(response){$location.path("googledocs/"+response._id),$scope.name=""},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.remove=function(googledoc){if(googledoc){googledoc.$remove();for(var i in $scope.googledocs)$scope.googledocs[i]===googledoc&&$scope.googledocs.splice(i,1)}else $scope.googledoc.$remove(function(){$location.path("googledocs")})},$scope.update=function(){var googledoc=$scope.googledoc;googledoc.$update(function(){$location.path("googledocs/"+googledoc._id)},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.find=function(){$scope.googledocs=Googledocs.query()},$scope.findOne=function(){$scope.googledoc=Googledocs.get({googledocId:$stateParams.googledocId})},$scope.loadClasses=function(){return $timeout(function(){$scope.classes=D2lClassesOwnership.query()},650)},$scope.loadLessons=function(classId){return $timeout(function(){$scope.lessons=D2lLessonsByClass.query({d2lClassId:classId})},650)},$scope.$on("handleEmit",function(event,args){console.log("broadcast is invoked"),$scope.gdocId=args.message,$scope.$digest()})}function gdocsCreate(){return{templateUrl:"modules/googledocs/views/create-googledoc.client.view.html",restrict:"E",link:function(scope,element,attrs){}}}function gdocsEdit(){return{templateUrl:"modules/googledocs/views/edit-googledoc.client.view.html",restrict:"E",link:function(scope,element,attrs){}}}function gdocsList(){return{templateUrl:"modules/googledocs/views/list-googledocs.client.view.html",restrict:"E",link:function(scope,element,attrs){}}}function gdocsView(){return{templateUrl:"modules/googledocs/views/view-googledoc.client.view.html",restrict:"E",link:function(scope,element,attrs){}}}function GsapEditorCtrl($scope,$http,$cacheFactory){$scope.data=["dd","dd","dd"],$scope.title1="Button",$scope.title4="Warn",$scope.isDisabled=!0,$scope.googleUrl="http://google.com",$http.defaults.cache=$cacheFactory("myCache",{capacity:2}),$scope.loadPerson=function(num){$http.get("//swapi.co/api/people/"+num+"/").then(function(result){console.log(result.data.name)})}}function toolbarCustom($window){return function(scope,element,attrs){console.log("toolbarCustom Directive");var mdContent=$("#open-board-content");angular.element(mdContent).bind("scroll",function(){this.scrollTop>=100?(TweenLite.to("md-toolbar",.7,{minHeight:"39",x:0}),TweenLite.to("#toggleBtn",.7,{x:-10,y:-24,scale:.7})):(TweenLite.to("md-toolbar",.7,{minHeight:"65",x:0}),TweenLite.to("#toggleBtn",.7,{x:0,y:0,scale:1})),scope.$apply()})}}function MeanLoginCtrl($scope,Authentication,$mdDialog){$scope.authentication=Authentication}function MeanHomeController($scope,$state,$http,$mdDialog,Authentication,D2lClasses){$scope.authentication=Authentication,$scope.courses=D2lClasses.query(),$scope.homeContents={mainTitle:"ng-SKorea",subTitleText:"에 오신 것을 환영 합니다."},$scope.notice="Alpha",$scope.date={month:moment().format("MMM").toUpperCase(),date:moment().date(),year:moment().year()},$scope.goTo=function(stateName){$state.go(stateName)},$http.get("modules/mean-tutorials/data/home.json").success(function(data){$scope.dataFromJson=data,$scope.projects=$scope.dataFromJson.projects,$scope.announcements=$scope.dataFromJson.announcements,$scope.techs=$scope.dataFromJson.techs}),$scope.goToClass=function(id){console.log(id),$state.go("viewD2lClass",{d2lClassId:id})},$scope.gotoState=function(state){$state.go(state)},$scope.showSignUpTutorial=function(ev){console.log("mean home"),$mdDialog.show({controller:DialogController,templateUrl:"modules/mean-tutorials/template/authentication/signup-dialog.tpl.html",targetEvent:ev})}}function backDropCtrl($state){var vm=this;vm.openClass=function(id){$state.go("viewD2lClass",{d2lClassId:id})}}function AngularCtrl($scope,$state,$http,$mdDialog,$mdSidenav,$log,Authentication){$scope.classContents=[{topic:"Introduction"},{topic:"C++"},{topic:"Input/Flow Control"},{topic:"Functions"},{topic:"Arrays"},{topic:"File IO"}],$scope.homeContents={mainTitle:"AngularJS",subTitleText:"가장 쉽게 접근 할 수 있는 최신 AngularJS 강좌 입니다.",classTitle:"시작하면서",classSubTitle:"최근 가장 HOT한 MVW framework에 대한 강좌 입니다. 초보자도 쉽게 접근 할 수 있도록 강의가 준비 될 것입니다."},$scope.authentication=Authentication,$scope.notice="Prototype",$scope.date={month:moment().format("MMM").toUpperCase(),date:moment().date(),year:moment().year()},$scope.goTo=function(stateName){$state.go(stateName)},$scope.colorBorder={header:"blue"}}function OpenboardController($scope,$log,$mdDialog,$mdSidenav,$window,$http,Authentication,Users,D2lHws,D2lGrades,D2lClassesOwnership,D2lHwsSubmitsTrue,UsersRole){function DialogController($scope,$mdDialog){$scope.hide=function(){$mdDialog.hide()},$scope.cancel=function(){$mdDialog.cancel()},$scope.answer=function(answer){$mdDialog.hide(answer)}}$scope.authentication=Authentication;var authentication=Authentication;$scope.user=Authentication.user,$scope.roles=[{name:"Student",value:"student"},{name:"Instructor",value:"instructor"}],$scope.hws=D2lHws.query(),$scope.hws.$promise.then(function(result){$scope.hwsCopy=[].concat(result)}),$scope.classes=D2lClassesOwnership.query(),$scope.classes.$promise.then(function(result){$scope.classesCopy=[].concat(result)}),$scope.submittedHW=D2lHwsSubmitsTrue.query(),$scope.submittedHW.$promise.then(function(result){$scope.submittedHWCopy=[].concat(result)}),$scope.gradeCollection=D2lGrades.query(),$scope.gradeCollection.$promise.then(function(result){$scope.gradeCollectionCopy=[].concat(result)}),$scope.options={chart:{type:"multiBarChart",height:450,margin:{top:20,right:20,bottom:60,left:45},clipEdge:!0,staggerLabels:!0,transitionDuration:500,stacked:!1,showControls:!1,xAxis:{axisLabel:"Assignment Name",showMaxMin:!1,tickFormat:function(d){return d}},yAxis:{axisLabel:"Percentage(%)",axisLabelDistance:40,tickFormat:function(d){return d3.format("d")(d)}}}},$scope.data1=[{
values:[{y:75,x:"Kevin"},{y:90,x:"Eric"},{y:95,x:"Jason"}],key:"Assignment1"},{values:[{y:46,x:"Kevin"},{y:100,x:"Eric"},{y:100,x:"Jason"}],key:"Assignment2"},{values:[{y:65,x:"Kevin"},{y:70,x:"Eric"},{y:35,x:"Jason"}],key:"Assignment3"},{values:[{y:45,x:"Kevin"},{y:90,x:"Eric"},{y:85,x:"Jason"}],key:"Assignment4"}],$scope.openDoc=function(docId){var url="https://docs.google.com/document/d/"+docId+"/edit";$window.open(url)},$scope.scrollTo=function(elementId){var target=$("#"+elementId).offset().top;$mdSidenav("left").close().then(function(){$log.debug("close LEFT is done"),console.log(target),TweenMax.to($window,1.2,{scrollTo:{y:target},ease:Power4.easeOut})})},$scope.linkHW=function(hw){var AppScriptAPI="https://script.google.com/macros/s/AKfycbzoXxZDgzjLOJdqGUGYCWSpIT7n2sHyvnIo2W7E5jmXI_2sryj3/exec?",param="docId="+hw.gdocId+"&userId="+authentication.user.username+"&title="+hw.title+"&dDate="+new Date(hw.dDate)+"&userIdRef="+Authentication.user._id+"&instructorRef="+hw["class"].user+"&classId="+hw["class"]._id;$window.open(AppScriptAPI+param)},$scope.copyHWTemplate=function(gdocId){var AppScriptAPI="https://script.google.com/macros/s/AKfycbzoXxZDgzjLOJdqGUGYCWSpIT7n2sHyvnIo2W7E5jmXI_2sryj3/exec?",param="docId="+gdocId+"&userIdRef="+Authentication.user._id+"&task=copy";$window.open(AppScriptAPI+param)},$scope.toggleLeftOpen=function(){$mdSidenav("left").toggle().then(function(){TweenMax.to($("md-backdrop "),.1,{position:"fixed"})})},$scope.showSignUpTutorial=function(ev){$mdDialog.show({controller:DialogController,templateUrl:"modules/openboard/template/authentication/signup-dialog.tpl.html",targetEvent:ev}),TweenMax.to($("md-backdrop"),.5,{position:"fixed"})},$scope.showSignInTutorial=function(ev,elementId){$mdDialog.show({controller:DialogController,templateUrl:"modules/openboard/template/authentication/signin-dialog.tpl.html",targetEvent:ev,clickOutsideToClose:!0}).then(function(answer){},function(){}),TweenMax.to($("md-backdrop"),.5,{position:"fixed"})},$scope.showNewClass=function(ev){function D2lClassDialogCtrl($scope,$mdDialog,D2lClasses){$scope.cancel=function(){$mdDialog.cancel()},$scope.create=function(){var d2lClass=new D2lClasses({name:this.name,prefix:this.prefix});d2lClass.$save(function(response){$mdDialog.hide()},function(errorResponse){$scope.error=errorResponse.data.message})}}$mdDialog.show({controller:D2lClassDialogCtrl,templateUrl:"modules/openboard/template/tutorial/newClass-dialog.tpl.html",targetEvent:ev,clickOutsideToClose:!0}).then(function(){$log.debug("created Class"),$scope.classes=D2lClassesOwnership.query(),$scope.classesCopy=[].concat($scope.classes)},function(){$log.debug("cancel")})},$scope.showNewAssign=function(ev){function D2lHwDialogCtrl(scope,$timeout,$mdDialog,D2lHws,D2lClassesOwnership,GDriveSelectResult){scope.$on("handleEmit",function(event,args){console.log("broadcast is invoked"),scope.project.gdocId=args.message,scope.$digest()}),scope.cancel=function(){$mdDialog.cancel(),scope.docs="",scope.project="",scope.projectForm="",args.message="",scope.$digest(),console.log("B")},scope.docs=GDriveSelectResult,scope.project={gdocId:scope.docs.id};var dDate=new Date;scope.project={dDate:dDate},scope.loadClasses=function(){return console.log("Load Class is invoked"),$timeout(function(){scope.classes=D2lClassesOwnership.query()},650)},scope.createNewRecord=function(){console.log("Create"),scope.project.dDate;var d2lHw=new D2lHws(scope.project);d2lHw["class"]=d2lHw["class"]._id,d2lHw.$save(function(response){scope.name="",scope.project.gdocId="",scope.projectForm=null,$mdDialog.cancel(),scope.project=null},function(errorResponse){scope.error=errorResponse.data.message})}}$mdDialog.show({controller:D2lHwDialogCtrl,templateUrl:"modules/openboard/template/tutorial/newAssign-dialog.tpl.html",targetEvent:ev,clickOutsideToClose:!1,preserveScope:!1,locals:{project:{gdocId:""}},bindToController:!0}).then(function(){$log.debug("cancel")},function(){$scope.hws=D2lHws.query(),$scope.hwsCopy=[].concat($scope.hws)})},$scope.setRoleAsStudent=function(){$scope.user.roles="student";var user=new Users($scope.user);user.$update(function(response){$scope.success=!0,Authentication.user=response,$scope.user=response,$mdDialog.hide()},function(response){$scope.error=response.data.message})},$scope.ownHwUpdate=function(){},$scope.allHwUpdate=function(){},$scope.openSubmission=function(docId){}}function BtPaymentController($scope,$http,$braintree){$scope.title="등록하기";var client;$scope.creditCard={number:"",expirationDate:""};var startup=function(){$braintree.getClientToken().success(function(token){client=new $braintree.api.Client({clientToken:token})})};$scope.creditCard.number="4111111111111111",$scope.creditCard.expirationDate="10/18",$scope.payButtonClicked=function(){console.log("clicked"),client.tokenizeCard({number:$scope.creditCard.number,expirationDate:$scope.creditCard.expirationDate},function(err,nonce){console.log("err: "+err),console.log("nonce: "+nonce),$http.post("/buy-something",{nonce:nonce}).success(function(){alert("1")}).error(function(){alert("2")})})},startup()}function yourDirectiveName($window){function link(scope,element,attributes){var w=angular.element($window);scope.getWindowWidth=function(){return w.width()},scope.$watch(scope.getWindowWidth,function(newWidth,oldWidth){if(newWidth!=oldWidth)switch(!0){case 600>newWidth:case newWidth>=600&&600>oldWidth:case oldWidth>=768&&768>newWidth:case newWidth>=768&&768>oldWidth:case oldWidth>=992&&992>newWidth:case newWidth>=992&&992>oldWidth:case oldWidth>=1200&&1200>newWidth:case newWidth>=1200&&1200>oldWidth:scope.renderChart(element[0],attributes.color)}}),w.bind("resize",function(){scope.$apply()}),scope.$watchCollection("[data, renderer]",function(newValue,oldValue){newValue[0]&&scope.renderChart(element[0],attributes.color)}),scope.renderChart=function(element,color){element.innerHTML="";var graph=new Rickshaw.Graph({element:element,series:[{data:scope.data,color:color}],renderer:scope.renderer});graph.render()}}var directive={link:link,restrict:"AE",scope:{data:"=",renderer:"="}};return directive}function OrderDirective($tcOrder,$interpolate,$compile,$parse,$mdToast){function compile(element,attr){console.log(element);element.find("tc-order-label").remove();return function(scope,element,attr,ctrls){scope.orderDate=moment()._d,scope.deliberyDate=moment()._d,scope.address="Not Yet",scope.numOrder=1,scope.detailInfo="빠른베송 부탁 드립니다.",scope.price=900*scope.numOrder,scope.getTotal=function(){scope.price=900*scope.numOrder};var toastPosition={bottom:!0,top:!1,left:!1,right:!0},getToastPosition=function(){return Object.keys(toastPosition).filter(function(pos){return toastPosition[pos]}).join(" ")};scope.createToast=function(){$mdToast.show({controller:function($scope,$mdToast){$scope.closeToast=function(){$mdToast.hide()}},template:'<md-toast> <span flex>Submitted</span> <md-button ng-click="closeToast()">Close </md-button> </md-toast>',hideDelay:6e3,position:getToastPosition()})}}}return{restrict:"E",scope:{userInfo:"=userInfo"},templateUrl:"modules/the-clean/directives/template/tc-order-ui-tpl.html",require:["tcOrder"],compile:compile,controller:"TheCleanCrudsController"}}function OrderHeader($mdTheming){return{restrict:"E",link:function($scope,$element,$attr){function reverseRepeat(tl){tl.reverse(0)}function complete(tl){tl.restart(),console.log("Complete")}function prepNext(timeline,slide){TweenMax.set(slide,{display:"none"})}var progressBar='<div id="progressBar"></div>';$element.append(progressBar);var images=$element.find("img"),tl=new TimelineMax({onReverseComplete:reverseRepeat,onReverseCompleteParams:["{self}"],onComplete:complete,onCompleteParams:["{self}"]}),time=3.2,a1=(TweenMax.set(images,{display:"none"}),TweenMax.to(images[0],time,{autoAlpha:0,display:"block"})),a2=TweenMax.to(images[1],time,{autoAlpha:0,display:"block"}),a3=TweenMax.to(images[2],time,{autoAlpha:0,display:"block"}),slideTl1=new TimelineMax({onComplete:prepNext,onCompleteParams:["{self}",images[0]]});slideTl1.add(a1).from($("#progressBar"),slideTl1.duration(),{scaleX:0,transformOrigin:"0px 0px",ease:Linear.easeNone},0);var slideTl2=new TimelineMax({onComplete:prepNext,onCompleteParams:["{self}",images[1]]});slideTl2.add(a2).from($("#progressBar"),slideTl2.duration(),{scaleX:0,transformOrigin:"0px 0px",ease:Linear.easeNone},0);var slideTl3=new TimelineMax({onComplete:prepNext,onCompleteParams:["{self}",images[2]]});slideTl3.add(a3).from($("#progressBar"),slideTl3.duration(),{scaleX:0,transformOrigin:"0px 0px",ease:Linear.easeNone},0),tl.set(images,{display:"none"}).add(slideTl1).add(slideTl2).add(slideTl3).play(),$mdTheming($element)}}}function GetRequires($parse){function preLink(scope,element,attr,ctrls){function configureAria(){element.attr({id:"select_menu_"+$mdUtil.nextUid(),role:"listbox","aria-multiselectable":selectCtrl.isMultiple?"true":"false"})}function keyListener(e){(13==e.keyCode||32==e.keyCode)&&clickListener(e)}function clickListener(ev){var option=$mdUtil.getClosest(ev.target,"md-option"),optionCtrl=option&&angular.element(option).data("$mdOptionController");if(option&&optionCtrl){var optionHashKey=selectCtrl.hashGetter(optionCtrl.value),isSelected=angular.isDefined(selectCtrl.selected[optionHashKey]);scope.$apply(function(){selectCtrl.isMultiple?isSelected?selectCtrl.deselect(optionHashKey):selectCtrl.select(optionHashKey,optionCtrl.value):isSelected||(selectCtrl.deselect(Object.keys(selectCtrl.selected)[0]),selectCtrl.select(optionHashKey,optionCtrl.value)),selectCtrl.refreshViewValue()})}}var selectCtrl=ctrls[0],ngModel=ctrls[1];element.on("click"),element.on("keypress",keyListener),ngModel&&selectCtrl.init(ngModel),configureAria()}return{restrict:"E",require:["tcGetRequires","?ngModel"],controller:GetRequiresController,link:{pre:preLink}}}function SelectProvider($$interimElementProvider){function selectDefaultOptions($tcOrder,$mdConstant,$$rAF,$mdUtil,$mdTheming,$timeout){function onShow(scope,element,opts){function configureAria(){opts.selectEl.attr("aria-labelledby",opts.target.attr("id")),opts.target.attr("aria-owns",opts.selectEl.attr("id")),opts.target.attr("aria-expanded","true")}function activateInteraction(){function focusOption(direction){var optionsArray=nodesToArray(optionNodes),index=optionsArray.indexOf(opts.focusedNode);-1===index?index=0:"next"===direction&&index<optionsArray.length-1?index++:"prev"===direction&&index>0&&index--;var newOption=opts.focusedNode=optionsArray[index];newOption&&newOption.focus()}function focusNextOption(){focusOption("next")}function focusPrevOption(){focusOption("prev")}function closeMenu(){opts.restoreFocus=!0,scope.$evalAsync(function(){$tcOrder.hide(selectCtrl.ngModel.$viewValue)})}if(!opts.isRemoved){var selectCtrl=opts.selectEl.controller("mdSelectMenu")||{};element.addClass("md-clickable"),opts.backdrop&&opts.backdrop.on("click",function(e){e.preventDefault(),e.stopPropagation(),opts.restoreFocus=!1,scope.$apply($tcOrder.cancel)}),opts.selectEl.on("keydown",function(ev){switch(ev.keyCode){case $mdConstant.KEY_CODE.SPACE:case $mdConstant.KEY_CODE.ENTER:var option=$mdUtil.getClosest(ev.target,"md-option");option&&(opts.selectEl.triggerHandler({type:"click",target:option}),ev.preventDefault());break;case $mdConstant.KEY_CODE.TAB:case $mdConstant.KEY_CODE.ESCAPE:ev.preventDefault(),opts.restoreFocus=!0,scope.$apply($tcOrder.cancel)}}),opts.selectEl.on("keydown",function(ev){switch(ev.keyCode){case $mdConstant.KEY_CODE.UP_ARROW:return focusPrevOption();case $mdConstant.KEY_CODE.DOWN_ARROW:return focusNextOption()}}),selectCtrl.isMultiple||(opts.selectEl.on("click",closeMenu),opts.selectEl.on("keydown",function(e){(32==e.keyCode||13==e.keyCode)&&closeMenu()}))}}if(!opts.target)throw new Error('$tcOrder.show() expected a target element in options.target but got "'+opts.target+'"!');angular.extend(opts,{isRemoved:!1,target:angular.element(opts.target),parent:angular.element(opts.parent),selectEl:element.find("md-select-menu"),contentEl:element.find("md-content"),backdrop:opts.hasBackdrop&&angular.element('<md-backdrop class="md-select-backdrop">')}),configureAria(),element.removeClass("md-leave");var optionNodes=opts.selectEl[0].getElementsByTagName("md-option");return opts.loadingAsync&&opts.loadingAsync.then&&opts.loadingAsync.then(function(){scope.$$loadingAsyncDone=!0,$$rAF(function(){$$rAF(function(){opts.isRemoved||animateSelect(scope,element,opts)})})}),opts.disableParentScroll&&(opts.disableTarget=opts.parent.find("md-content"),opts.disableTarget.length||(opts.disableTarget=opts.parent),opts.lastOverflow=opts.disableTarget.css("overflow"),opts.disableTarget.css("overflow","hidden")),$timeout(activateInteraction,75,!1),opts.backdrop&&($mdTheming.inherit(opts.backdrop,opts.parent),opts.parent.append(opts.backdrop)),opts.parent.append(element),$$rAF(function(){$$rAF(function(){opts.isRemoved||animateSelect(scope,element,opts)})}),$mdUtil.transitionEndPromise(opts.selectEl,{timeout:350})}function onRemove(scope,element,opts){opts.isRemoved=!0,element.addClass("md-leave").removeClass("md-clickable"),opts.target.attr("aria-expanded","false"),opts.disableParentScroll&&$mdUtil.floatingScrollbars()&&(opts.disableTarget.css("overflow",opts.lastOverflow),delete opts.lastOverflow,delete opts.disableTarget);var mdSelect=opts.selectEl.controller("mdSelect");return mdSelect&&mdSelect.setLabelText(opts.selectEl.controller("mdSelectMenu").selectedLabels()),$mdUtil.transitionEndPromise(element,{timeout:350}).then(function(){element.removeClass("md-active"),opts.parent[0].removeChild(element[0]),opts.backdrop&&opts.backdrop.remove(),opts.restoreFocus&&opts.target.focus()})}function animateSelect(scope,element,opts){var centeredNode,containerNode=element[0],targetNode=opts.target[0],parentNode=opts.parent[0],selectNode=opts.selectEl[0],contentNode=opts.contentEl[0],parentRect=parentNode.getBoundingClientRect(),targetRect=$mdUtil.clientRect(targetNode,parentNode),shouldOpenAroundTarget=!1,bounds={left:parentNode.scrollLeft+SELECT_EDGE_MARGIN,top:parentNode.scrollTop+SELECT_EDGE_MARGIN,bottom:parentRect.height+parentNode.scrollTop-SELECT_EDGE_MARGIN,right:parentRect.width-SELECT_EDGE_MARGIN},spaceAvailable={top:targetRect.top-bounds.top,left:targetRect.left-bounds.left,right:bounds.right-(targetRect.left+targetRect.width),bottom:bounds.bottom-(targetRect.top+targetRect.height)},maxWidth=parentRect.width-2*SELECT_EDGE_MARGIN,isScrollable=contentNode.scrollHeight>contentNode.offsetHeight,selectedNode=selectNode.querySelector("md-option[selected]"),optionNodes=selectNode.getElementsByTagName("md-option"),optgroupNodes=selectNode.getElementsByTagName("md-optgroup");centeredNode=selectedNode?selectedNode:optgroupNodes.length?optgroupNodes[0]:optionNodes.length?optionNodes[0]:contentNode.firstElementChild||contentNode,contentNode.offsetWidth>maxWidth&&(contentNode.style["max-width"]=maxWidth+"px"),shouldOpenAroundTarget&&(contentNode.style["min-width"]=targetRect.width+"px"),isScrollable&&selectNode.classList.add("md-overflow");var selectMenuRect=selectNode.getBoundingClientRect(),centeredRect=getOffsetRect(centeredNode);if(centeredNode){var centeredStyle=window.getComputedStyle(centeredNode);centeredRect.paddingLeft=parseInt(centeredStyle.paddingLeft,10)||0,centeredRect.paddingRight=parseInt(centeredStyle.paddingRight,10)||0}var focusedNode=centeredNode;if("MD-OPTGROUP"===(focusedNode.tagName||"").toUpperCase()&&(focusedNode=optionNodes[0]||contentNode.firstElementChild||contentNode),focusedNode&&(opts.focusedNode=focusedNode,focusedNode.focus()),isScrollable){var scrollBuffer=contentNode.offsetHeight/2;contentNode.scrollTop=centeredRect.top+centeredRect.height/2-scrollBuffer,spaceAvailable.top<scrollBuffer?contentNode.scrollTop=Math.min(centeredRect.top,contentNode.scrollTop+scrollBuffer-spaceAvailable.top):spaceAvailable.bottom<scrollBuffer&&(contentNode.scrollTop=Math.max(centeredRect.top+centeredRect.height-selectMenuRect.height,contentNode.scrollTop-scrollBuffer+spaceAvailable.bottom))}var left,top,transformOrigin;shouldOpenAroundTarget?(left=targetRect.left,top=targetRect.top+targetRect.height,transformOrigin="50% 0",top+selectMenuRect.height>bounds.bottom&&(top=targetRect.top-selectMenuRect.height,transformOrigin="50% 100%")):(left=targetRect.left+centeredRect.left-centeredRect.paddingLeft,top=targetRect.top+targetRect.height/2-centeredRect.height/2-centeredRect.top+contentNode.scrollTop,transformOrigin=centeredRect.left+targetRect.width/2+"px "+(centeredRect.top+centeredRect.height/2-contentNode.scrollTop)+"px 0px",containerNode.style.minWidth=targetRect.width+centeredRect.paddingLeft+centeredRect.paddingRight+"px");var containerRect=containerNode.getBoundingClientRect();containerNode.style.left=clamp(bounds.left,left,bounds.right-containerRect.width)+"px",containerNode.style.top=clamp(bounds.top,top,bounds.bottom-containerRect.height)+"px",selectNode.style[$mdConstant.CSS.TRANSFORM_ORIGIN]=transformOrigin,selectNode.style[$mdConstant.CSS.TRANSFORM]="scale("+Math.min(targetRect.width/selectMenuRect.width,1)+","+Math.min(targetRect.height/selectMenuRect.height,1)+")",$$rAF(function(){element.addClass("md-active"),selectNode.style[$mdConstant.CSS.TRANSFORM]=""})}return{parent:"body",onShow:onShow,onRemove:onRemove,hasBackdrop:!0,disableParentScroll:$mdUtil.floatingScrollbars(),themable:!0}}function clamp(min,n,max){return Math.min(max,Math.max(n,min))}function getOffsetRect(node){return node?{left:node.offsetLeft,top:node.offsetTop,width:node.offsetWidth,height:node.offsetHeight}:{left:0,top:0,width:0,height:0}}return $$interimElementProvider("$tcOrder").setDefaults({methods:["target"],options:selectDefaultOptions})}var ApplicationConfiguration=function(){var applicationModuleName="mean",applicationModuleVendorDependencies=["ngResource","ngCookies","ngAnimate","ngTouch","ngMessages","ngSanitize","ui.router","ui.bootstrap","ngMaterial","smart-table","nvd3","braintree-angular","hljs"],registerModule=function(moduleName,dependencies){angular.module(moduleName,dependencies||[]),angular.module(applicationModuleName).requires.push(moduleName)};return{applicationModuleName:applicationModuleName,applicationModuleVendorDependencies:applicationModuleVendorDependencies,registerModule:registerModule}}();angular.module(ApplicationConfiguration.applicationModuleName,ApplicationConfiguration.applicationModuleVendorDependencies),angular.module(ApplicationConfiguration.applicationModuleName).config(["$locationProvider","$compileProvider",function($locationProvider,$compileProvider){$locationProvider.hashPrefix("!")}]),angular.element(document).ready(function(){"#_=_"===window.location.hash&&(window.location.hash="#!"),angular.bootstrap(document,[ApplicationConfiguration.applicationModuleName])}),ApplicationConfiguration.registerModule("admin-page"),ApplicationConfiguration.registerModule("animations"),ApplicationConfiguration.registerModule("articles"),ApplicationConfiguration.registerModule("core"),ApplicationConfiguration.registerModule("d2l-ads"),ApplicationConfiguration.registerModule("d2l-class-utils"),ApplicationConfiguration.registerModule("d2l-classes"),ApplicationConfiguration.registerModule("d2l-examples"),ApplicationConfiguration.registerModule("d2l-grades"),ApplicationConfiguration.registerModule("d2l-hws-submits"),ApplicationConfiguration.registerModule("d2l-hws"),ApplicationConfiguration.registerModule("d2l-lessons"),ApplicationConfiguration.registerModule("d2l"),ApplicationConfiguration.registerModule("disqus"),ApplicationConfiguration.registerModule("etc-products"),ApplicationConfiguration.registerModule("etc"),ApplicationConfiguration.registerModule("g-drive"),ApplicationConfiguration.registerModule("googledocs"),ApplicationConfiguration.registerModule("gsap-editor"),ApplicationConfiguration.registerModule("matrail-plugin"),ApplicationConfiguration.registerModule("mean-events"),ApplicationConfiguration.registerModule("mean-tutorials"),ApplicationConfiguration.registerModule("openboard"),ApplicationConfiguration.registerModule("payment"),ApplicationConfiguration.registerModule("present"),ApplicationConfiguration.registerModule("size-util"),ApplicationConfiguration.registerModule("the-clean-cruds"),ApplicationConfiguration.registerModule("the-clean"),ApplicationConfiguration.registerModule("tinymce"),ApplicationConfiguration.registerModule("user-interface"),ApplicationConfiguration.registerModule("users"),ApplicationConfiguration.registerModule("util"),angular.module("admin-page").config(["$stateProvider",function($stateProvider){$stateProvider.state("test-pixi",{url:"/test-pixi",templateUrl:"modules/admin-page/views/test-pixi.client.view.html"}).state("admin-page",{url:"/admin-page",templateUrl:"modules/admin-page/views/admin-page.client.view.html",onEnter:function(){console.log("onEnter")},onExit:function(){console.log("onExit")}})}]),angular.module("admin-page").controller("AdminPageController",adminPageCtrl),angular.module("admin-page").controller("TestPixiController",["$scope",function($scope){}]),angular.module("animations").directive("aniAce",function(){function aniAceCtrl($scope){function initBeast(){momentGroup=new PIXI.DisplayObjectContainer,stage.addChild(momentGroup),drawBeast(),createAce()}function hideMoments(){clearTimeout(animationTimer),momentAce.visible=!1,__PE&&__PE.reset()}function generateRandomNumber(min,max){var random=Math.floor(Math.random()*(max-min+1))+min;return random}function drawBeast(){__PE&&__PE.step()}function resizeBeast(){momentGroup&&(momentGroup.x=renderer.width/2,momentGroup.y=renderer.height/2)}function passParticlesToRAF(PE){__PE=PE}function createAce(){function onAssetsLoaded(){aceParticleContainer=new PIXI.DisplayObjectContainer,momentAce.addChild(aceParticleContainer),aceEm_TennisBalls=new Emitter({type:"chaos",count:50},{type:SimpleParticle,image:imagePath+"ball-white.png",life:800,spin:[-.03,.03],speed:[1,3],scale:[.01,.02],colors:[aceColors[0],aceColors[1],16777215],fade:.2,blendMode:PIXI.blendModes.NORMAL}),aceEm_LightningBolts=new Emitter({type:"linear",count:35,angle:135},{type:SimpleParticle,image:imagePath+"lightning-white.png",life:1e3,spin:[0,0],speed:[.05,1],scale:[.05,.5],colors:[aceColors[0],aceColors[1]],fade:.2,blendMode:PIXI.blendModes.NORMAL}),aceEm_ThinShards=new Emitter({type:"linear",count:50,angle:-45},{type:SimpleParticle,image:imagePath+"shard2-white.png",life:1e3,spin:[0,0],speed:[.05,1],scale:[.05,1],colors:[aceColors[0],aceColors[1]],fade:.2,blendMode:PIXI.blendModes.NORMAL}),aceEm_Circles=new Emitter({type:"point",count:50},{type:CircleParticle,size:15,life:800,spin:[-0,0],speed:[1,3],scale:[.25,1],colors:[aceColors[0],aceColors[1]],fade:.4,blendMode:PIXI.blendModes.NORMAL}),aceEmitters.push(aceEm_TennisBalls),aceEmitters.push(aceEm_LightningBolts),aceEmitters.push(aceEm_ThinShards),aceEmitters.push(aceEm_Circles),aceParticles.addEmitters(aceEmitters),aceParticleContainer.addChild(aceEm_TennisBalls.doc),aceParticleContainer.addChild(aceEm_LightningBolts.doc),aceParticleContainer.addChild(aceEm_ThinShards.doc),aceParticleContainer.addChild(aceEm_Circles.doc),aceCircleOutline1=new PIXI.Graphics,aceCircleOutline1.lineStyle(3,aceColors[0],1),aceCircleOutline1.drawCircle(0,0,75),aceCircleOutline1.endFill(),matchVizViewConfig.isWebGL&&(aceCircleOutline1.blendMode=PIXI.blendModes.MULTIPLY),momentAce.addChild(aceCircleOutline1),aceCircleOutline2=new PIXI.Graphics,aceCircleOutline2.lineStyle(5,aceColors[1],1),aceCircleOutline2.drawCircle(0,0,25),aceCircleOutline2.endFill(),matchVizViewConfig.isWebGL&&(aceCircleOutline2.blendMode=PIXI.blendModes.MULTIPLY),momentAce.addChild(aceCircleOutline2);for(var i=0;3>i;i++)aceRectangle=new PIXI.Graphics,matchVizViewConfig.isWebGL&&(aceRectangle.blendMode=PIXI.blendModes.MULTIPLY),aceRectangle.pivot.x=2e3,aceRectangle.pivot.y=50,aceRectangle.rotation=15*toRAD,momentAce.addChild(aceRectangle),aceRectArray.push(aceRectangle);for(var i=0;6>i;i++){var aceParticle=new PIXI.Graphics,randomParticleType=generateRandomNumber(0,5);switch(randomParticleType){case 0:aceParticle.lineStyle(2,aceColors[0],1),aceParticle.drawCircle(0,0,generateRandomNumber(5,15));break;default:aceParticle.beginFill(aceColors[1],.5),aceParticle.drawCircle(0,0,generateRandomNumber(2,10))}aceParticle.endFill(),matchVizViewConfig.isWebGL&&(aceParticle.blendMode=PIXI.blendModes.MULTIPLY),momentAce.addChild(aceParticle),aceExplosionArray2.push(aceParticle)}aceBallTrailer=new PIXI.Graphics,aceBallTrailer.pivot.x=5,aceBallTrailer.pivot.y=0,matchVizViewConfig.isWebGL&&(aceBallTrailer.blendMode=PIXI.blendModes.MULTIPLY),momentAce.addChild(aceBallTrailer),aceBall=new PIXI.Graphics,matchVizViewConfig.isWebGL&&(aceBall.blendMode=PIXI.blendModes.MULTIPLY),momentAce.addChild(aceBall),aceCircle1=new PIXI.Graphics,matchVizViewConfig.isWebGL&&(aceCircle1.blendMode=PIXI.blendModes.MULTIPLY),momentAce.addChild(aceCircle1),aceCircle2=new PIXI.Graphics,matchVizViewConfig.isWebGL&&(aceCircle2.blendMode=PIXI.blendModes.MULTIPLY),momentAce.addChild(aceCircle2),aceCircle3=new PIXI.Graphics,matchVizViewConfig.isWebGL&&(aceCircle3.blendMode=PIXI.blendModes.MULTIPLY),momentAce.addChild(aceCircle3),aceCircle4=new PIXI.Graphics,matchVizViewConfig.isWebGL&&(aceCircle4.blendMode=PIXI.blendModes.MULTIPLY),momentAce.addChild(aceCircle4),aceCircle5=new PIXI.Graphics,matchVizViewConfig.isWebGL&&(aceCircle5.blendMode=PIXI.blendModes.MULTIPLY),momentAce.addChild(aceCircle5),aceLightning1=PIXI.Texture.fromImage(imagePath+"lightning1.png"),aceLightning1=new PIXI.Sprite(aceLightning1),aceLightning1.anchor.x=.5,aceLightning1.anchor.y=.5,aceLightning1.tint=aceColors[0],matchVizViewConfig.isWebGL&&(aceLightning1.blendMode=PIXI.blendModes.MULTIPLY),momentAce.addChild(aceLightning1),aceLightning2=PIXI.Texture.fromImage(imagePath+"lightning2.png"),aceLightning2=new PIXI.Sprite(aceLightning2),aceLightning2.anchor.x=.5,aceLightning2.anchor.y=.5,aceLightning2.tint=aceColors[1],matchVizViewConfig.isWebGL&&(aceLightning2.blendMode=PIXI.blendModes.MULTIPLY),momentAce.addChild(aceLightning2),aceLightning3=PIXI.Texture.fromImage(imagePath+"lightning3.png"),aceLightning3=new PIXI.Sprite(aceLightning3),aceLightning3.anchor.x=.5,aceLightning3.anchor.y=.5,aceLightning3.tint=aceColors[0],matchVizViewConfig.isWebGL&&(aceLightning3.blendMode=PIXI.blendModes.MULTIPLY),momentAce.addChild(aceLightning3),aceLightning4=PIXI.Texture.fromImage(imagePath+"lightning4.png"),aceLightning4=new PIXI.Sprite(aceLightning4),aceLightning4.anchor.x=.5,aceLightning4.anchor.y=.5,aceLightning4.tint=aceColors[1],matchVizViewConfig.isWebGL&&(aceLightning4.blendMode=PIXI.blendModes.MULTIPLY),momentAce.addChild(aceLightning4),aceLightning5=PIXI.Texture.fromImage(imagePath+"lightning5.png"),aceLightning5=new PIXI.Sprite(aceLightning5),aceLightning5.anchor.x=.5,aceLightning5.anchor.y=.5,aceLightning5.tint=aceColors[1],matchVizViewConfig.isWebGL&&(aceLightning5.blendMode=PIXI.blendModes.MULTIPLY),momentAce.addChild(aceLightning5),aceLightning6=PIXI.Texture.fromImage(imagePath+"lightning6.png"),aceLightning6=new PIXI.Sprite(aceLightning6),aceLightning6.anchor.x=.5,aceLightning6.anchor.y=.5,aceLightning6.tint=aceColors[0],matchVizViewConfig.isWebGL&&(aceLightning6.blendMode=PIXI.blendModes.MULTIPLY),momentAce.addChild(aceLightning6),aceLightning7=PIXI.Texture.fromImage(imagePath+"lightning7.png"),aceLightning7=new PIXI.Sprite(aceLightning7),aceLightning7.anchor.x=.5,aceLightning7.anchor.y=.5,aceLightning7.tint=aceColors[1],matchVizViewConfig.isWebGL&&(aceLightning7.blendMode=PIXI.blendModes.MULTIPLY),momentAce.addChild(aceLightning7),aceLightning8=PIXI.Texture.fromImage(imagePath+"lightning8.png"),aceLightning8=new PIXI.Sprite(aceLightning8),aceLightning8.anchor.x=.5,aceLightning8.anchor.y=.5,aceLightning8.tint=aceColors[0],matchVizViewConfig.isWebGL&&(aceLightning8.blendMode=PIXI.blendModes.MULTIPLY),momentAce.addChild(aceLightning8),aceLightning9=PIXI.Texture.fromImage(imagePath+"lightning9.png"),aceLightning9=new PIXI.Sprite(aceLightning9),aceLightning9.anchor.x=.5,aceLightning9.anchor.y=.5,aceLightning9.tint=aceColors[0],matchVizViewConfig.isWebGL&&(aceLightning9.blendMode=PIXI.blendModes.MULTIPLY),momentAce.addChild(aceLightning9),aceTitle=new PIXI.Text("GREAT",{font:"80px Droid Sans",fill:"#ffffff"}),aceTitle.anchor.x=.5,aceTitle.anchor.y=.5,momentAce.addChild(aceTitle)}momentAce=new PIXI.DisplayObjectContainer,momentGroup.addChild(momentAce);var imagePath="modules/animations/directives/template/img/",assetsToLoader=[imagePath+"lightning1.png",imagePath+"lightning2.png",imagePath+"lightning3.png",imagePath+"lightning4.png",imagePath+"lightning5.png",imagePath+"lightning6.png",imagePath+"lightning7.png",imagePath+"lightning8.png",imagePath+"lightning9.png"],loader=new PIXI.AssetLoader(assetsToLoader);loader.onComplete=onAssetsLoaded,loader.load(),momentAce.visible=!1}function redrawAce(){var tempColorOrder=1+Math.floor(2*Math.random());aceColors=1===tempColorOrder?["0x8cc63f","0x00b2ef"]:["0x00b2ef","0x8cc63f"],aceBallTrailer.clear(),aceBallTrailer.beginFill(aceColors[0],.25),aceBallTrailer.drawRect(0,0,10,400),aceBallTrailer.endFill(),aceBall.clear(),aceBall.beginFill(aceColors[0],1),aceBall.drawCircle(0,0,100),aceBall.endFill(),aceBall.beginFill(aceColors[0],.5),aceBall.drawCircle(-7,-7,90),aceBall.endFill(),aceCircle1.clear(),aceCircle1.beginFill(aceColors[0],.2),aceCircle1.drawCircle(0,0,115),aceCircle1.endFill(),aceCircle2.clear(),aceCircle2.beginFill(aceColors[0],.5),aceCircle2.drawCircle(0,0,115),aceCircle2.endFill(),aceCircle3.clear(),aceCircle3.beginFill(aceColors[0],.4),aceCircle3.drawCircle(0,0,115),aceCircle3.endFill(),aceCircle4.clear(),aceCircle4.beginFill(aceColors[0],.4),aceCircle4.drawCircle(0,0,85),aceCircle4.endFill(),aceCircle5.clear(),aceCircle5.beginFill(aceColors[1],1),aceCircle5.drawCircle(0,0,45),aceCircle5.endFill(),aceLightning1.tint=aceColors[0],aceLightning2.tint=aceColors[1],aceLightning3.tint=aceColors[0],aceLightning4.tint=aceColors[1],aceLightning5.tint=aceColors[1],aceLightning6.tint=aceColors[0],aceLightning7.tint=aceColors[1],aceLightning8.tint=aceColors[0],aceLightning9.tint=aceColors[0];for(var i=0;3>i;i++)aceRectArray[i].clear(),aceRectArray[i].beginFill(aceColors[1],1),aceRectArray[i].drawRect(0,0,4e3,100),aceRectArray[i].endFill()}function explodeAce(){hideMoments(),redrawAce();for(var em,w=window.innerWidth,h=500,i=0;i<aceEmitters.length;)em=aceEmitters[i++],em.w=w,em.h=h,em.reset();passParticlesToRAF(aceParticles),aceAnimationIn=new TimelineMax({paused:!0}),aceAnimationIn.fromTo(aceBall,.75,{x:0,y:250,scaleX:.05,scaleY:.05,alpha:0},{x:0,y:-200,scaleX:.05,scaleY:.05,alpha:1,ease:Expo.easeOut}),aceAnimationIn.to(aceBall,.75,{x:0,y:-100,ease:Expo.easeIn}),aceAnimationIn.to(aceBall,.5,{bezier:{values:[{x:200,y:0},{x:300,y:200}]},scaleX:.25,scaleY:.25,alpha:1,ease:Quad.easeOut}),aceAnimationIn.to(aceBall,.5,{bezier:{values:[{x:50,y:0},{x:0,y:0}]},alpha:0,scaleX:10,scaleY:10,ease:Quad.easeOut},"-=.25"),aceAnimationIn.add(TweenMax.fromTo(aceBallTrailer,1,{x:0,y:250,scaleY:5,alpha:1},{x:0,y:-200,scaleY:.75,alpha:0,ease:Expo.easeOut}),0),aceAnimationIn.add(TweenMax.fromTo(aceCircleOutline1,1,{x:0,y:-100,scaleX:.1,scaleY:0,alpha:1},{x:0,y:-100,scaleX:1,scaleY:1,alpha:0,ease:Expo.easeOut}),1.5),aceAnimationIn.add(TweenMax.fromTo(aceCircleOutline2,1,{x:0,y:-100,scaleX:.1,scaleY:0,alpha:1},{x:0,y:-100,scaleX:1,scaleY:1,alpha:0,ease:Expo.easeOut}),1.5),aceAnimationIn.add(TweenMax.fromTo(aceParticleContainer,1,{alpha:0},{alpha:1}),0),aceAnimationIn.add(TweenMax.fromTo(aceEm_TennisBalls.doc,1,{scaleX:0,scaleY:0},{scaleX:1,scaleY:1,ease:Quart.easeInOut}),1.5),aceAnimationIn.add(TweenMax.fromTo(aceEm_LightningBolts.doc,.75,{scaleX:0,scaleY:0,x:600,y:-600,alpha:0},{scaleX:1,scaleY:1,x:0,y:0,alpha:1,ease:Quart.easeInOut}),1.5),aceAnimationIn.add(TweenMax.fromTo(aceEm_ThinShards.doc,.75,{scaleX:0,scaleY:0,x:-600,y:600,alpha:0},{scaleX:1,scaleY:1,x:0,y:0,alpha:1,ease:Quart.easeInOut}),1.5),aceAnimationIn.add(TweenMax.fromTo(aceEm_Circles.doc,.75,{scaleX:0,scaleY:0,x:-600,y:600,
alpha:0},{scaleX:1,scaleY:1,x:0,y:0,alpha:1,ease:Quart.easeInOut}),1.5);for(var i=0;i<aceExplosionArray2.length;i++){var circle=aceExplosionArray2[i],destinationX=generateRandomNumber(-100,100),destinationY=generateRandomNumber(-200,0);aceAnimationIn.add(TweenMax.fromTo(circle,1,{x:0,y:-100,scaleX:0,scaleY:0,alpha:0},{x:destinationX,y:destinationY,scaleX:1,scaleY:1,alpha:1,ease:Quart.easeOut}),1.5)}aceAnimationIn.add(TweenMax.fromTo(aceRectArray[0],2.25,{x:0,y:1500},{x:0,y:50,ease:Expo.easeOut}),0),aceAnimationIn.add(TweenMax.fromTo(aceRectArray[1],2.25,{x:0,y:1500},{x:0,y:50,ease:Expo.easeOut}),0),aceAnimationIn.add(TweenMax.fromTo(aceRectArray[2],2.25,{x:0,y:1500},{x:0,y:50,ease:Expo.easeOut}),0),aceAnimationIn.add(TweenMax.fromTo(aceRectArray[0],1.5,{scaleY:2,rotation:25*toRAD,alpha:0},{scaleY:1,rotation:-15*toRAD,alpha:.5,ease:Quad.easeInOut}),0),aceAnimationIn.add(TweenMax.fromTo(aceRectArray[1],1.5,{scaleY:2,rotation:25*toRAD,alpha:0},{scaleY:.5,rotation:-15*toRAD,alpha:.5,ease:Quad.easeInOut}),0),aceAnimationIn.add(TweenMax.fromTo(aceRectArray[2],1.5,{scaleY:2,rotation:25*toRAD,alpha:0},{scaleY:.25,rotation:-15*toRAD,alpha:.5,ease:Quad.easeInOut}),0),aceAnimationIn.add(TweenMax.to(aceRectArray[0],1,{scaleY:.5,rotation:-10*toRAD,ease:Quad.easeInOut}),1.5),aceAnimationIn.add(TweenMax.to(aceRectArray[1],1,{scaleY:.25,rotation:-10*toRAD,ease:Quad.easeInOut}),1.5),aceAnimationIn.add(TweenMax.to(aceRectArray[2],1,{scaleY:0,rotation:-10*toRAD,ease:Quad.easeInOut}),1.5),aceAnimationIn.add(TweenMax.to(aceRectArray[0],.5,{alpha:0}),1.5),aceAnimationIn.add(TweenMax.to(aceRectArray[1],.5,{alpha:0}),1.5),aceAnimationIn.add(TweenMax.to(aceRectArray[2],.5,{alpha:0}),1.5),aceAnimationIn.add(TweenMax.fromTo(aceCircle1,1.25,{x:250,y:50,scaleX:0,scaleY:0},{x:0,y:0,scaleX:1,scaleY:1,ease:Expo.easeOut}),1.75),aceAnimationIn.add(TweenMax.fromTo(aceCircle2,1.5,{x:250,y:50,scaleX:0,scaleY:0},{x:-10,y:-10,scaleX:1,scaleY:1,ease:Elastic.easeOut}),1.75),aceAnimationIn.add(TweenMax.fromTo(aceCircle3,1.75,{x:250,y:50,scaleX:0,scaleY:0},{x:5,y:2,scaleX:1,scaleY:1,ease:Elastic.easeOut}),1.75),aceAnimationIn.add(TweenMax.fromTo(aceCircle4,1.25,{x:250,y:50,scaleX:0,scaleY:0},{x:-25,y:-25,scaleX:1,scaleY:1,ease:Elastic.easeOut}),1.75),aceAnimationIn.add(TweenMax.fromTo(aceCircle5,1.5,{x:250,y:50,scaleX:0,scaleY:0},{x:50,y:70,scaleX:1,scaleY:1,ease:Elastic.easeOut}),1.75),aceAnimationIn.add(TweenMax.fromTo(aceTitle,2,{x:50,y:0,scaleX:0,scaleY:0,rotation:2,alpha:0},{x:0,y:0,scaleX:1,scaleY:1,rotation:0,alpha:1,ease:Elastic.easeOut}),1.75),aceAnimationIn.add(TweenMax.fromTo(aceLightning1,1,{scaleX:0,scaleY:0,x:250,y:-180},{scaleX:1,scaleY:1,x:40,y:-130,ease:Elastic.easeOut}),1.8),aceAnimationIn.add(TweenMax.fromTo(aceLightning2,1.15,{scaleX:0,scaleY:0,x:250,y:-150},{scaleX:1,scaleY:1,x:100,y:-100,ease:Elastic.easeOut}),1.8),aceAnimationIn.add(TweenMax.fromTo(aceLightning3,1.25,{scaleX:0,scaleY:0,x:250,y:-110},{scaleX:1,scaleY:1,x:140,y:-60,ease:Elastic.easeOut}),1.8),aceAnimationIn.add(TweenMax.fromTo(aceLightning4,1.75,{scaleX:0,scaleY:0,x:250,y:-40},{scaleX:1,scaleY:1,x:160,y:10,ease:Elastic.easeOut}),1.8),aceAnimationIn.add(TweenMax.fromTo(aceLightning5,1.45,{scaleX:0,scaleY:0,x:250,y:-30},{scaleX:1,scaleY:1,x:100,y:20,ease:Elastic.easeOut}),1.8),aceAnimationIn.add(TweenMax.fromTo(aceLightning6,1.55,{scaleX:0,scaleY:0,x:250,y:40},{scaleX:1,scaleY:1,x:-60,y:90,ease:Elastic.easeOut}),1.8),aceAnimationIn.add(TweenMax.fromTo(aceLightning7,1.65,{scaleX:0,scaleY:0,x:250,y:10},{scaleX:1,scaleY:1,x:-120,y:60,ease:Elastic.easeOut}),1.8),aceAnimationIn.add(TweenMax.fromTo(aceLightning8,1.75,{scaleX:0,scaleY:0,x:250,y:-10},{scaleX:1,scaleY:1,x:-170,y:40,ease:Elastic.easeOut}),1.8),aceAnimationIn.add(TweenMax.fromTo(aceLightning9,1.85,{scaleX:0,scaleY:0,x:250,y:-40},{scaleX:1,scaleY:1,x:-70,y:-90,ease:Elastic.easeOut}),1.8),aceAnimationIn.add(TweenMax.fromTo(momentAce,.75,{x:5,y:5},{x:0,y:0,ease:RoughEase.ease.config({strength:15,points:50})}),1.75),aceAnimationIn.add(TweenMax.to(momentAce,0,{x:0,y:0}),0),aceAnimationIn.timeScale(1.25),aceAnimationIn.play(),momentAce.visible=!0,animationTimer=setTimeout(destroyAce,6e3)}function destroyAce(){function scaleZero(){TweenMax.set(["#visualizer"],{display:"none"})}aceAnimationOut=new TimelineMax({paused:!0,onComplete:scaleZero}),aceAnimationOut.add(TweenMax.to(aceParticleContainer,1,{alpha:0}),0),aceAnimationOut.add(TweenMax.to(aceEm_TennisBalls.doc,1,{scaleX:0,scaleY:0,ease:Quart.easeInOut}),0),aceAnimationOut.add(TweenMax.to(aceEm_ThinShards.doc,1,{x:600,y:-600,ease:Quart.easeInOut}),0),aceAnimationOut.add(TweenMax.to(aceEm_LightningBolts.doc,1,{x:-600,y:600,ease:Quart.easeInOut}),0),aceAnimationOut.add(TweenMax.to(aceEm_Circles.doc,1,{scaleX:.5,scaleY:.5,ease:Quart.easeInOut}),0),aceAnimationOut.add(TweenMax.to(aceCircle1,1.1,{x:0,y:0,scaleX:0,scaleY:0,ease:Expo.easeInOut}),0),aceAnimationOut.add(TweenMax.to(aceCircle2,1,{x:0,y:0,scaleX:0,scaleY:0,ease:Expo.easeInOut}),0),aceAnimationOut.add(TweenMax.to(aceCircle3,.9,{x:0,y:0,scaleX:0,scaleY:0,ease:Expo.easeInOut}),0),aceAnimationOut.add(TweenMax.to(aceCircle4,.8,{x:0,y:0,scaleX:0,scaleY:0,ease:Expo.easeInOut}),0),aceAnimationOut.add(TweenMax.to(aceCircle5,.7,{x:0,y:0,scaleX:0,scaleY:0,ease:Expo.easeInOut}),0),aceAnimationOut.add(TweenMax.to(aceTitle,.6,{scaleX:0,scaleY:0,x:0,y:0,alpha:0,ease:Expo.easeInOut}),0),aceAnimationOut.add(TweenMax.to(aceLightning1,1,{scaleX:0,scaleY:0,x:0,y:0,ease:Expo.easeInOut}),0),aceAnimationOut.add(TweenMax.to(aceLightning2,1,{scaleX:0,scaleY:0,x:0,y:0,ease:Expo.easeInOut}),0),aceAnimationOut.add(TweenMax.to(aceLightning3,1,{scaleX:0,scaleY:0,x:0,y:0,ease:Expo.easeInOut}),0),aceAnimationOut.add(TweenMax.to(aceLightning4,1,{scaleX:0,scaleY:0,x:0,y:0,ease:Expo.easeInOut}),0),aceAnimationOut.add(TweenMax.to(aceLightning5,1,{scaleX:0,scaleY:0,x:0,y:0,ease:Expo.easeInOut}),0),aceAnimationOut.add(TweenMax.to(aceLightning6,1,{scaleX:0,scaleY:0,x:0,y:0,ease:Expo.easeInOut}),0),aceAnimationOut.add(TweenMax.to(aceLightning7,1,{scaleX:0,scaleY:0,x:0,y:0,ease:Expo.easeInOut}),0),aceAnimationOut.add(TweenMax.to(aceLightning8,1,{scaleX:0,scaleY:0,x:0,y:0,ease:Expo.easeInOut}),0),aceAnimationOut.add(TweenMax.to(aceLightning9,1,{scaleX:0,scaleY:0,x:0,y:0,ease:Expo.easeInOut}),0),aceAnimationOut.add(TweenMax.fromTo(aceRectArray[0],.75,{x:500,y:-800,scaleY:5,alpha:0,rotation:-15*toRAD},{x:0,y:0,scaleY:0,alpha:1,rotation:-15*toRAD,ease:Expo.easeIn}),0),aceAnimationOut.add(TweenMax.fromTo(aceRectArray[1],.75,{x:-500,y:800,scaleY:5,alpha:0,rotation:-15*toRAD},{x:0,y:0,scaleY:0,alpha:1,rotation:-15*toRAD,ease:Expo.easeIn}),0);for(var i=0;i<aceExplosionArray2.length;i++){var circle=aceExplosionArray2[i],duration=1+.02*i;aceAnimationOut.add(TweenMax.to(circle,duration,{x:0,y:0,scaleX:0,scaleY:0,alpha:0,ease:Expo.easeInOut}),0)}aceAnimationOut.timeScale(1),aceAnimationOut.play(),animationTimer=setTimeout(hideMoments,2e3)}function init(){stage=new PIXI.Stage(16185078),renderer=new PIXI.autoDetectRenderer(600,600,null,!1,!0),$("#visualizer").append(renderer.view),vizGroup=new PIXI.DisplayObjectContainer,stage.addChild(vizGroup),initBeast(),$(window).resize(onResize),$(window).scroll(onScroll),onResize(),requestAnimFrame(animate),TweenMax.set(["#visualizer"],{display:"none"})}function onScroll(){updateViewportRect()}function animate(){renderer.render(stage),requestAnimationFrame(animate),drawBeast()}function onResize(){renderer.resize(.9*window.innerWidth,.9*window.innerHeight),resizeBeast()}var renderer,stage,vizGroup,momentGroup,momentAce,animationTimer,aceBallTrailer,aceBall,aceCircle1,aceCircle2,aceCircleOutline1,aceCircleOutline2,aceRectangle,aceCircle3,aceCircle4,aceCircle5,aceLightning1,aceLightning2,aceLightning3,aceLightning4,aceLightning5,aceLightning6,aceLightning7,aceLightning8,aceLightning9,aceTitle,aceAnimationOut,aceAnimationIn,__PE,aceParticleContainer,aceEm_TennisBalls,aceEm_LightningBolts,aceEm_ThinShards,aceEm_Circles,toRAD=Math.PI/180,matchVizViewConfig={isWebGL:!0},aceRectArray=[],aceExplosionArray2=[],aceColors=["0x8cc63f","0x00b2ef"],aceParticles=new ParticleEngine(window.innerWidth,500),aceEmitters=[];init(),$scope.ace=function(){TweenMax.set(["#visualizer"],{display:"block"});var target=$("#webAni"),destination=target.offset().top;return TweenLite.to($("#open-board-content"),2,{scrollTo:{y:destination,autoKill:!0},ease:Power2.easeOut}),explodeAce(),!1}}return{templateUrl:"modules/animations/directives/template/ani-ace.html",restrict:"E",controller:aniAceCtrl,link:function(scope,element,attrs){}}}),angular.module("animations").directive("aniHome",function(){function aniHomeCtrl($scope){function initBeast(){momentGroup=new PIXI.DisplayObjectContainer,stage.addChild(momentGroup),drawBeast(),createHomepage()}function hideMoments(){clearTimeout(animationTimer),momentHomepage.visible=!1,__PE&&__PE.reset()}function drawBeast(){__PE&&__PE.step()}function resizeBeast(){momentGroup&&(momentGroup.x=renderer.width/2,momentGroup.y=renderer.height/2)}function passParticlesToRAF(PE){__PE=PE}function createHomepage(){function onAssetsLoaded(){initCurves(),homepageParticleContainer=new PIXI.DisplayObjectContainer,momentHomepage.addChild(homepageParticleContainer),homepageEm_CirclesOutlined=new Emitter({type:"chaos",count:50},{type:CircleOutlinedParticle,size:20,life:800,spin:[0,0],speed:[.01,.05],scale:[.25,1],colors:[16777215,16777215],fade:0,blendMode:PIXI.blendModes.NORMAL}),homepageEm_CirclesFilled=new Emitter({type:"chaos",count:50},{type:CircleFilledParticle,size:8,life:800,spin:[0,0],speed:[.01,.05],scale:[.1,1],colors:[16777215,16777215],fade:0,blendMode:PIXI.blendModes.NORMAL}),homepageEm_Triangles=new Emitter({type:"chaos",count:50},{type:PolygonParticle,size:8,numSides:3,life:1e3,spin:[-.01,.05],speed:[.01,.05],scale:[.25,1],colors:[16777215,16777215],fade:0,blendMode:PIXI.blendModes.NORMAL}),homepageEm_ThinShards=new Emitter({type:"linear",count:10,angle:-45},{type:SimpleParticle,image:"modules/animations/img/ani-home/shard3-white.png",life:1e3,spin:[0,0],speed:[.1,.2],scale:[.5,1],colors:[16777215,16777215],fade:0,blendMode:PIXI.blendModes.NORMAL}),homepageEm_CirclesTiny=new Emitter({type:"chaos",count:25},{type:CircleFilledParticle,size:4,life:800,spin:[0,0],speed:[.1,.3],scale:[.25,1],colors:[3847902,11010700],fade:.1,blendMode:PIXI.blendModes.NORMAL}),homepageEm_Triangles2=new Emitter({type:"chaos",count:10},{type:PolygonParticle,size:8,numSides:3,life:1e3,spin:[.05,.05],speed:[.15,.25],scale:[.25,1],colors:[7085798,15508252,5493911],fade:0,blendMode:PIXI.blendModes.NORMAL}),homepageEm_CirclesOutlined2=new Emitter({type:"chaos",count:10},{type:CircleOutlinedParticle,size:20,life:800,spin:[0,0],speed:[.25,.5],scale:[.25,1],colors:[8594035,8594035],fade:.4,blendMode:PIXI.blendModes.NORMAL}),homepageEmitters.push(homepageEm_CirclesOutlined),homepageEmitters.push(homepageEm_CirclesFilled),homepageEmitters.push(homepageEm_Triangles),homepageEmitters.push(homepageEm_ThinShards),homepageEmitters.push(homepageEm_CirclesTiny),homepageEmitters.push(homepageEm_Triangles2),homepageEmitters.push(homepageEm_CirclesOutlined2),homepageParticles.addEmitters(homepageEmitters),homepageParticleContainer.addChild(homepageEm_CirclesOutlined.doc),homepageParticleContainer.addChild(homepageEm_CirclesFilled.doc),homepageParticleContainer.addChild(homepageEm_Triangles.doc),homepageParticleContainer.addChild(homepageEm_ThinShards.doc),homepageParticleContainer.addChild(homepageEm_CirclesTiny.doc),homepageParticleContainer.addChild(homepageEm_Triangles2.doc),homepageParticleContainer.addChild(homepageEm_CirclesOutlined2.doc);var homepageTextureGlow=PIXI.Texture.fromImage("modules/animations/img/ani-home/glow.png"),homepageGlow=new PIXI.Sprite(homepageTextureGlow);homepageGlow.anchor.x=.5,homepageGlow.anchor.y=.5,homepageGlow.alpha=.75,momentHomepage.addChild(homepageGlow),homepageSwarmContainer1=new PIXI.DisplayObjectContainer,homepageSwarmContainer2=new PIXI.DisplayObjectContainer,homepageSwarmArray=[];for(var homepageTextureTriangle=PIXI.Texture.fromImage("modules/animations/img/ani-home/triangle2-white.png"),i=0;10>i;i++)homepageSwarmTri=new PIXI.Sprite(homepageTextureTriangle),homepageSwarmTri.anchor.x=.5,homepageSwarmTri.anchor.y=.5,homepageSwarmTri.tint=7216360,homepageSwarmArray.push(homepageSwarmTri),5>i?homepageSwarmContainer1.addChild(homepageSwarmTri):homepageSwarmContainer2.addChild(homepageSwarmTri);momentHomepage.addChild(homepageSwarmContainer1),momentHomepage.addChild(homepageSwarmContainer2);var homepageTextureAngle=PIXI.Texture.fromImage("modules/animations/img/ani-home/angle-white.png");homepageLeftWrapper=new PIXI.DisplayObjectContainer,homepageLeftInner=new PIXI.DisplayObjectContainer,homepageLeftGroup1=new PIXI.DisplayObjectContainer,homepageLeftAngle1_1=new PIXI.Sprite(homepageTextureAngle),homepageLeftAngle1_1.anchor.x=0,homepageLeftAngle1_1.anchor.y=1,homepageLeftAngle1_1.position.x=-250,homepageLeftAngle1_1.position.y=-500,homepageLeftAngle1_1.blendMode=PIXI.blendModes.MULTIPLY,homepageLeftGroup1.addChild(homepageLeftAngle1_1),homepageLeftAngle1_2=new PIXI.Sprite(homepageTextureAngle),homepageLeftAngle1_2.anchor.x=0,homepageLeftAngle1_2.anchor.y=1,homepageLeftAngle1_2.position.x=-300,homepageLeftAngle1_2.position.y=-525,homepageLeftAngle1_2.blendMode=PIXI.blendModes.MULTIPLY,homepageLeftGroup1.addChild(homepageLeftAngle1_2),homepageLeftInner.addChild(homepageLeftGroup1),homepageLeftGroup2=new PIXI.DisplayObjectContainer,homepageLeftAngle2_1=new PIXI.Sprite(homepageTextureAngle),homepageLeftAngle2_1.anchor.x=0,homepageLeftAngle2_1.anchor.y=1,homepageLeftAngle2_1.position.x=0,homepageLeftAngle2_1.position.y=100,homepageLeftAngle2_1.alpha=.5,homepageLeftAngle2_1.blendMode=PIXI.blendModes.MULTIPLY,homepageLeftGroup2.addChild(homepageLeftAngle2_1),homepageLeftAngle2_2=new PIXI.Sprite(homepageTextureAngle),homepageLeftAngle2_2.anchor.x=0,homepageLeftAngle2_2.anchor.y=1,homepageLeftAngle2_2.position.x=-150,homepageLeftAngle2_2.position.y=100,homepageLeftAngle2_2.alpha=.5,homepageLeftAngle2_2.blendMode=PIXI.blendModes.MULTIPLY,homepageLeftGroup2.addChild(homepageLeftAngle2_2),homepageLeftInner.addChild(homepageLeftGroup2),homepageLeftWrapper.addChild(homepageLeftInner),momentHomepage.addChild(homepageLeftWrapper),homepageRightWrapper=new PIXI.DisplayObjectContainer,homepageRightInner=new PIXI.DisplayObjectContainer,homepageRightGroup1=new PIXI.DisplayObjectContainer,homepageRightAngle1_1=new PIXI.Sprite(homepageTextureAngle),homepageRightAngle1_1.anchor.x=0,homepageRightAngle1_1.anchor.y=1,homepageRightAngle1_1.position.x=-250,homepageRightAngle1_1.position.y=-500,homepageRightAngle1_1.blendMode=PIXI.blendModes.MULTIPLY,homepageRightGroup1.addChild(homepageRightAngle1_1),homepageRightAngle1_2=new PIXI.Sprite(homepageTextureAngle),homepageRightAngle1_2.anchor.x=0,homepageRightAngle1_2.anchor.y=1,homepageRightAngle1_2.position.x=-300,homepageRightAngle1_2.position.y=-525,homepageRightAngle1_2.blendMode=PIXI.blendModes.MULTIPLY,homepageRightGroup1.addChild(homepageRightAngle1_2),homepageRightInner.addChild(homepageRightGroup1),homepageRightGroup2=new PIXI.DisplayObjectContainer,homepageRightAngle2_1=new PIXI.Sprite(homepageTextureAngle),homepageRightAngle2_1.anchor.x=0,homepageRightAngle2_1.anchor.y=1,homepageRightAngle2_1.position.x=0,homepageRightAngle2_1.position.y=100,homepageRightAngle2_1.alpha=.5,homepageRightAngle2_1.blendMode=PIXI.blendModes.MULTIPLY,homepageRightGroup2.addChild(homepageRightAngle2_1),homepageRightAngle2_2=new PIXI.Sprite(homepageTextureAngle),homepageRightAngle2_2.anchor.x=0,homepageRightAngle2_2.anchor.y=1,homepageRightAngle2_2.position.x=-150,homepageRightAngle2_2.position.y=100,homepageRightAngle2_2.alpha=.5,homepageRightAngle2_2.blendMode=PIXI.blendModes.MULTIPLY,homepageRightGroup2.addChild(homepageRightAngle2_2),homepageRightInner.addChild(homepageRightGroup2),homepageRightWrapper.addChild(homepageRightInner),momentHomepage.addChild(homepageRightWrapper),homepageLeft2Wrapper=new PIXI.DisplayObjectContainer,homepageLeft2Inner=new PIXI.DisplayObjectContainer,homepageLeft2Group1=new PIXI.DisplayObjectContainer,homepageLeft2Angle1_1=new PIXI.Sprite(homepageTextureAngle),homepageLeft2Angle1_1.anchor.x=0,homepageLeft2Angle1_1.anchor.y=1,homepageLeft2Angle1_1.position.x=-250,homepageLeft2Angle1_1.position.y=-500,homepageLeft2Angle1_1.blendMode=PIXI.blendModes.MULTIPLY,homepageLeft2Group1.addChild(homepageLeft2Angle1_1),homepageLeft2Angle1_2=new PIXI.Sprite(homepageTextureAngle),homepageLeft2Angle1_2.anchor.x=0,homepageLeft2Angle1_2.anchor.y=1,homepageLeft2Angle1_2.position.x=-300,homepageLeft2Angle1_2.position.y=-525,homepageLeft2Angle1_2.blendMode=PIXI.blendModes.MULTIPLY,homepageLeft2Group1.addChild(homepageLeft2Angle1_2),homepageLeft2Inner.addChild(homepageLeft2Group1),homepageLeft2Group2=new PIXI.DisplayObjectContainer,homepageLeft2Angle2_1=new PIXI.Sprite(homepageTextureAngle),homepageLeft2Angle2_1.anchor.x=0,homepageLeft2Angle2_1.anchor.y=1,homepageLeft2Angle2_1.position.x=0,homepageLeft2Angle2_1.position.y=100,homepageLeft2Angle2_1.alpha=.5,homepageLeft2Angle2_1.blendMode=PIXI.blendModes.MULTIPLY,homepageLeft2Group2.addChild(homepageLeft2Angle2_1),homepageLeft2Angle2_2=new PIXI.Sprite(homepageTextureAngle),homepageLeft2Angle2_2.anchor.x=0,homepageLeft2Angle2_2.anchor.y=1,homepageLeft2Angle2_2.position.x=-150,homepageLeft2Angle2_2.position.y=100,homepageLeft2Angle2_2.alpha=.5,homepageLeft2Angle2_2.blendMode=PIXI.blendModes.MULTIPLY,homepageLeft2Group2.addChild(homepageLeft2Angle2_2),homepageLeft2Inner.addChild(homepageLeft2Group2),homepageLeft2Wrapper.addChild(homepageLeft2Inner),momentHomepage.addChild(homepageLeft2Wrapper),homepageRight2Wrapper=new PIXI.DisplayObjectContainer,homepageRight2Inner=new PIXI.DisplayObjectContainer,homepageRight2Group1=new PIXI.DisplayObjectContainer,homepageRight2Angle1_1=new PIXI.Sprite(homepageTextureAngle),homepageRight2Angle1_1.anchor.x=0,homepageRight2Angle1_1.anchor.y=1,homepageRight2Angle1_1.position.x=-250,homepageRight2Angle1_1.position.y=-500,homepageRight2Angle1_1.blendMode=PIXI.blendModes.MULTIPLY,homepageRight2Group1.addChild(homepageRight2Angle1_1),homepageRight2Angle1_2=new PIXI.Sprite(homepageTextureAngle),homepageRight2Angle1_2.anchor.x=0,homepageRight2Angle1_2.anchor.y=1,homepageRight2Angle1_2.position.x=-300,homepageRight2Angle1_2.position.y=-525,homepageRight2Angle1_2.blendMode=PIXI.blendModes.MULTIPLY,homepageRight2Group1.addChild(homepageRight2Angle1_2),homepageRight2Inner.addChild(homepageRight2Group1),homepageRight2Group2=new PIXI.DisplayObjectContainer,homepageRight2Angle2_1=new PIXI.Sprite(homepageTextureAngle),homepageRight2Angle2_1.anchor.x=0,homepageRight2Angle2_1.anchor.y=1,homepageRight2Angle2_1.position.x=0,homepageRight2Angle2_1.position.y=100,homepageRight2Angle2_1.alpha=.5,homepageRight2Angle2_1.blendMode=PIXI.blendModes.MULTIPLY,homepageRight2Group2.addChild(homepageRight2Angle2_1),homepageRight2Angle2_2=new PIXI.Sprite(homepageTextureAngle),homepageRight2Angle2_2.anchor.x=0,homepageRight2Angle2_2.anchor.y=1,homepageRight2Angle2_2.position.x=-150,homepageRight2Angle2_2.position.y=100,homepageRight2Angle2_2.alpha=.5,homepageRight2Angle2_2.blendMode=PIXI.blendModes.MULTIPLY,homepageRight2Group2.addChild(homepageRight2Angle2_2),homepageRight2Inner.addChild(homepageRight2Group2),homepageRight2Wrapper.addChild(homepageRight2Inner),momentHomepage.addChild(homepageRight2Wrapper);var homepageTextureLogo=PIXI.Texture.fromImage("modules/animations/img/ani-home/logo.png");homepageLogo=new PIXI.Sprite(homepageTextureLogo),homepageLogo.anchor.x=.5,homepageLogo.anchor.y=.5,homepageLogo.alpha=.75,momentHomepage.addChild(homepageLogo)}momentHomepage=new PIXI.DisplayObjectContainer,momentGroup.addChild(momentHomepage);var assetsToLoader=["modules/animations/img/ani-home/angle-white.png","modules/animations/img/ani-home/shard3-white.png","modules/animations/img/ani-home/glow.png","modules/animations/img/ani-home/triangle2-white.png","modules/animations/img/ani-home/logo.png"],loader=new PIXI.AssetLoader(assetsToLoader);loader.onComplete=onAssetsLoaded,loader.load(),momentHomepage.visible=!1}function redrawHomepage(){homepageSwarmTri.tint=7216360,homepageLeftAngle1_1.tint=14227501,homepageLeftAngle1_2.tint=14227501,homepageLeftAngle2_1.tint=45807,homepageLeftAngle2_2.tint=45807,homepageRightAngle1_1.tint=14227501,homepageRightAngle1_2.tint=14227501,homepageRightAngle2_1.tint=45807,homepageRightAngle2_2.tint=45807,homepageLeft2Angle1_1.tint=14227501,homepageLeft2Angle1_2.tint=14227501,homepageLeft2Angle2_1.tint=45807,homepageLeft2Angle2_2.tint=45807,homepageRight2Angle1_1.tint=14227501,homepageRight2Angle1_2.tint=14227501,homepageRight2Angle2_1.tint=45807,homepageRight2Angle2_2.tint=45807}function explodeHomepage(){isHomepageActive=!0,hideMoments(),redrawHomepage(),TweenMax.killTweensOf(homepageLeftInner),TweenMax.killTweensOf(homepageRightInner),TweenMax.killTweensOf(homepageLeft2Inner),TweenMax.killTweensOf(homepageRight2Inner);for(var i=0;i<homepageSwarmArray.length;i++){var triangle=homepageSwarmArray[i];TweenMax.killTweensOf(triangle)}for(var em,w=window.innerWidth/2,h=window.innerHeight/2,i=0;i<homepageEmitters.length;)em=homepageEmitters[i++],em.w=w,em.h=h,em.reset();passParticlesToRAF(homepageParticles),homepageSwarmAnimation1=new TimelineMax({paused:!0,repeat:2,onRepeat:function(){var tempColor=homepageSwarmArray[0].tint;tempColor=16627731==tempColor?7216360:16627731;for(var i=0;i<homepageSwarmArray.length;i++){var triangle=homepageSwarmArray[i];triangle.tint=tempColor}}});for(var i=0;i<homepageSwarmArray.length;i++){var triangle=homepageSwarmArray[i],tempX=0,tempY=0,tempScale=.5,tempDelay=.05*i,tempAlpha=1-.15*i,tempAnchorX=.5,tempAnchorY=.5;switch(i){case 0:case 5:tempAnchorX=.5,tempAnchorY=.5;break;case 1:case 6:tempAnchorX=1.1,tempAnchorY=1.7,tempScale=.35;break;case 2:case 7:tempAnchorX=.1,tempAnchorY=1.7,tempScale=.4;break;case 3:case 8:tempAnchorX=1.25,tempAnchorY=2.25;break;case 4:case 9:tempAnchorX=-.25,tempAnchorY=2.25}5>i||(tempDelay=.05*(i-5)+.25,tempAlpha=1-.15*(i-5)),homepageSwarmAnimation1.add(TweenMax.fromTo(triangle,2,{x:tempX,y:tempY,scaleX:0,scaleY:0,alpha:0},{x:tempX,y:tempY,scaleX:tempScale,scaleY:tempScale,delay:tempDelay,alpha:tempAlpha,ease:Expo.easeInOut}),0),homepageSwarmAnimation1.add(TweenMax.fromTo(triangle,2,{anchorX:0,anchorY:0,rotation:-5},{anchorX:tempAnchorX,anchorY:tempAnchorY,rotation:0,delay:tempDelay,ease:Elastic.easeInOut}),0),homepageSwarmAnimation1.add(TweenMax.to(triangle,1,{y:400,scaleX:.85*tempScale,scaleY:.85*tempScale,delay:tempDelay,ease:Expo.easeInOut}),1.5),homepageSwarmAnimation1.add(TweenMax.to(triangle,.75,{scaleX:0,scaleY:0,anchorX:0,anchorY:0,rotation:10,alpha:0,delay:tempDelay,ease:Expo.easeIn}),2.25),homepageSwarmAnimation1.add(TweenMax.to(triangle,.1,{alpha:0}),4.9)}homepageLeftAnimX=new TimelineMax({paused:!0,repeat:2}),homepageLeftAnimX.add(TweenMax.fromTo(homepageLeftInner,2,{x:0},{x:-50,ease:Quad.easeInOut}),0),homepageLeftAnimX.add(TweenMax.to(homepageLeftInner,2,{x:0,ease:Quad.easeInOut}),2),homepageLeftAnimX.add(TweenMax.fromTo(homepageLeft2Inner,2,{x:0},{x:-50,ease:Quad.easeInOut}),0),homepageLeftAnimX.add(TweenMax.to(homepageLeft2Inner,2,{x:0,ease:Quad.easeInOut}),2),homepageRightAnimX=new TimelineMax({paused:!0,repeat:2}),homepageRightAnimX.add(TweenMax.fromTo(homepageRightInner,2,{x:0},{x:-50,ease:Quad.easeInOut}),0),homepageRightAnimX.add(TweenMax.to(homepageRightInner,2,{x:0,ease:Quad.easeInOut}),2),homepageRightAnimX.add(TweenMax.fromTo(homepageRight2Inner,2,{x:0},{x:-50,ease:Quad.easeInOut}),0),homepageRightAnimX.add(TweenMax.to(homepageRight2Inner,2,{x:0,ease:Quad.easeInOut}),2),homepageLeftAnimY=new TimelineMax({paused:!0,repeat:1}),homepageLeftAnimY.add(TweenMax.fromTo(homepageLeftInner,2,{y:200},{y:100,ease:Expo.easeInOut}),1.5),homepageLeftAnimY.add(TweenMax.to(homepageLeftInner,2,{y:200,ease:Expo.easeInOut}),5),homepageRightAnimY=new TimelineMax({paused:!0,repeat:1}),homepageRightAnimY.add(TweenMax.fromTo(homepageRightInner,2,{y:200},{y:100,ease:Expo.easeInOut}),1.5),homepageRightAnimY.add(TweenMax.to(homepageRightInner,2,{y:200,ease:Expo.easeInOut}),5),homepageLeftAnimY2=new TimelineMax({paused:!0,repeat:1}),homepageLeftAnimY2.add(TweenMax.fromTo(homepageLeft2Inner,2,{y:200,alpha:0},{y:200,alpha:1,ease:Expo.easeInOut}),1.5),homepageLeftAnimY2.add(TweenMax.to(homepageLeft2Inner,2,{alpha:0,ease:Expo.easeInOut}),5),homepageRightAnimY2=new TimelineMax({paused:!0,repeat:1}),homepageRightAnimY2.add(TweenMax.fromTo(homepageRight2Inner,2,{y:200,alpha:0},{y:200,alpha:1,ease:Expo.easeInOut}),1.5),homepageRightAnimY2.add(TweenMax.to(homepageRight2Inner,2,{alpha:0,ease:Expo.easeInOut}),5),homepageLeftAnimX.timeScale(1.5),homepageRightAnimX.timeScale(1.5),homepageLeftAnimY.timeScale(1.5),homepageRightAnimY.timeScale(1.5),homepageLeftAnimY2.timeScale(1.5),homepageRightAnimY2.timeScale(1.5),homepageSwarmAnimation1.time(0),homepageLeftAnimX.time(0),homepageRightAnimX.time(0),homepageLeftAnimY.time(0),homepageRightAnimY.time(0),homepageLeftAnimY2.time(0),homepageRightAnimY2.time(0),homepageSwarmAnimation1.play(),homepageLeftAnimX.play(),homepageRightAnimX.play(),homepageLeftAnimY.play(),homepageRightAnimY.play(),homepageLeftAnimY2.play(),homepageRightAnimY2.play(),TweenMax.fromTo(homepageLogo,2,{alpha:0},{alpha:1}),TweenMax.fromTo(homepageLeftWrapper,2,{alpha:0},{alpha:1}),TweenMax.fromTo(homepageRightWrapper,2,{alpha:0},{alpha:1}),TweenMax.fromTo(homepageLeft2Wrapper,2,{alpha:0},{alpha:1}),TweenMax.fromTo(homepageRight2Wrapper,2,{alpha:0},{alpha:1}),TweenMax.fromTo(curveGroup,2,{alpha:0},{alpha:1}),TweenMax.fromTo(homepageParticleContainer,2,{alpha:0},{alpha:1}),resizeHomepage(),momentHomepage.visible=!0;setTimeout(destroyHomepage,8e3)}function destroyHomepage(){TweenMax.to(homepageLeftWrapper,2,{alpha:0}),TweenMax.to(homepageRightWrapper,2,{alpha:0}),TweenMax.to(homepageLeft2Wrapper,2,{alpha:0}),TweenMax.to(homepageRight2Wrapper,2,{alpha:0}),TweenMax.to(curveGroup,2,{alpha:0}),TweenMax.to(homepageLogo,2,{alpha:0}),TweenMax.to(homepageParticleContainer,2,{alpha:0,onComplete:function(){isHomepageActive=!1,TweenMax.set(["#visualizer"],{display:"none"})}});setTimeout(hideMoments,2e3)}function resizeHomepage(){resizeCurves();var posX=renderer.width/2,posY=renderer.height/2,scaleRatio=Math.max(window.innerWidth/1920,window.innerHeight/1e3),triPosX=350*scaleRatio,triPosY=200*scaleRatio;350>triPosX&&(triPosX=350);var triScale=scaleRatio+.5;TweenMax.set(homepageSwarmContainer1,{x:-triPosX,y:triPosY,scaleX:triScale,scaleY:triScale,rotation:-210*toRAD}),TweenMax.set(homepageSwarmContainer2,{x:triPosX,y:-triPosY,scaleX:triScale,scaleY:triScale,rotation:-30*toRAD}),homepageLeftWrapper.position.x=-posX,homepageLeftWrapper.position.y=posY,TweenMax.set(homepageLeftWrapper,{scaleX:scaleRatio,scaleY:scaleRatio}),homepageLeft2Wrapper.position.x=-posX,homepageLeft2Wrapper.position.y=posY,TweenMax.set(homepageLeft2Wrapper,{scaleX:scaleRatio,scaleY:scaleRatio}),homepageRightWrapper.position.x=posX,homepageRightWrapper.position.y=-posY,TweenMax.set(homepageRightWrapper,{scaleX:scaleRatio,scaleY:scaleRatio,rotation:180*toRAD}),homepageRight2Wrapper.position.x=posX,homepageRight2Wrapper.position.y=-posY,TweenMax.set(homepageRight2Wrapper,{scaleX:scaleRatio,scaleY:scaleRatio,rotation:180*toRAD})}function initCurves(){curveGroup=new PIXI.DisplayObjectContainer,momentHomepage.addChild(curveGroup),xstep=renderer.width/SEGMENT_COUNT;for(var i=0;CURVE_COUNT>i;i++){var curve=new PIXI.Graphics;curveGroup.addChild(curve),curves.push(curve);var thisCurvePts=[];curvePts.push(thisCurvePts);for(var xpos=-renderer.width/2,j=0;SEGMENT_COUNT>=j;j++){var pt=getRandomPt(xpos);thisCurvePts.push(pt),xpos+=xstep}}drawCurves()}function resizeCurves(){if(curveGroup){xstep=renderer.width/SEGMENT_COUNT;for(var i=0;CURVE_COUNT>i;i++)for(var thisCurvePts=curvePts[i],xpos=-renderer.width/2,j=0;SEGMENT_COUNT>=j;j++)thisCurvePts[j].x=xpos,xpos+=xstep}}function drawCurves(){for(var i=0;CURVE_COUNT>i;i++){for(var curve=curves[i],thisCurvePts=curvePts[i],j=0;SEGMENT_COUNT>=j;j++)thisCurvePts[j].y=200*simplexNoise.noise(noiseTime+j/8,i/8);curve.clear(),curveOpacity>0?curve.beginFill(COLORS[i],curveOpacity):curve.lineStyle(1,13421772,1),curve.moveTo(thisCurvePts[0].x,thisCurvePts[0].y);for(var j=1;SEGMENT_COUNT-2>=j;j++){var xc=(thisCurvePts[j].x+thisCurvePts[j+1].x)/2,yc=(thisCurvePts[j].y+thisCurvePts[j+1].y)/2;curve.quadraticCurveTo(thisCurvePts[j].x,thisCurvePts[j].y,xc,yc)}curve.quadraticCurveTo(thisCurvePts[j].x,thisCurvePts[j].y,thisCurvePts[j+1].x,thisCurvePts[j+1].y),curveOpacity>0&&(curve.lineTo(thisCurvePts[j+1].x,300),curve.lineTo(thisCurvePts[0].x,300),curve.lineTo(thisCurvePts[0].x,thisCurvePts[0].y),curve.endFill())}}function getRandomPt(xpos){var yRange=renderer.height/2;return new PIXI.Point(xpos,ATUtil.randomRange(-yRange,yRange))}function init(){stage=new PIXI.Stage(16185078),renderer=new PIXI.autoDetectRenderer(800,600,null,!1,!0),$("#visualizer").append(renderer.view);var vizGroup=new PIXI.DisplayObjectContainer;stage.addChild(vizGroup),initBeast(),$(window).resize(onResize),$(window).scroll(onScroll),onResize(),requestAnimFrame(animate),TweenMax.set(["#visualizer"],{display:"none"})}function onScroll(){updateViewportRect()}function animate(){renderer.render(stage),requestAnimationFrame(animate),isHomepageActive&&(drawCurves(),noiseTime+=.002),drawBeast()}function onResize(){renderer.resize(.9*window.innerWidth,.9*window.innerHeight),resizeBeast()}var renderer,stage,momentGroup,momentHomepage,animationTimer,homepageParticleContainer,homepageEm_CirclesOutlined,homepageEm_CirclesFilled,homepageEm_Triangles,homepageEm_ThinShards,homepageEm_CirclesTiny,homepageEm_Triangles2,homepageEm_CirclesOutlined2,homepageLeftInner,homepageRightInner,homepageLeft2Inner,homepageRight2Inner,homepageSwarmArray,homepageLeftGroup1,homepageLeftGroup2,homepageRightGroup1,homepageRightGroup2,homepageLeft2Group2,homepageRight2Group1,homepageRight2Group2,homepageLogo,homepageSwarmAnimation1,homepageLeftAnimX,homepageLeft2Wrapper,homepageLeft2Group1,homepageRight2Wrapper,homepageRightAnimX,homepageLeftAnimY,homepageRightAnimY,homepageLeftAnimY2,homepageRightAnimY2,homepageLeftWrapper,homepageRightWrapper,homepageSwarmContainer1,homepageSwarmContainer2,homepageSwarmTri,homepageLeftAngle1_1,homepageLeftAngle1_2,homepageLeftAngle2_1,homepageLeftAngle2_2,homepageRightAngle1_1,homepageRightAngle1_2,homepageRightAngle2_1,homepageRightAngle2_2,homepageLeft2Angle1_1,homepageLeft2Angle1_2,homepageLeft2Angle2_1,homepageLeft2Angle2_2,homepageRight2Angle1_1,homepageRight2Angle1_2,homepageRight2Angle2_1,homepageRight2Angle2_2,__PE,xstep,curveGroup,homepageParticles=new ParticleEngine(window.innerWidth/2,window.innerHeight/2),homepageEmitters=[],isHomepageActive=!1,simplexNoise=new SimplexNoise,noiseTime=0,ATUtil={randomRange:function(min,max){return min+Math.random()*(max-min)},randomInt:function(min,max){return Math.floor(min+Math.random()*(max-min+1))},map:function(value,min1,max1,min2,max2){return ATUtil.lerp(ATUtil.norm(value,min1,max1),min2,max2)},lerp:function(value,min,max){return min+(max-min)*value},norm:function(value,min,max){return(value-min)/(max-min)},shuffle:function(o){for(var j,x,i=o.length;i;j=parseInt(Math.random()*i),x=o[--i],o[i]=o[j],o[j]=x);return o},clamp:function(value,min,max){return Math.max(Math.min(value,max),min)}},CURVE_COUNT=3,SEGMENT_COUNT=6,curves=[],curvePts=[],curveOpacity=0;init(),$scope.home=function(){TweenMax.set(["#visualizer"],{display:"block"});var target=$("#webAni"),destination=target.offset().top;return TweenLite.to($("#open-board-content"),2,{scrollTo:{y:destination,autoKill:!0},ease:Power2.easeOut}),explodeHomepage(),!1}}return{templateUrl:"modules/animations/directives/template/ani-home.html",restrict:"E",controller:aniHomeCtrl,link:function(scope,element,attrs){}}}),angular.module("animations").directive("cubeDial",[function(){function cubeDialCtrl(){}return{template:"<div></div>",restrict:"E",
controller:cubeDialCtrl,link:function(scope,element,attrs){function init(){TweenMax.set(container,{width:"100%",height:"auto"}),TweenMax.set(nullObject,{position:"absolute",x:0}),container.append(nullObject),createFaces(),createDialGraphics(),createDial(),setCubeDraggable(initialFace),setDialDraggable(),createPerspectiveSlider()}function createDialGraphics(){var dialGraphic=angular.element("<div></div>");dialGraphic.addClass("dial-graphic"),TweenMax.set(dialGraphic,{position:"absolute",left:"50%",top:"41%",xPercent:-50,width:dialWidth,height:dialHeight,overflow:"hidden",backgroundImage:"url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/greenDial.png)",zIndex:1999}),container.append(dialGraphic)}function createDial(){dial=angular.element("<div></div>"),dial.addClass("dial"),TweenMax.set(dial,{position:"absolute",left:"50%",top:"41%",xPercent:-50,width:dialWidth,height:dialHeight,backgroundColor:"rgba(0,0,0,0)",zIndex:2e3,z:-0});for(var dialNumContainer,dialNum,i=0;numFaces>i;i++)dialNumContainer=angular.element("<div></div>"),dialNum=angular.element("<div></div>"),dialNum.addClass("dial-number"),dialNum.html(i),TweenMax.set(dialNumContainer,{position:"absolute",x:dialWidth/2-10,y:30,width:20,height:20,rotation:rotationStep*i,textAlign:"center",transformOrigin:"50% 120px"}),TweenMax.set(dialNum,{position:"absolute",width:20,height:20,fontSize:20,textAlign:"center",color:"white",fontFamily:"Arial, Helvetica, sans-serif"}),dialNum.initRotation=rotationStep*i,dialNumContainer.append(dialNum),dial.append(dialNumContainer);element.append(dial),setNumberRotation()}function createFaces(){for(var face,faceText,i=0;numFaces>i;i++)face=document.createElement("div"),faceText=document.createElement("h1"),face.className="face",TweenMax.set(face,{left:"50%",top:"40%",xPercent:-50,yPercent:-70,position:"absolute",width:faceWidth,height:faceHeight,overflow:"hidden",zIndex:-i,transformPerspective:dynamicPerspective,transformOrigin:"50% 50% "+-faceZOrigin+"px",backgroundImage:"url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/greenBox.png)",rotationY:i*rotationStep,z:-0,color:"white"}),face.initRotationX=0,face.initRotationY=i*rotationStep,faceArray.push(face),face.appendChild(faceText),container.append(face),$(".face h1").eq(0).addClass("cubeTextTitle").text("Swipe Me")}function setDialDraggable(){myDialDraggable=Draggable.create(dial,{type:"rotation",dragResistance:.4,maxDuration:1,throwResistance:0,throwProps:!0,onDrag:onDialDrag,onPress:setPressed,onThrowUpdate:onDialDrag,onThrowComplete:onThrowComplete,ease:Back.easeOut.config(.3),snap:function(endValue){return Math.round(endValue/rotationStep)*rotationStep}})}function setCubeDraggable(id){var myCubeDraggable=null;myCubeDraggable=Draggable.create(nullObject,{type:"x, y",lockAxis:!0,trigger:container,dragResistance:.97,throwResistance:1e3,maxDuration:1,throwProps:!0,onDrag:onCubeDrag,onPress:setPressed,zIndexBoost:!1,onThrowUpdate:onCubeDrag,onThrowComplete:onThrowComplete,ease:Back.easeOut.config(.3),snap:{x:function(endValue){return Math.round(endValue/rotationStep)*rotationStep}}})}function setPressed(){pressedElement=this.target}function onDialDrag(){$(dial)[0]._gsTransform.rotation=$(dial)[0]._gsTransform.rotation%fullRotation,TweenMax.set(nullObject,{x:$(dial)[0]._gsTransform.rotation,onUpdate:onCubeDrag}),setNumberRotation()}function onCubeDrag(){var destX,pagePos,destAlpha,destZIndex,i=-1;for(destX=$(nullObject)[0]._gsTransform.x%fullRotation;++i<numFaces;)pagePos=(faceArray[i].initRotationY+$(nullObject)[0]._gsTransform.x)/180,pagePos>1&&(pagePos=2-pagePos),0>pagePos&&(pagePos=-pagePos),destAlpha=1-pagePos,0>destAlpha&&(destAlpha=-destAlpha),destAlpha>1&&(destAlpha=2-destAlpha),destZIndex=Math.round(destAlpha*fullRotation),TweenMax.set(faceArray[i],{rotationY:faceArray[i].initRotationY+destX,ease:Power1.easeOut,zIndex:destZIndex,alpha:destAlpha,force3D:!0});"dial"!==pressedElement.className&&TweenMax.set(dial,{rotation:destX,onUpdate:setNumberRotation})}function createPerspectiveSlider(){var sliderHolder=document.createElement("div"),sliderLabel=document.createElement("p");sliderLabel.innerHTML="Drag to change perspective",TweenMax.set(sliderHolder,{position:"absolute",left:"50%",top:"18%",y:400,xPercent:-50,yPercent:-150,width:400,height:60,backgroundColor:"rgba(118,146,57, 1)",borderRadius:50}),TweenMax.set(sliderLabel,{position:"absolute",x:0,y:0,width:400,height:20,textAlign:"center",fontSize:20,fontWeight:100,color:"white",fontFamily:"Arial, Helvetica, sans-serif"});var sliderDragger=document.createElement("div");TweenMax.set(sliderDragger,{position:"absolute",x:10,y:10,width:40,height:40,backgroundColor:"rgba(56,56,57, 1)",borderRadius:"50%"}),sliderHolder.appendChild(sliderLabel),sliderHolder.appendChild(sliderDragger),container.append(sliderHolder),Draggable.create(sliderDragger,{type:"x",bounds:{minX:10,maxX:390-sliderDragger.clientWidth},onDrag:function(){var dragPercent=(this.x-10)/340*100;TweenMax.to(faceArray,1,{transformPerspective:0!==dragPercent?dragPercent*dynamicPerspective:dynamicPerspective})}})}function onThrowComplete(){var itemId=-Math.round(nullObject._gsTransform.x/rotationStep);itemId=0>itemId?itemId%numFaces+numFaces:itemId,itemId=itemId>numFaces-1?itemId%numFaces:itemId,currentFace=faceArray[itemId];var posX=Math.round(Math.abs(nullObject._gsTransform.x));posX>=fullRotation&&TweenMax.set(nullObject,{x:fullRotation-itemId*rotationStep,onUpdate:onCubeDrag})}function getZOrigin(){var faceZOrigin=Math.round(faceWidth/2/Math.tan(DegreesToRadians(rotationStep/2)));return faceZOrigin}function DegreesToRadians(valDeg){return 2*Math.PI/fullRotation*valDeg}function getPerspective(){return rotationStep/fullRotation*2500}function setNumberRotation(){for(var currNum,dialCopy=$(dial)[0],i=document.getElementsByClassName("dial-number").length;--i>-1;)currNum=document.getElementsByClassName("dial-number")[i],TweenMax.set(currNum,{rotation:-dialCopy._gsTransform.rotation-currNum.initRotation})}var dialWidth,dialHeight,isDevice,interactionUp,interactionDown,interactionOut,interactionOver,interactionMove,numFaces,faceWidth,faceHeight,pressedElement,currentFace,myDialDraggable,initialFace,faceArray=[],container=element.find("div"),nullObject=angular.element("<div></div>");nullObject.addClass("null-object");{var isDevice=/android|webos|iphone|ipad|ipod|blackberry/i.test(navigator.userAgent.toLowerCase());/android/i.test(navigator.userAgent.toLowerCase())}isDevice?(interactionUp="touchend",interactionDown="touchstart",interactionOut=interactionUp,interactionOver=interactionDown,interactionMove="touchmove"):(interactionUp="mouseup",interactionDown="mousedown",interactionOut="mouseout",interactionOver="mouseover",interactionMove="mousemove");var dial;numFaces=6,initialFace=0;var fullRotation=360,rotationStep=fullRotation/numFaces;faceWidth=600,faceHeight=350,dialWidth=300,dialHeight=300;var faceZOrigin=getZOrigin(),dynamicPerspective=getPerspective();init()}}}]),angular.module("animations").directive("meanAni",meanAni).directive("meanAni2",meanAni2).directive("meanAni3",meanAni3).directive("meanAni4",meanAni4).directive("pixiMenu",pixiMenu).directive("mainMenu",mainMenu),angular.module("animations").directive("statusBar",statusBar),angular.module("animations").directive("statusBarSvg",statusBarSvg),angular.module("articles").run(["Menus",function(Menus){}]),angular.module("articles").config(["$stateProvider",function($stateProvider){$stateProvider.state("listArticles",{url:"/articles",templateUrl:"modules/articles/views/list-articles.client.view.html"}).state("createArticle",{url:"/articles/create",templateUrl:"modules/articles/views/create-article.client.view.html"}).state("viewArticle",{url:"/articles/:articleId",templateUrl:"modules/articles/views/view-article.client.view.html"}).state("editArticle",{url:"/articles/:articleId/edit",templateUrl:"modules/articles/views/edit-article.client.view.html"})}]),angular.module("articles").controller("ArticlesController",["$scope","$stateParams","$location","$http","$sce","Authentication","Articles",function($scope,$stateParams,$location,$http,$sce,Authentication,Articles){$scope.authentication=Authentication,$scope.docTypes=[{name:"Project"},{name:"Article"},{name:"Information"}],$scope.docType=2,$scope.radioData=[{label:"Information",value:1},{label:"Article",value:2},{label:"Project",value:3}],$scope.create=function(){var article=new Articles({title:$scope.title,docType:$scope.docType,content:$scope.content});article.$save(function(response){$location.path("articles/"+response._id),$scope.title="",$scope.type="",$scope.content=""},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.remove=function(article){if(article){article.$remove();for(var i in $scope.articles)$scope.articles[i]===article&&$scope.articles.splice(i,1)}else $scope.article.$remove(function(){$location.path("articles")})},$scope.update=function(){var article=$scope.article;article.$update(function(){$location.path("articles/"+article._id)},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.find=function(){$scope.articles=Articles.query()},$scope.findOne=function(){$scope.article=Articles.get({articleId:$stateParams.articleId},function(data){console.log(data),data.content=$sce.trustAsHtml(data.content)})}}]),angular.module("articles").factory("Articles",["$resource",function($resource){return $resource("articles/:articleId",{articleId:"@_id"},{update:{method:"PUT"}})}]),angular.module("core").config(["$stateProvider","$urlRouterProvider","$compileProvider","hljsServiceProvider",function($stateProvider,$urlRouterProvider,$compileProvider,hljsServiceProvider){$compileProvider.debugInfoEnabled(!0),hljsServiceProvider.setOptions({tabReplace:"    "}),$urlRouterProvider.otherwise("/"),$stateProvider.state("link-list",{url:"/link-list",templateUrl:"modules/core/views/link-list.client.view.html"}).state("home",{url:"/dev",templateUrl:"modules/core/views/home.client.view.html"})}]).constant("devConfig",{directive:"red"}).constant("clientTokenPath","eyJ2ZXJzaW9uIjoyLCJhdXRob3JpemF0aW9uRmluZ2VycHJpbnQiOiIyYmFjOWMxNjE4ZjA3Mzg2YjFmNjRkYTk1Mjc1MTliOWQ3NzMyMjIxOTIxOWUzZDgzOGI4MDVlZWExYzBkY2JhfGNyZWF0ZWRfYXQ9MjAxNS0wMy0wNlQxOTo1NToxOC45MTE2MTMxMjcrMDAwMFx1MDAyNm1lcmNoYW50X2lkPWRjcHNweTJicndkanIzcW5cdTAwMjZwdWJsaWNfa2V5PTl3d3J6cWszdnIzdDRuYzgiLCJjb25maWdVcmwiOiJodHRwczovL2FwaS5zYW5kYm94LmJyYWludHJlZWdhdGV3YXkuY29tOjQ0My9tZXJjaGFudHMvZGNwc3B5MmJyd2RqcjNxbi9jbGllbnRfYXBpL3YxL2NvbmZpZ3VyYXRpb24iLCJjaGFsbGVuZ2VzIjpbXSwiY2xpZW50QXBpVXJsIjoiaHR0cHM6Ly9hcGkuc2FuZGJveC5icmFpbnRyZWVnYXRld2F5LmNvbTo0NDMvbWVyY2hhbnRzL2RjcHNweTJicndkanIzcW4vY2xpZW50X2FwaSIsImFzc2V0c1VybCI6Imh0dHBzOi8vYXNzZXRzLmJyYWludHJlZWdhdGV3YXkuY29tIiwiYXV0aFVybCI6Imh0dHBzOi8vYXV0aC52ZW5tby5zYW5kYm94LmJyYWludHJlZWdhdGV3YXkuY29tIiwiYW5hbHl0aWNzIjp7InVybCI6Imh0dHBzOi8vY2xpZW50LWFuYWx5dGljcy5zYW5kYm94LmJyYWludHJlZWdhdGV3YXkuY29tIn0sInRocmVlRFNlY3VyZUVuYWJsZWQiOnRydWUsInRocmVlRFNlY3VyZSI6eyJsb29rdXBVcmwiOiJodHRwczovL2FwaS5zYW5kYm94LmJyYWludHJlZWdhdGV3YXkuY29tOjQ0My9tZXJjaGFudHMvZGNwc3B5MmJyd2RqcjNxbi90aHJlZV9kX3NlY3VyZS9sb29rdXAifSwicGF5cGFsRW5hYmxlZCI6dHJ1ZSwicGF5cGFsIjp7ImRpc3BsYXlOYW1lIjoiQWNtZSBXaWRnZXRzLCBMdGQuIChTYW5kYm94KSIsImNsaWVudElkIjpudWxsLCJwcml2YWN5VXJsIjoiaHR0cDovL2V4YW1wbGUuY29tL3BwIiwidXNlckFncmVlbWVudFVybCI6Imh0dHA6Ly9leGFtcGxlLmNvbS90b3MiLCJiYXNlVXJsIjoiaHR0cHM6Ly9hc3NldHMuYnJhaW50cmVlZ2F0ZXdheS5jb20iLCJhc3NldHNVcmwiOiJodHRwczovL2NoZWNrb3V0LnBheXBhbC5jb20iLCJkaXJlY3RCYXNlVXJsIjpudWxsLCJhbGxvd0h0dHAiOnRydWUsImVudmlyb25tZW50Tm9OZXR3b3JrIjp0cnVlLCJlbnZpcm9ubWVudCI6Im9mZmxpbmUiLCJ1bnZldHRlZE1lcmNoYW50IjpmYWxzZSwibWVyY2hhbnRBY2NvdW50SWQiOiJzdGNoMm5mZGZ3c3p5dHc1IiwiY3VycmVuY3lJc29Db2RlIjoiVVNEIn0sImNvaW5iYXNlRW5hYmxlZCI6dHJ1ZSwiY29pbmJhc2UiOnsiY2xpZW50SWQiOiIxMWQyNzIyOWJhNThiNTZkN2UzYzAxYTA1MjdmNGQ1YjQ0NmQ0ZjY4NDgxN2NiNjIzZDI1NWI1NzNhZGRjNTliIiwibWVyY2hhbnRBY2NvdW50IjoiY29pbmJhc2UtZGV2ZWxvcG1lbnQtbWVyY2hhbnRAZ2V0YnJhaW50cmVlLmNvbSIsInNjb3BlcyI6ImF1dGhvcml6YXRpb25zOmJyYWludHJlZSB1c2VyIiwicmVkaXJlY3RVcmwiOiJodHRwczovL2Fzc2V0cy5icmFpbnRyZWVnYXRld2F5LmNvbS9jb2luYmFzZS9vYXV0aC9yZWRpcmVjdC1sYW5kaW5nLmh0bWwifSwibWVyY2hhbnRJZCI6ImRjcHNweTJicndkanIzcW4iLCJ2ZW5tbyI6Im9mZmxpbmUiLCJhcHBsZVBheSI6eyJzdGF0dXMiOiJtb2NrIiwiY291bnRyeUNvZGUiOiJVUyIsImN1cnJlbmN5Q29kZSI6IlVTRCIsIm1lcmNoYW50SWRlbnRpZmllciI6Im1lcmNoYW50LmNvbS5icmFpbnRyZWVwYXltZW50cy5kZXYtZGNvcGVsYW5kIiwic3VwcG9ydGVkTmV0d29ya3MiOlsidmlzYSIsIm1hc3RlcmNhcmQiLCJhbWV4Il19fQ=="),angular.module("ui.tinymce",[]).value("uiTinymceConfig",{plugins:"image, link, fullscreen, code, table, contextmenu, media",contextmenu:"link media image inserttable | cell row column deletetable",image_advtab:!0,image_class_list:[{title:"Responsive Size",value:"img-responsive"}],fullscreen_new_window:!0,fullscreen_settings:{theme_advanced_path_location:"top"}}).directive("uiTinymce",["uiTinymceConfig",function(uiTinymceConfig){uiTinymceConfig=uiTinymceConfig||{};var generatedIds=0;return{require:"ngModel",link:function(scope,elm,attrs,ngModel){var expression,options,tinyInstance;attrs.id||attrs.$set("id","uiTinymce"+generatedIds++),options={setup:function(ed){ed.on("init",function(args){ngModel.$render()}),ed.on("ExecCommand",function(e){ed.save(),ngModel.$setViewValue(elm.val()),scope.$$phase||scope.$apply()}),ed.on("KeyUp",function(e){console.log(ed.isDirty()),ed.save(),ngModel.$setViewValue(elm.val()),scope.$$phase||scope.$apply()})},mode:"exact",elements:attrs.id},expression=attrs.uiTinymce?scope.$eval(attrs.uiTinymce):{},angular.extend(options,uiTinymceConfig,expression),setTimeout(function(){tinymce.init(options)}),ngModel.$render=function(){tinyInstance||(tinyInstance=tinymce.get(attrs.id)),tinyInstance&&tinyInstance.setContent(ngModel.$viewValue||"")}}}}]),angular.module("core").run(function($rootScope){}).controller("CoreHeadController",["$scope","$rootScope","$window","$log","$mdSidenav","$location","$state","$timeout","Authentication","D2lClassesOwnership",function($scope,$rootScope,$window,$log,$mdSidenav,$location,$state,$timeout,Authentication,D2lClassesOwnership){function buildGridModel(tileTmpl){for(var it,results=[],j=0;6>j;j++){switch(it=angular.extend({},tileTmpl),it.icon=it.icon+(j+1),it.span={row:"1",col:"1"},j+1){case 1:it.ifCondition="Authentication.user",it.id="profile",it.background="red",it.title="Profile",it.span.row=it.span.col=2;break;case 2:it.ifCondition="!Authentication.user",it.id="signIn",it.title="Sign In",it.background="green",it.span.row=it.span.col=1;break;case 3:it.ifCondition="Authentication.user",it.id="signOut",it.title="Sign Out",it.background="darkBlue";break;case 4:it.ifCondition=!0,it.id="tutorial",it.title="Tutorial",it.background="blue",it.span.col=2;break;case 5:it.ifCondition="Authentication.user",it.id="urClass",it.background="yellow",it.span.col=2,it.title="Your Classes";break;case 6:it.ifCondition="Authentication.user",it.id="allClass",it.background="red",it.span.col=2,it.title="All Classes"}results.push(it)}return results}$scope.authentication=Authentication,$scope.title="Open Board",$scope.subTitle="",$scope.link="",$scope.classroom=!1,$scope.goTo=function(name){$state.go(name),$scope.close()},$scope.close=function(){$mdSidenav("left").close().then(function(){$log.debug("left is done")})},$scope.toggleLeft=function(){$mdSidenav("left").toggle().then(function(){$log.debug("toggle left is done")})},$scope.toggleRight=function(){$mdSidenav("right").toggle().then(function(){$log.debug("toggle RIGHT is done")})},$scope.change=function(){console.log("changed"),void 0!==user._id&&$location.path("/d2l-classes/"+user._id)},$scope.loadUsers=function(){return $timeout(function(){$scope.users=D2lClassesOwnership.query()},650)},$scope.tiles=buildGridModel({icon:"avatar:svg-",title:"Svg-",background:""}),$rootScope.$on("$stateChangeStart",function(event,toState,toParams){console.log("closed"),"openboard"===toState.name?($scope.title="Getting Started",$scope.subTitle="Tutorial"):"mean-home"===toState.name?($scope.title="Open Board",$scope.subTitle=" "):"d2l-home"===toState.name?($scope.title="Classroom",$scope.subTitle=" "):"listD2lClasses"===toState.name?($scope.title="Class List",$scope.subTitle="Select a Class"):"profile"===toState.name&&($scope.title="Profile",$scope.subTitle="Edit Profile")}),$scope.sliderNavEvent=function(name,target){var targetEl=$("#"+target+" figure md-grid-tile-footer h3");TweenLite.from(targetEl,.8,{scale:1.7}),$mdSidenav("left").close().then(function(){$log.debug("close LEFT is done")}),console.log(name),"Your Classes"===name?$state.go("listD2lClasses"):"Profile"===name?$state.go("profile"):"Tutorial"===name?$state.go("openboard"):"All Classes"===name?$state.go("listD2lClassesAll"):"Sign In"===name?(console.log("sign in "),$location.path("/signin")):"Sign Out"===name&&($window.location.href="auth/signout")}}]),angular.module("core").controller("HeaderController",["$scope","Authentication","Menus",function($scope,Authentication,Menus){$scope.authentication=Authentication,$scope.isCollapsed=!1,$scope.menu=Menus.getMenu("topbar"),$scope.toggleCollapsibleMenu=function(){$scope.isCollapsed=!$scope.isCollapsed},$scope.$on("$stateChangeSuccess",function(){$scope.isCollapsed=!1}),$(document).on("scroll",function(){console.log("11111"),$(document).scrollTop()>150?TweenMax.to($("header"),1,{y:-51}):TweenMax.set($("header"),{y:0})})}]),angular.module("core").controller("HomeController",["$scope","Authentication",function($scope,Authentication,YT_event){$scope.authentication=Authentication,$scope.firstJumbo="first-jumbo-content",$scope.secondJumbo="second-jumbo-content",$scope.thirdJumbo="third-jumbo-content";var texts=angular.element(document.querySelector(".core-text-anni")),tl=new TimelineMax({repeat:6,repeatDelay:1,yoyo:!0});tl.staggerTo(texts,.2,{className:"+=superShadow",top:"-=10px",ease:Power1.easeIn},"0.3","start")}]),angular.module("core").controller("LinklistController",["$scope",function($scope){$scope.modules=[{name:"Animation",links:[{linkName:"svg1",linkHref:"/#!/svg1"},{linkName:"ryuhm12",linkHref:"/#!/ryuhm12"},{linkName:"j1",linkHref:"/#!/j1"},{linkName:"three",linkHref:"/#!/three"}]},{name:"Banners",links:[{linkName:"List",linkHref:"/#!/banners"},{linkName:"Create",linkHref:"/#!/banners/create"},{linkName:"Banner",linkHref:"/#!/banners/:bannerId"},{linkName:"Edit",linkHref:"/#!/banners/:bannerId/edit"}]},{name:"Core",links:[{linkName:"Dev",linkHref:"/#!/dev"}]},{name:"SDSUMAP",links:[{linkName:"SDSU Map",linkHref:"/#!/sdsumap-main"}]},{name:"Spec-view",links:[{linkName:"Jarvis",linkHref:"/#!/jarvis"},{linkName:"Spec Home",linkHref:"/#!/spec-home"}]},{name:"Tj-main",links:[{linkName:"tj-main",linkHref:"/#!/tj-main"}]},{name:"User-interface",links:[{linkName:"MCMU",linkHref:"/#!/mcmu"},{linkName:"Front -1 ",linkHref:"/#!/front-1"},{linkName:"Experimental Interface",linkHref:"/#!/experimental-interface"},{linkName:"Product List",linkHref:"/#!/"},{linkName:"detail-product",linkHref:"/#!/detail-product/:productId"}]},{name:"Utility",links:[{linkName:"test-page-generator",linkHref:"/#!/test-page-generator"}]}]}]),angular.module("core").controller("PlanController",["$scope","$element","Authentication","Getplans",function($scope,$element,Authentication,Getplans){$scope.find=function(){$scope.plans=Getplans.query()},$scope.find()}]),angular.module("core").factory("Getplans",["$resource",function($resource){return $resource("/articles",{userID:"@_id"},{update:{method:"GET"}})}]),angular.module("core").service("Menus",[function(){this.defaultRoles=["*"],this.menus={};var shouldRender=function(user){if(!user)return this.isPublic;if(~this.roles.indexOf("*"))return!0;for(var userRoleIndex in user.roles)for(var roleIndex in this.roles)if(this.roles[roleIndex]===user.roles[userRoleIndex])return!0;return!1};this.validateMenuExistance=function(menuId){if(menuId&&menuId.length){if(this.menus[menuId])return!0;throw new Error("Menu does not exists")}throw new Error("MenuId was not provided")},this.getMenu=function(menuId){return this.validateMenuExistance(menuId),this.menus[menuId]},this.addMenu=function(menuId,isPublic,roles){return this.menus[menuId]={isPublic:isPublic||!1,roles:roles||this.defaultRoles,items:[],shouldRender:shouldRender},this.menus[menuId]},this.removeMenu=function(menuId){this.validateMenuExistance(menuId),delete this.menus[menuId]},this.addMenuItem=function(menuId,menuItemTitle,menuItemURL,menuItemType,menuItemUIRoute,isPublic,roles,position){return this.validateMenuExistance(menuId),this.menus[menuId].items.push({title:menuItemTitle,link:menuItemURL,menuItemType:menuItemType||"item",menuItemClass:menuItemType,uiRoute:menuItemUIRoute||"/"+menuItemURL,isPublic:null===isPublic||"undefined"==typeof isPublic?this.menus[menuId].isPublic:isPublic,roles:null===roles||"undefined"==typeof roles?this.menus[menuId].roles:roles,position:position||0,items:[],shouldRender:shouldRender}),this.menus[menuId]},this.addSubMenuItem=function(menuId,rootMenuItemURL,menuItemTitle,menuItemURL,menuItemUIRoute,isPublic,roles,position){this.validateMenuExistance(menuId);for(var itemIndex in this.menus[menuId].items)this.menus[menuId].items[itemIndex].link===rootMenuItemURL&&this.menus[menuId].items[itemIndex].items.push({title:menuItemTitle,link:menuItemURL,uiRoute:menuItemUIRoute||"/"+menuItemURL,isPublic:null===isPublic||"undefined"==typeof isPublic?this.menus[menuId].items[itemIndex].isPublic:isPublic,roles:null===roles||"undefined"==typeof roles?this.menus[menuId].items[itemIndex].roles:roles,position:position||0,shouldRender:shouldRender});return this.menus[menuId]},this.removeMenuItem=function(menuId,menuItemURL){this.validateMenuExistance(menuId);for(var itemIndex in this.menus[menuId].items)this.menus[menuId].items[itemIndex].link===menuItemURL&&this.menus[menuId].items.splice(itemIndex,1);return this.menus[menuId]},this.removeSubMenuItem=function(menuId,submenuItemURL){this.validateMenuExistance(menuId);for(var itemIndex in this.menus[menuId].items)for(var subitemIndex in this.menus[menuId].items[itemIndex].items)this.menus[menuId].items[itemIndex].items[subitemIndex].link===submenuItemURL&&this.menus[menuId].items[itemIndex].items.splice(subitemIndex,1);return this.menus[menuId]},this.addMenu("topbar")}]),angular.module("d2l-ads").config(["$stateProvider",function($stateProvider){$stateProvider.state("ads2",{url:"/ads2",templateUrl:"modules/d2l-ads/views/ads2.client.view.html"}).state("ads1",{url:"/ads1",templateUrl:"modules/d2l-ads/views/ads1.client.view.html"})}]),angular.module("d2l-ads").controller("Ads1Controller",["$scope",function($scope){$scope.date={month:moment().format("MMM").toUpperCase(),date:moment().date(),year:moment().year()},$scope.animationC1=function(){var c=$(".ad1-calendarHolder");TweenMax.to(c,.6,{x:0,y:0,scale:.4,transformOrigin:"50% 50%"})},$scope.animationC2=function(){var c=$(".ad1-calendarHolder");TweenMax.to(c,.6,{x:0,y:0,scale:1,transformOrigin:"50% 50%"})},$scope.init=function(){},$scope.menus=[{title:"Animation1",desc:""},{title:"Animation2",desc:""},{title:"Animation3",desc:""}];var iconData=[{name:"icon-home",color:"#777"},{name:"icon-user-plus",color:"rgb(89, 226, 168)"},{name:"icon-google-plus2",color:"#A00"},{name:"icon-youtube4",color:"#00A"},{name:"icon-settings",color:"#A00",theme:"md-warn md-hue-5"}];$scope.sizes=[{size:12,padding:0},{size:21,padding:2},{size:36,padding:6},{size:48,padding:10}],$scope.fonts=[].concat(iconData),$scope.it=$scope.sizes[3];var gdoc=$(".s48");$scope.animate=function(){TweenMax.to(gdoc,2,{scaleY:2})},$scope.animate2=function(){TweenMax.to(gdoc,2,{scale:2})},$scope.animate3=function(){TweenMax.to(gdoc,2,{scaleX:1,scaleY:1})}}]),angular.module("d2l-ads").controller("Ads2Controller",["$scope",function($scope){}]),angular.module("d2l-ads").directive("calDate",[function(){return{template:'<div class="ad1-calendarHolder" ><div class="ad1-calendar"><div class="ad1-month">{{date.month}}</div><div class="ad1-day">{{date.date}}</div><div class="ad1-year">{{date.year}}</div></div><div class="ad1-timer"  ng-mouseover="ad1TimerHover()"><div class="ad1-sec">1</div></div></div>',restrict:"E",link:{pre:function(scope,iElement,iAttrs,controller){},post:function(scope,iElement,iAttrs,controller){$(".ad1-calendarHolder").hover(function(){TweenLite.to($(this).find(".ad1-timer"),1.2,{rotationY:360,ease:Back.easeOut})},function(){TweenLite.to($(this).find(".ad1-timer"),1.2,{rotationY:0,ease:Back.easeOut})})}}}}]),angular.module("d2l-ads").directive("lineTrasit",["$timeout",function($timeout){return{template:'<div class="svg-container" id="lineTransit"></div>',restrict:"E",link:{pre:function(scope,element,attrs){function tick(){data.push(random()),path.attr("d",line).attr("transform",null).transition().duration(500).ease("linear").attr("transform","translate("+x(-1)+",0)").each("end",tick),data.shift()}var n=40,random=d3.random.normal(0,.2),data=d3.range(n).map(random),margin={top:20,right:20,bottom:20,left:40},width=400-margin.left-margin.right,height=300-margin.top-margin.bottom,x=d3.scale.linear().domain([0,n-1]).range([0,width]),y=d3.scale.linear().domain([-1,1]).range([height,0]),line=d3.svg.line().x(function(d,i){return x(i)}).y(function(d,i){return y(d)}),svg=d3.select("#lineTransit").append("svg").attr("id","svg-line-transit").attr("viewBox","0 0 400 300").attr("perserveAspectRatio","xMinYMid").attr("width",width).attr("height",height).append("g").attr("transform","translate("+margin.left+","+margin.top+")");svg.append("defs").append("clipPath").attr("id","clip").append("rect").attr("width",width).attr("height",height),svg.append("g").attr("class","x axis").attr("transform","translate(0,"+y(0)+")").call(d3.svg.axis().scale(x).orient("bottom")),svg.append("g").attr("class","y axis").call(d3.svg.axis().scale(y).orient("left"));var path=svg.append("g").attr("clip-path","url(#clip)").append("path").datum(data).attr("class","line").attr("d",line);tick()},post:function(scope,element,attrs){{var c=$("#svg-line-transit"),aspect=c.width()/c.height();c.parent().parent().parent()}$(window).on("resize",$timeout(function(){$timeout();var container=c.parent().parent().parent(),targetWidth=container.width();0!==$("figure").width()&&(c.attr("width",targetWidth),c.attr("height",Math.round(targetWidth/aspect)))},.5)).trigger("resize")}}}}]),angular.module("d2l-ads").directive("openboardAds1",[function(){return{templateUrl:"/modules/d2l-ads/directives/template/openboard-ads1.html",restrict:"E",link:function(scope,element,attrs){scope.insertDriveIconURL="modules/d2l-ads/svg/gdoc.svg";var papers=[];papers.push($("#paper1")),papers.push($("#paper2")),papers.push($("#paper3")),papers.push($("#paper4")),papers.push($("#paper5")),TweenMax.to(papers[0],2,{x:400,y:200,rotation:12}),TweenMax.to(papers[1],2,{x:-400,y:-400,rotation:-12}),TweenMax.to(papers[2],2,{x:200,y:-400,rotation:22}),TweenMax.to(papers[3],2,{x:600,y:-400,rotation:62}),TweenMax.to(papers[4],2,{x:-200,y:600,rotation:2});var tl=new TimelineLite;tl.set("#content",{visibility:"visible"}).from(".titleH1Ads1",.5,{left:100,autoAlpha:0}).from(".titleH2Ads1",.5,{left:-100,autoAlpha:0},"-=0.25").from("#feature",.5,{scale:.5,autoAlpha:0},"feature").from("#description",.5,{left:100,autoAlpha:0},"feature+=0.25").staggerFrom(".ad1-nav img",.5,{scale:0,rotation:-180,autoAlpha:0},.2,"stagger")}}}]),angular.module("d2l-class-utils").directive("classBoard",classBoard),angular.module("d2l-classes").run(["Menus",function(Menus){Menus.addMenuItem("topbar","D2l classes","d2l-classes","dropdown","/d2l-classes(/create)?"),Menus.addSubMenuItem("topbar","d2l-classes","List D2l classes","d2l-classes"),Menus.addSubMenuItem("topbar","d2l-classes","New D2l class","d2l-classes/create")}]),angular.module("d2l-classes").config(["$stateProvider",function($stateProvider){$stateProvider.state("view-class-detail",{url:"/view-class-detail",templateUrl:"modules/d2l-classes/views/view-class-detail.client.view.html"}).state("d2lClassInfo",{"abstract":!0,url:"/class",templateUrl:"modules/d2l-classes/views/d2l-class-info.client.view.html"}).state("d2lClassInfo.contact",{url:"/class-contact",controller:"contactController",templateUrl:"modules/d2l-classes/views/class-contact.client.view.html"}).state("d2lClassInfo.about",{url:"/about",controller:"aboutController",templateUrl:"modules/d2l-classes/views/class-about.client.view.html"}).state("d2lClassInfo.home",{url:"/home",controller:"mainController",templateUrl:"modules/d2l-classes/views/class-home.client.view.html"}).state("listD2lClasses",{url:"/d2l-classes",templateUrl:"modules/d2l-classes/views/list-d2l-classes.client.view.html"}).state("listD2lClassesAll",{url:"/d2l-classesAll",templateUrl:"modules/d2l-classes/views/list-d2l-classesAll.client.view.html"}).state("createD2lClass",{url:"/d2l-classes/create",templateUrl:"modules/d2l-classes/views/create-d2l-class.client.view.html"}).state("viewD2lClass",{url:"/d2l-classes/:d2lClassId",templateUrl:"modules/d2l-classes/views/view-d2l-class.client.view.html"}).state("editD2lClass",{url:"/d2l-classes/:d2lClassId/edit",templateUrl:"modules/d2l-classes/views/edit-d2l-class.client.view.html"})}]),angular.module("d2l-classes").controller("D2lClassesController",D2lClassesController),angular.module("d2l-classes").controller("mainController",function($scope,$state){$scope.pageClass="page-home",$scope.goTo=function(name){$state.go(name)}}).controller("aboutController",function($scope,$state){$scope.pageClass="page-about",$scope.goTo=function(name){$state.go(name)}}).controller("contactController",function($scope,$state){$scope.pageClass="page-contact",$scope.goTo=function(name){$state.go(name)}}),angular.module("d2l-classes").controller("ViewClassDetailController",["$scope",function($scope){}]),angular.module("d2l-classes").factory("D2lClasses",["$resource",function($resource){return $resource("d2l-classes/:d2lClassId",{d2lClassId:"@_id"},{update:{method:"PUT"}})}]).factory("D2lClassesOwnership",["$resource",function($resource){return $resource("d2l-classes/i",{d2lClassId:"@_id"},{update:{method:"PUT"}})}]),angular.module("d2l-examples").config(["$stateProvider",function($stateProvider){$stateProvider.state("listD2lExamples",{url:"/d2l-examples",templateUrl:"modules/d2l-examples/views/list-d2l-examples.client.view.html"}).state("createD2lExample",{url:"/d2l-examples/create",templateUrl:"modules/d2l-examples/views/create-d2l-example.client.view.html"}).state("viewD2lExample",{url:"/d2l-examples/:d2lExampleId",templateUrl:"modules/d2l-examples/views/view-d2l-example.client.view.html"}).state("editD2lExample",{url:"/d2l-examples/:d2lExampleId/edit",templateUrl:"modules/d2l-examples/views/edit-d2l-example.client.view.html"})}]),angular.module("d2l-examples").controller("D2lExamplesController",["$scope","$stateParams","$location","Authentication","D2lExamples","D2lClassesOwnership",function($scope,$stateParams,$location,Authentication,D2lExamples,D2lClassesOwnership){$scope.authentication=Authentication,$scope.classes=D2lClassesOwnership.query(),$scope.create=function(){var d2lExample=new D2lExamples({name:this.name,"class":this["class"]._id,link:this.link});d2lExample.$save(function(response){$location.path("d2l-examples/"+response._id),$scope.name=""},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.remove=function(d2lExample){if(d2lExample){d2lExample.$remove();for(var i in $scope.d2lExamples)$scope.d2lExamples[i]===d2lExample&&$scope.d2lExamples.splice(i,1)}else $scope.d2lExample.$remove(function(){$location.path("d2l-examples")})},$scope.update=function(){$scope.d2lExample["class"]=$scope.d2lExample["class"]._id;var d2lExample=$scope.d2lExample;d2lExample.$update(function(){$location.path("d2l-examples/"+d2lExample._id)},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.find=function(){$scope.d2lExamples=D2lExamples.query()},$scope.findOne=function(){$scope.d2lExample=D2lExamples.get({d2lExampleId:$stateParams.d2lExampleId})}}]),angular.module("d2l-examples").directive("classExCreate",classExCreate),angular.module("d2l-examples").directive("classExList",classExteList),
angular.module("d2l-examples").factory("D2lExamples",["$resource",function($resource){return $resource("d2l-examples/:d2lExampleId",{d2lExampleId:"@_id"},{update:{method:"PUT"}})}]),angular.module("d2l-grades").run(["Menus",function(Menus){Menus.addMenuItem("topbar","D2l grades","d2l-grades","dropdown","/d2l-grades(/create)?"),Menus.addSubMenuItem("topbar","d2l-grades","List D2l grades","d2l-grades"),Menus.addSubMenuItem("topbar","d2l-grades","New D2l grade","d2l-grades/create")}]),angular.module("d2l-grades").config(["$stateProvider",function($stateProvider){$stateProvider.state("listD2lGrades",{url:"/d2l-grades",templateUrl:"modules/d2l-grades/views/list-d2l-grades.client.view.html"}).state("createD2lGrade",{url:"/d2l-grades/create",templateUrl:"modules/d2l-grades/views/create-d2l-grade.client.view.html"}).state("viewD2lGrade",{url:"/d2l-grades/:d2lGradeId",templateUrl:"modules/d2l-grades/views/view-d2l-grade.client.view.html"}).state("editD2lGrade",{url:"/d2l-grades/:d2lGradeId/edit",templateUrl:"modules/d2l-grades/views/edit-d2l-grade.client.view.html"})}]),angular.module("d2l-grades").controller("D2lGradesController",["$scope","$stateParams","$location","Authentication","D2lGrades",function($scope,$stateParams,$location,Authentication,D2lGrades){$scope.authentication=Authentication,$scope.create=function(){var d2lGrade=new D2lGrades({name:this.name});d2lGrade.$save(function(response){$location.path("d2l-grades/"+response._id),$scope.name=""},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.remove=function(d2lGrade){if(d2lGrade){d2lGrade.$remove();for(var i in $scope.d2lGrades)$scope.d2lGrades[i]===d2lGrade&&$scope.d2lGrades.splice(i,1)}else $scope.d2lGrade.$remove(function(){$location.path("d2l-grades")})},$scope.update=function(){var d2lGrade=$scope.d2lGrade;d2lGrade.$update(function(){$location.path("d2l-grades/"+d2lGrade._id)},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.find=function(){$scope.d2lGrades=D2lGrades.query()},$scope.findOne=function(){$scope.d2lGrade=D2lGrades.get({d2lGradeId:$stateParams.d2lGradeId})}}]),angular.module("d2l-grades").factory("D2lGrades",["$resource",function($resource){return $resource("d2l-grades/:d2lGradeId",{d2lGradeId:"@_id"},{update:{method:"PUT"}})}]).factory("D2lGradesByClass",["$resource",function($resource){return $resource("d2l-grades/byClass/:classId",{classId:"@_id"},{get:{method:"GET",isArray:!0}})}]),angular.module("d2l-hws-submits").run(["Menus",function(Menus){Menus.addMenuItem("topbar","D2l hws submits","d2l-hws-submits","dropdown","/d2l-hws-submits(/create)?"),Menus.addSubMenuItem("topbar","d2l-hws-submits","List D2l hws submits","d2l-hws-submits"),Menus.addSubMenuItem("topbar","d2l-hws-submits","New D2l hws submit","d2l-hws-submits/create")}]),angular.module("d2l-hws-submits").config(["$stateProvider",function($stateProvider){$stateProvider.state("listD2lHwsSubmits",{url:"/d2l-hws-submits",templateUrl:"modules/d2l-hws-submits/views/list-d2l-hws-submits.client.view.html"}).state("createD2lHwsSubmit",{url:"/d2l-hws-submits/create",templateUrl:"modules/d2l-hws-submits/views/create-d2l-hws-submit.client.view.html"}).state("viewD2lHwsSubmit",{url:"/d2l-hws-submits/:d2lHwsSubmitId",templateUrl:"modules/d2l-hws-submits/views/view-d2l-hws-submit.client.view.html"}).state("editD2lHwsSubmit",{url:"/d2l-hws-submits/:d2lHwsSubmitId/edit",templateUrl:"modules/d2l-hws-submits/views/edit-d2l-hws-submit.client.view.html"})}]),angular.module("d2l-hws-submits").controller("D2lHwsSubmitsController",["$scope","$stateParams","$location","Authentication","D2lHwsSubmits",function($scope,$stateParams,$location,Authentication,D2lHwsSubmits){$scope.authentication=Authentication,$scope.create=function(){var d2lHwsSubmit=new D2lHwsSubmits({name:this.name});d2lHwsSubmit.$save(function(response){$location.path("d2l-hws-submits/"+response._id),$scope.name=""},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.remove=function(d2lHwsSubmit){if(d2lHwsSubmit){d2lHwsSubmit.$remove();for(var i in $scope.d2lHwsSubmits)$scope.d2lHwsSubmits[i]===d2lHwsSubmit&&$scope.d2lHwsSubmits.splice(i,1)}else $scope.d2lHwsSubmit.$remove(function(){$location.path("d2l-hws-submits")})},$scope.update=function(){var d2lHwsSubmit=$scope.d2lHwsSubmit;d2lHwsSubmit.$update(function(){$location.path("d2l-hws-submits/"+d2lHwsSubmit._id)},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.find=function(){$scope.d2lHwsSubmits=D2lHwsSubmits.query()},$scope.findOne=function(){$scope.d2lHwsSubmit=D2lHwsSubmits.get({d2lHwsSubmitId:$stateParams.d2lHwsSubmitId})}}]),angular.module("d2l-hws-submits").factory("D2lHwsSubmits",["$resource",function($resource){return $resource("d2l-hws-submits/:d2lHwsSubmitId",{d2lHwsSubmitId:"@_id"},{update:{method:"PUT"}})}]).factory("D2lHwsSubmitsTrue",["$resource",function($resource){return $resource("d2l-hws-submits/submitted",{d2lHwsSubmitId:"@_id"},{update:{method:"PUT"}})}]).factory("D2lHwsSubmitsTrueByClass",["$resource",function($resource){return $resource("d2l-hws-submits/submitted/byClass/:classId",{classId:"@_id"},{get:{method:"GET",isArray:!0}})}]),angular.module("d2l-hws").config(["$stateProvider",function($stateProvider){$stateProvider.state("listD2lHws",{url:"/d2l-hws",templateUrl:"modules/d2l-hws/views/list-d2l-hws.client.view.html"}).state("createD2lHw",{url:"/d2l-hws/create",templateUrl:"modules/d2l-hws/views/create-d2l-hw.client.view.html"}).state("viewD2lHw",{url:"/d2l-hws/:d2lHwId",templateUrl:"modules/d2l-hws/views/view-d2l-hw.client.view.html"}).state("editD2lHw",{url:"/d2l-hws/:d2lHwId/edit",templateUrl:"modules/d2l-hws/views/edit-d2l-hw.client.view.html"})}]),angular.module("d2l-hws").controller("D2lHwsController",["$scope","$stateParams","$location","Authentication","D2lHws",function($scope,$stateParams,$location,Authentication,D2lHws){$scope.authentication=Authentication,$scope.remove=function(d2lHw){if(d2lHw){d2lHw.$remove();for(var i in $scope.d2lHws)$scope.d2lHws[i]===d2lHw&&$scope.d2lHws.splice(i,1)}else $scope.d2lHw.$remove(function(){$location.path("d2l-hws")})},$scope.update=function(){var d2lHw=$scope.d2lHw;d2lHw["class"]=d2lHw["class"]._id,d2lHw.dDate=new Date(d2lHw.dDate),d2lHw.$update(function(){$location.path("d2l-hws/"+d2lHw._id)},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.find=function(){$scope.d2lHws=D2lHws.query()},$scope.findOne=function(){$scope.d2lHw=D2lHws.get({d2lHwId:$stateParams.d2lHwId},function(result){result.dDate=new Date(result.dDate)})}}]),angular.module("d2l-hws").directive("classNoteCreate",classNoteCreate),angular.module("d2l-hws").directive("classNoteList",classNoteList),angular.module("d2l-hws").factory("D2lHws",["$resource",function($resource){return $resource("d2l-hws/:d2lHwId",{d2lHwId:"@_id"},{update:{method:"PUT"}})}]).factory("D2lHwsByClass",["$resource",function($resource){return $resource("/d2l-hws/byClass/:classId",{classId:"@_id"},{get:{method:"GET",isArray:!0}})}]).factory("D2lHwsByOriginDocId",["$resource",function($resource){return $resource("/d2l-hws/getGDoc/:gdocId",{gdocId:"@_id"},{get:{method:"GET",isArray:!0}})}]),angular.module("d2l-lessons").config(["$stateProvider",function($stateProvider){$stateProvider.state("listD2lLessons",{url:"/d2l-lessons",templateUrl:"modules/d2l-lessons/views/list-d2l-lessons.client.view.html"}).state("createD2lLesson",{url:"/d2l-lessons/create",templateUrl:"modules/d2l-lessons/views/create-d2l-lesson.client.view.html"}).state("viewD2lLesson",{url:"/d2l-lessons/:d2lLessonId",templateUrl:"modules/d2l-lessons/views/view-d2l-lesson.client.view.html"}).state("editD2lLesson",{url:"/d2l-lessons/:d2lLessonId/edit",templateUrl:"modules/d2l-lessons/views/edit-d2l-lesson.client.view.html"})}]),angular.module("d2l-lessons").controller("D2lLessonsController",D2lLessonsController),angular.module("d2l-lessons").factory("D2lLessons",["$resource",function($resource){return $resource("d2l-lessons/:d2lLessonId",{d2lLessonId:"@_id"},{update:{method:"PUT"}})}]).factory("D2lLessonsOwnership",["$resource",function($resource){return $resource("/d2l-lessonsByClassId/:d2lClassId",{d2lClassId:"@_id"},{update:{method:"PUT"}})}]).factory("D2lLessonsByClass",["$resource",function($resource){return $resource("/d2l-lessonsByClassId/:d2lClassId",{d2lClassId:"@_id"},{update:{method:"PUT"}})}]),angular.module("d2l-lessons").factory("Linktree",[function(){return{getParent:function(){return!0}}}]),angular.module("d2l").config(["$stateProvider","$mdIconProvider",function($stateProvider,$mdIconProvider){$stateProvider.state("lms-start",{url:"/lms-start",templateUrl:"modules/d2l/views/lms-start.client.view.html"}).state("d2l-main",{url:"/d2l-main",templateUrl:"modules/d2l/views/d2l-main.client.view.html"}).state("d2l-stu",{url:"/d2l-stu",templateUrl:"modules/d2l/views/d2l-stu.client.view.html"}).state("d2l-ins",{"abstract":!0,url:"/d2l-ins",templateUrl:"modules/d2l/views/d2l-ins.client.view.html"}).state("d2l-ins.menu",{url:"/menu",templateUrl:"modules/d2l/template/ins-menu.html"}).state("d2l-ins.class",{url:"/class",templateUrl:"modules/d2l/template/ins-class.html"}).state("d2l-ad",{url:"/d2l-ad",templateUrl:"modules/d2l/views/d2l-ad.client.view.html"}).state("d2l-home",{url:"/d2l-home",templateUrl:"modules/d2l/views/d2l-home.client.view.html"}).state("d2l-hw",{url:"/d2l/hw",templateUrl:"modules/d2l/views/d2l-hw.client.view.html"}),$mdIconProvider.iconSet("avatar","/modules/d2l/svg/avatar-icons.svg",128)}]),angular.module("d2l").controller("D2lAdController",["$scope",function($scope){}]),angular.module("d2l").controller("D2lHomeController",D2lHomeController).controller("gridListDemoCtrl",gridListDemoCtrl).controller("DemoCtrl",DemoCtrl),angular.module("d2l").controller("D2lHwController",["$scope","$stateParams","$location","$timeout","Authentication","D2lHws","D2lClassesOwnership","D2lClasses","GDriveSelectResult",function($scope,$stateParams,$location,$timeout,Authentication,D2lHws,D2lClassesOwnership,D2lClasses,GDriveSelectResult){$scope.$on("handleEmit",function(event,args){console.log("broadcast is invoked"),$scope.project.gdocId=args.message,$scope.$digest()}),$scope.docs=GDriveSelectResult,$scope.project={gdocId:$scope.docs.id},$scope.project={dDate:new Date("4/1/2015"),gdocId:GDriveSelectResult.id},$scope.loadClasses=function(){return $timeout(function(){$scope.classes=D2lClassesOwnership.query()},650)},$scope.authentication=Authentication,console.log($scope.authentication),$scope.createNewRecord=function(){console.log("Create");var d2lHw=new D2lHws($scope.project);d2lHw["class"]=d2lHw["class"]._id,d2lHw.$save(function(response){$location.path("d2l-hws/"+response._id),$scope.name=""},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.remove=function(d2lHw){if(d2lHw){d2lHw.$remove();for(var i in $scope.d2lHws)$scope.d2lHws[i]===d2lHw&&$scope.d2lHws.splice(i,1)}else $scope.d2lHw.$remove(function(){$location.path("d2l-hws")})},$scope.update=function(){alert("dd");var d2lHw=$scope.d2lHw;d2lHw["class"]=d2lHw["class"]._id,d2lHw.$update(function(){$location.path("d2l-hws/"+d2lHw._id)},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.find=function(){$scope.d2lHws=D2lHws.query()},$scope.findOne=function(){$scope.d2lHw=D2lHws.get({d2lHwId:$stateParams.d2lHwId})}}]),angular.module("d2l").controller("D2lInsController",["$scope",function($scope){$scope.menus=[{title:"Classes",desc:""},{title:"Events",desc:""},{title:"Profile",desc:"linkedin, Google+, facebook, link"},{title:"ToDo",desc:""},{title:"Previous Classes",desc:""}]}]),angular.module("d2l").controller("D2lStuController",["$scope",function($scope){$scope.menus=[{title:"Previous Classes",desc:""},{title:"Classes",desc:""},{title:"Events",desc:""},{title:"Portfolio",desc:"linkedin, Google+, facebook, link"},{title:"ToDo",desc:""}]}]),angular.module("d2l").factory("GDriveSelectResult",GDriveSelectResult).controller("GDriveFilePickerController",GDriveFilePicker),angular.module("d2l").controller("InsClassController",["$scope","$http","CreateFile",function($scope,$http,CreateFile){var objFile=CreateFile.create();console.log(objFile.getInfo()),TweenMax.set($("#fileCreator"),{alpha:0,yPercent:-150}),$scope.assignments=[],$scope.createHWbtn=function(){$scope.isOpen=!$scope.isOpen,$scope.isOpen?(console.log("open"),TweenMax.to($("#fileCreator"),1,{alpha:1,yPercent:0,display:"block",ease:Power2.easeOut,paused:!1})):(console.log("close"),TweenMax.to($("#fileCreator"),1,{alpha:0,yPercent:-150,display:"none",ease:Power2.easeOut,paused:!1})),$scope.assignment=""},$scope.createFolder=function(){},$scope.publishFile=function(){},$scope.listGPlus=function(){$http.get("/gs").success(function(data,status,headers,config){$scope.userInfo=data,console.log("data",data),console.log("status",status),console.log("headers",headers),console.log("config",config)})}}]),angular.module("d2l").controller("LmsStartController",["$scope",function($scope){}]),angular.module("d2l").directive("d2lHwGenerator",HwGenerator).directive("d2lHwPublisher",HwPublisher).factory("D2lHwPermission",["$resource",function($resource){return $resource("/HWD2l/getPermission/:id",{id:"@_id"},{getDoc:{method:"GET"}})}]).factory("D2lHwCopy",["$resource",function($resource){return $resource("/HWD2l/copyFile/:id/:userNameDoc",{id:"@_id",userNameDoc:"@_userNameDoc"},{copyDoc:{method:"GET"}})}]).controller("ToastCtrl",function($scope,$mdToast){$scope.closeToast=function(){$mdToast.hide()}}),angular.module("d2l").factory("CreateFile",CreateFile),angular.module("d2l").factory("D2LOauth",["configGdrive",function(configGdrive){function getAccessToken(){return!0}function authenticateWithGoogle(){window.gapi.auth.authorize({client_id:configGdrive.clientId,scope:configGdrive.scopes,immediate:!1},handleAuthentication)}function handleAuthentication(result){console.log(testStr),result&&!result.error?(isAuth=!0,authName="Deauthorize",accessToken="ya29.FgGTDUyLSY6oSvDzClGVcrwws2xf2PJ6JHC5uXkRoutVf6k8BLamn4t9dsvKBG0sHtZR34tYjP6CHg",console.log(accessToken)):(console.log(result),console.log("ERROR: "+result.error),console.log("fail to authentication"))}function createNewAccountFolder(){var callback=function(resp){console.log(resp.result.items.length),0==resp.result.items.length?$http.get("users/me").success(function(response){console.log(response);var folderName="D2l-"+response._id;Googledrive.createFolder(folderName,accessToken)}):console.log("there is already exist")};Googledrive.findFolder(callback)}var accessToken,testStr="asdfasdfsdfsf",authName="Authorize",isAuth=!1;return{getAccessToken:getAccessToken,authenticateWithGoogle:authenticateWithGoogle,createNewAccountFolder:createNewAccountFolder}}]),angular.module("disqus").config(["$stateProvider","$disqusProvider",function($stateProvider,$disqusProvider){$disqusProvider.setShortname("openboardk")}]),function(angular,window){var disqusModule=angular.module("disqus",[]);disqusModule.provider("$disqus",function(){function getScriptContainer(){return document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]}function getShortname(){return shortname||window.disqus_shortname}function getScriptSrc(shortname,file){return"//"+shortname+".disqus.com/"+file}function buildScriptTag(src){var script=document.createElement("script");return script.type="text/javascript",script.async=!0,script.src=src,script}function hasScriptTagInPlace(container,scriptSrc){var script,i,scripts=container.getElementsByTagName("script");for(i=0;i<scripts.length;i+=1)if(script=scripts[i],~script.src.indexOf(scriptSrc))return!0;return!1}function setGlobals(id,url,shortname){window.disqus_identifier=id,window.disqus_url=url,window.disqus_shortname=shortname}function getCount(){var widgets=window.DISQUSWIDGETS;widgets&&angular.isFunction(widgets.getCount)&&widgets.getCount()}function resetCommit($location,id){window.DISQUS.reset({reload:!0,config:function(){this.page.identifier=id,this.page.url=$location.absUrl()}})}function addScriptTag(shortname,type){var container=getScriptContainer(),scriptSrc=getScriptSrc(shortname,type);hasScriptTagInPlace(container,scriptSrc)||container.appendChild(buildScriptTag(scriptSrc))}var shortname,TYPE_EMBED="embed.js",TYPE_COUNT="count.js";this.setShortname=function(sname){shortname=sname},this.$get=["$location",function($location){function commit(id){var shortname=getShortname();if(!angular.isDefined(shortname))throw new Error("No disqus shortname defined");if(!angular.isDefined(id))throw new Error("No disqus thread id defined");angular.isDefined(window.DISQUS)?resetCommit($location,id):(setGlobals(id,$location.absUrl(),shortname),addScriptTag(shortname,TYPE_EMBED))}function loadCount(id){setGlobals(id,$location.absUrl(),shortname),addScriptTag(getShortname(),TYPE_EMBED),addScriptTag(getShortname(),TYPE_COUNT),getCount()}return{commit:commit,getShortname:getShortname,loadCount:loadCount}}]}),disqusModule.directive("disqus",["$disqus",function($disqus){return{restrict:"AC",replace:!0,scope:{id:"=disqus"},template:'<div id="disqus_thread"></div>',link:function(scope){scope.$watch("id",function(id){angular.isDefined(id)&&$disqus.commit(id)})}}}]),disqusModule.directive("disqusIdentifier",["$disqus",function($disqus){return{restrict:"A",link:function(scope,elem,attr){$disqus.loadCount(attr.disqusIdentifier)}}}])}(angular,this),angular.module("etc-products").config(["$stateProvider",function($stateProvider){$stateProvider.state("listEtcProducts",{url:"/etc-products",templateUrl:"modules/etc-products/views/list-etc-products.client.view.html"}).state("createEtcProduct",{url:"/etc-products/create",templateUrl:"modules/etc-products/views/create-etc-product.client.view.html"}).state("viewEtcProduct",{url:"/etc-products/:etcProductId",templateUrl:"modules/etc-products/views/view-etc-product.client.view.html"}).state("editEtcProduct",{url:"/etc-products/:etcProductId/edit",templateUrl:"modules/etc-products/views/edit-etc-product.client.view.html"})}]),angular.module("etc-products").controller("EtcProductsController",["$scope","$stateParams","$location","Authentication","EtcProducts","$timeout","$q",function($scope,$stateParams,$location,Authentication,EtcProducts,$timeout,$q){$scope.authentication=Authentication,$scope.create=function(){var etcProduct=new EtcProducts({name:this.name});etcProduct.$save(function(response){$location.path("etc-products/"+response._id),$scope.name=""},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.remove=function(etcProduct){if(etcProduct){etcProduct.$remove();for(var i in $scope.etcProducts)$scope.etcProducts[i]===etcProduct&&$scope.etcProducts.splice(i,1)}else $scope.etcProduct.$remove(function(){$location.path("etc-products")})},$scope.update=function(){var etcProduct=$scope.etcProduct;etcProduct.$update(function(){$location.path("etc-products/"+etcProduct._id)},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.find=function(){$scope.etcProducts=EtcProducts.query()},$scope.findOne=function(){$scope.etcProduct=EtcProducts.get({etcProductId:$stateParams.etcProductId})},$scope.readonly=!1,$scope.fruitNames=["Apple","Banana","Orange"],$scope.roFruitNames=angular.copy(self.fruitNames),$scope.newFruitNames=["Red","Yellow","Green"],$scope.vegObjs=[{name:"ModelModel1",type:"Red"},{name:"ModelModel2",type:"Yellow"},{name:"ModelModel3",type:"Green"}],$scope.newVeg=function(chip){return{name:chip,type:"unknown"}}}]),angular.module("etc-products").factory("EtcProducts",["$resource",function($resource){return $resource("etc-products/:etcProductId",{etcProductId:"@_id"},{update:{method:"PUT"}})}]),angular.module("etc").config(["$stateProvider",function($stateProvider){$stateProvider.state("watch-game",{url:"/watch-game",templateUrl:"modules/etc/views/watch-game.client.view.html"}).state("wigs",{url:"/wigs",templateUrl:"modules/etc/views/wigs.client.view.html"}).state("etc",{url:"/etc",templateUrl:"modules/etc/views/etc.client.view.html"})}]),angular.module("etc").controller("EtcController",["$scope",function($scope){$scope.todos=[{face:"/modules/etc-products/img/icon1.png",what:"Brunch this weekend?",who:"Min Li Chan",when:"3:08PM",notes:" I'll be in your neighborhood doing errands"},{face:"/modules/etc-products/img/icon1.png",what:"Brunch this weekend?",who:"Min Li Chan",when:"3:08PM",notes:" I'll be in your neighborhood doing errands"},{face:"/modules/etc-products/img/icon1.png",what:"Brunch this weekend?",who:"Min Li Chan",when:"3:08PM",notes:" I'll be in your neighborhood doing errands"},{face:"/modules/etc-products/img/icon1.png",what:"Brunch this weekend?",who:"Min Li Chan",when:"3:08PM",notes:" I'll be in your neighborhood doing errands"},{face:"/modules/etc-products/img/icon1.png",what:"Brunch this weekend?",who:"Min Li Chan",when:"3:08PM",notes:" I'll be in your neighborhood doing errands"}]}]),angular.module("etc").controller("WatchGameController",["$scope",function($scope){function utilityClock(container){var dynamic=container.querySelector(".dynamic"),div=(container.querySelector(".hour"),container.querySelector(".minute"),container.querySelector(".second"),function(className,innerHTML){var element=document.createElement("div");return element.className=className,element.innerHTML=innerHTML||"",element}),append=function(element){return{to:function(parent){return parent.appendChild(element),append(parent)}}},anchor=function(element,rotation){var anchor=div("anchor");rotate(anchor,rotation),append(element).to(anchor).to(dynamic)},minute=function(n){var klass=n%5==0?"major":n%1==0?"whole":"part",line=div("element minute-line "+klass);if(anchor(line,n),n%5==0){var text=div("anchor minute-text "+klass),content=div("expand content",(10>n?"0":"")+n);append(content).to(text),rotate(text,-n),anchor(text,n)}},hour=function(n){var klass="hour-item hour-"+n,line=div("element hour-pill "+klass);anchor(line,5*n);var text=div("anchor hour-text "+klass),content=div("expand content",n);append(content).to(text),rotate(text,5*-n),anchor(text,5*n)},rotate=function(element,second){element.style.transform=element.style.webkitTransform="rotate("+6*second+"deg)"};$scope.animate=function(){{var now=new Date;3600*now.getHours()+60*now.getMinutes()+1*now.getSeconds()+now.getMilliseconds()/1e3}requestAnimationFrame($scope.animate)};for(var i=.25;60>=i;i+=.25)minute(i);for(var i=1;12>=i;i++)hour(i);$scope.animate()}function autoResize(element,nativeSize){var update=function(){var parent=element.offsetParent,scale=Math.min(parent.offsetWidth,parent.offsetHeight)/nativeSize;element.style.transform=element.style.webkitTransform="scale("+scale.toFixed(3)+")"};update(),window.addEventListener("resize",update)}function choose(clock,items){var chooser=document.querySelector("#chooser");items.forEach(function(item){function update(){element.innerHTML=name+"-style-<b>"+getValue()+"</b>"}function klass(c){return name+"-style-"+c}function getValue(){for(var i=0;i<styles.length;i++)if(clock.classList.contains(klass(styles[i])))return styles[i]}function click(e){for(var i=0;i<styles.length;i++)if(clock.classList.contains(klass(styles[i]))){clock.classList.remove(klass(styles[i])),clock.classList.add(klass(styles[(i+1)%styles.length]));break}update(),e.preventDefault()}var name=item[0],styles=item[1],element=document.createElement("div");element.addEventListener("click",click,!1),update(),chooser.appendChild(element)})}var clock=document.querySelector("#utility-clock");utilityClock(clock),autoResize(clock,327),choose(clock,[["hour",["text","text-quarters","pill"]],["hour-text",["large","small"]],["hour-display",["all","quarters","none"]],["minute",["line","dot"]],["minute-display",["fine","fine-2","coarse","major","none"]],["minute-text",["inside","outside","none"]],["hand",["normal","hollow"]]]),Draggable.create("#secC",{type:"rotation",throwProps:!0}),Draggable.create("#minC",{type:"rotation",throwProps:!0}),Draggable.create("#hourC",{type:"rotation",throwProps:!0})}]),angular.module("etc").controller("WigsController",["$scope",function($scope){$scope.degree=0,$scope.flipCard=function(targetId){var target=$("#"+targetId);$scope.degree+=180,TweenMax.to(target,.4,{rotationY:$scope.degree}),console.log($scope.degree)}}]),angular.module("etc").directive("colorPicker",[function(){function ColorPickerCtrl($scope){function buildGridModel(tileTmpl){for(var it,results=[],j=0;18>j;j++){switch(it=angular.extend({},tileTmpl),it.icon=it.icon+(j+1),it.title=it.title+(j+1),it.span={row:"1",col:"1"},j+1){case 1:it.background="red",it.img="modules/etc/img/1.jpg",it.span.row=it.span.col=2;break;case 2:it.background="green",it.img="modules/etc/img/2.jpg";break;case 3:it.background="darkBlue",it.img="modules/etc/img/3.jpg";break;case 4:it.background="blue",it.span.row=it.span.col=2,it.img="modules/etc/img/4.jpg";break;case 5:it.background="yellow",it.span.row=it.span.col=2,it.img="modules/etc/img/5.jpg";break;case 6:it.background="pink",it.img="modules/etc/img/6.jpg";break;case 7:it.background="darkBlue",it.img="modules/etc/img/7.jpg";break;case 8:it.background="purple",it.img="modules/etc/img/8.jpg";break;case 9:it.background="deepBlue",it.img="modules/etc/img/9.jpg";break;case 10:it.span.row=it.span.col=2,it.background="lightPurple",it.img="modules/etc/img/10.jpg";break;case 11:it.background="yellow",it.img="modules/etc/img/11.jpg";break;case 12:it.background="deepBlue",it.img="modules/etc/img/9.jpg";break;case 13:it.background="lightPurple",it.img="modules/etc/img/10.jpg";break;case 14:it.background="yellow",it.img="modules/etc/img/11.jpg";break;case 15:it.background="deepBlue",it.img="modules/etc/img/9.jpg";break;case 16:it.background="lightPurple",it.img="modules/etc/img/10.jpg";break;case 17:it.background="yellow",it.img="modules/etc/img/11.jpg";break;case 18:it.background="yellow",it.img="modules/etc/img/12.jpg"}results.push(it)}return results}this.items=[{imgSrc:"modules/etc/img/1.jpg",title:"Color 1"},{imgSrc:"modules/etc/img/2.jpg",title:"Color 2"},{imgSrc:"modules/etc/img/3.jpg",title:"Color 3"},{imgSrc:"modules/etc/img/4.jpg",title:"Color 4"},{imgSrc:"modules/etc/img/5.jpg",title:"Color 5"},{imgSrc:"modules/etc/img/6.jpg",title:"Color 6"},{imgSrc:"modules/etc/img/7.jpg",title:"Color 7"},{imgSrc:"modules/etc/img/8.jpg",title:"Color 8"},{imgSrc:"modules/etc/img/9.jpg",title:"Color 9"},{imgSrc:"modules/etc/img/10.jpg",title:"Color 10"},{imgSrc:"modules/etc/img/11.jpg",title:"Color 11"},{imgSrc:"modules/etc/img/12.jpg",title:"Color 12"},{imgSrc:"modules/etc/img/13.jpg",title:"Color 13"},{imgSrc:"modules/etc/img/14.jpg",title:"Color 14"},{imgSrc:"modules/etc/img/15.jpg",title:"Color 15"},{imgSrc:"modules/etc/img/16.jpg",title:"Color 16"}],this.coverSelected=function(event){console.log("selected"),console.log(event.path[2].outerHTML),TweenLite.to(event.path[2].outerHTML,1,{display:"block"})},this.tiles=buildGridModel({icon:"avatar:svg-",title:"Svg-",background:""})}return{templateUrl:"modules/etc/directives/template/color-picker.html",restrict:"E",controller:ColorPickerCtrl,controllerAs:"vm",link:function(scope,element,attrs){}}}]),angular.module("etc").directive("gallery",[function(){function galleryCtrl($scope){function randomColor(){return COLORS[Math.floor(Math.random()*COLORS.length)]}function randomSpan(){var r=Math.random();return.8>r?1:.9>r?2:3}$scope.title="DD";var COLORS=["#ffebee","#ffcdd2","#ef9a9a","#e57373","#ef5350","#f44336","#e53935","#d32f2f","#c62828","#b71c1c","#ff8a80","#ff5252","#ff1744","#d50000","#f8bbd0","#f48fb1","#f06292","#ec407a","#e91e63","#d81b60","#c2185b","#ad1457","#880e4f","#ff80ab","#ff4081","#f50057","#c51162","#e1bee7","#ce93d8","#ba68c8","#ab47bc","#9c27b0","#8e24aa","#7b1fa2","#4a148c","#ea80fc","#e040fb","#d500f9","#aa00ff","#ede7f6","#d1c4e9","#b39ddb","#9575cd","#7e57c2","#673ab7","#5e35b1","#4527a0","#311b92","#b388ff","#7c4dff","#651fff","#6200ea","#c5cae9","#9fa8da","#7986cb","#5c6bc0","#3f51b5","#3949ab","#303f9f","#283593","#1a237e","#8c9eff","#536dfe","#3d5afe","#304ffe","#e3f2fd","#bbdefb","#90caf9","#64b5f6","#42a5f5","#2196f3","#1e88e5","#1976d2","#1565c0","#0d47a1","#82b1ff","#448aff","#2979ff","#2962ff","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd","#01579b","#80d8ff","#40c4ff","#00b0ff","#0091ea","#e0f7fa","#b2ebf2","#80deea","#4dd0e1","#26c6da","#00bcd4","#00acc1","#0097a7","#00838f","#006064","#84ffff","#18ffff","#00e5ff","#00b8d4","#e0f2f1","#b2dfdb","#80cbc4","#4db6ac","#26a69a","#009688","#00897b","#00796b","#00695c","#a7ffeb","#64ffda","#1de9b6","#00bfa5","#e8f5e9","#c8e6c9","#a5d6a7","#81c784","#66bb6a","#4caf50","#43a047","#388e3c","#2e7d32","#1b5e20","#b9f6ca","#69f0ae","#00e676","#00c853","#f1f8e9","#dcedc8","#c5e1a5","#aed581","#9ccc65","#8bc34a","#7cb342","#689f38","#558b2f","#33691e","#ccff90","#b2ff59","#76ff03","#64dd17","#f9fbe7","#f0f4c3","#e6ee9c","#dce775","#d4e157","#cddc39","#c0ca33","#afb42b","#9e9d24","#827717","#f4ff81","#eeff41","#c6ff00","#aeea00","#fffde7","#fff9c4","#fff59d","#fff176","#ffee58","#ffeb3b","#fdd835","#fbc02d","#f9a825","#f57f17","#ffff8d","#ffff00","#ffea00","#ffd600","#fff8e1","#ffecb3","#ffe082","#ffd54f","#ffca28","#ffc107","#ffb300","#ffa000","#ff8f00","#ff6f00","#ffe57f","#ffd740","#ffc400","#ffab00","#fff3e0","#ffe0b2","#ffcc80","#ffb74d","#ffa726","#ff9800","#fb8c00","#f57c00","#ef6c00","#e65100","#ffd180","#ffab40","#ff9100","#ff6d00","#fbe9e7","#ffccbc","#ffab91","#ff8a65","#ff7043","#ff5722","#f4511e","#e64a19","#d84315","#bf360c","#ff9e80","#ff6e40","#ff3d00","#dd2c00","#d7ccc8","#bcaaa4","#795548","#d7ccc8","#bcaaa4","#8d6e63","#eceff1","#cfd8dc","#b0bec5","#90a4ae","#78909c","#607d8b","#546e7a","#cfd8dc","#b0bec5","#78909c"];$scope.colorTiles=function(){for(var tiles=[],i=0;46>i;i++)tiles.push({color:randomColor(),colspan:randomSpan(),rowspan:randomSpan()});return tiles}()}return{templateUrl:"modules/etc/directives/template/gallery.html",restrict:"E",controller:galleryCtrl,controllerAs:"vm",link:function(scope,element,attrs){}}}]),angular.module("etc").directive("productDetail",[function(){function ProductDetailCtrl($scope){}return{templateUrl:"modules/etc/directives/template/product-detail.html",restrict:"E",controller:ProductDetailCtrl,controllerAs:"vm",link:function(scope,element,attrs){}}}]);var CONFIG={clientId:"574563539488-pctm7fr21vcetcfpdf9hhaje9q5vepee.apps.googleusercontent.com",developerKey:"AIzaSyBEGA9BOSoo0DF69RNRh9MsMKDxaVlnT_U",scopes:["https://www.googleapis.com/auth/drive","https://www.googleapis.com/auth/drive.appdata","https://www.googleapis.com/auth/plus.me","https://www.googleapis.com/auth/paymentssandbox.make_payments"]};angular.module("g-drive").value("configGdrive",CONFIG),angular.module("g-drive").config(["$stateProvider",function($stateProvider){}]),GDocs.prototype.auth=function(interactive,opt_callback){try{chrome.identity.getAuthToken({interactive:interactive},function(token){token&&(this.accessToken=token,opt_callback&&opt_callback())}.bind(this))}catch(e){console.log(e)}},GDocs.prototype.removeCachedAuthToken=function(opt_callback){if(this.accessToken){var accessToken=this.accessToken;this.accessToken=null,chrome.identity.removeCachedAuthToken({token:accessToken},function(){opt_callback&&opt_callback()})}else opt_callback&&opt_callback()},GDocs.prototype.revokeAuthToken=function(opt_callback){if(this.accessToken){var xhr=new XMLHttpRequest;xhr.open("GET","https://accounts.google.com/o/oauth2/revoke?token="+this.accessToken),xhr.send(),this.removeCachedAuthToken(opt_callback)}},GDocs.prototype.makeRequest=function(method,url,callback,opt_data,opt_headers){var data=opt_data||null,headers=opt_headers||{},xhr=new XMLHttpRequest;xhr.open(method,url,!0),xhr.setRequestHeader("Authorization","Bearer "+this.accessToken);for(var key in headers)xhr.setRequestHeader(key,headers[key]);xhr.onload=function(e){this.lastResponse=this.response,callback(this.lastResponse,this)}.bind(this),xhr.onerror=function(e){console.log(this,this.status,this.response,this.getAllResponseHeaders())},xhr.send(data)},GDocs.prototype.upload=function(blob,callback,retry){
var onComplete=function(response){document.getElementById("main").classList.remove("uploading");var entry=JSON.parse(response).entry;callback.apply(this,[entry])}.bind(this),onError=function(response){if(!retry)throw document.getElementById("main").classList.remove("uploading"),new Error("Error: "+response);this.removeCachedAuthToken(this.auth.bind(this,!0,this.upload.bind(this,blob,callback,!1)))}.bind(this),uploader=new MediaUploader({token:this.accessToken,file:blob,onComplete:onComplete,onError:onError});document.getElementById("main").classList.add("uploading"),uploader.upload()},angular.module("g-drive").factory("Googledrive",["$q","configGdrive",function($q,configGdrive){function createFolder(FolderName,accessToken){var request=gapi.client.request({path:"/drive/v2/files/",method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+accessToken},body:{title:FolderName,mimeType:"application/vnd.google-apps.folder"}});request.execute(function(resp){console.log(resp)})}function findFolder(callback){gapi.client.load("drive","v2").then(function(){var request=gapi.client.drive.files.list({q:"title contains 'Open'",maxResults:10,fields:"items(id,title)"});request.then(function(resp){callback(resp)})})}function createFile(callback){gapi.client.load("drive","v2").then(function(){var request=gapi.client.drive.files.list({q:"title contains 'URI-'",fields:"items(id,title)"});request.then(function(resp){})})}function getGoogleDriveInfo(){gapi.client.load("drive","v2").then(function(){var request=gapi.client.drive.about.get();request.execute(function(resp){console.log("Current user name: "+resp.name),console.log("Root folder ID: "+resp.rootFolderId),console.log("Total quota (bytes): "+resp.quotaBytesTotal),console.log("Used quota (bytes): "+resp.quotaBytesUsed)})})}function setupPicker(accessToken,callback){console.log("from gdrive service");var callbackAfterFindFolder=function(resp){var picker=(resp.result.items[0].id,(new google.picker.PickerBuilder).setOAuthToken(accessToken).setDeveloperKey(configGdrive.developerKey).addView(new google.picker.DocsView).enableFeature(google.picker.Feature.MULTISELECT_ENABLED).setLocale("us").setCallback(callback).build());picker.setVisible(!0)};findFolder(callbackAfterFindFolder)}function listFolder(){var deffered=$q.defer();return console.log("listForlder"),gapi.client.load("drive","v2").then(function(){var request=gapi.client.drive.files.list({maxResults:10,fields:"etag,items(thumbnailLink,id,webViewLink,webContentLink,title)"});request.then(function(resp){console.log("result File list"),deffered.resolve(resp.result)})}),deffered.promise}function plusTest(){var deffered=$q.defer();return gapi.client.load("plus","v1").then(function(){var request=gapi.client.plus.activities.list({userId:"me",collection:"public"});request.execute(function(resp){for(var numItems=resp.items.length,i=0;numItems>i;i++)deffered.resolve(resp.items)})}),deffered.promise}return{createFolder:createFolder,findFolder:findFolder,getGoogleDriveInfo:getGoogleDriveInfo,setupPicker:setupPicker,listFolder:listFolder,createFile:createFile,plusTest:plusTest}}]),angular.module("googledocs").config(["$stateProvider",function($stateProvider){$stateProvider.state("listGoogledocs",{url:"/googledocs",templateUrl:"modules/googledocs/views/list-googledocs.client.view.html"}).state("createGoogledoc",{url:"/googledocs/create",templateUrl:"modules/googledocs/views/create-googledoc.client.view.html"}).state("viewGoogledoc",{url:"/googledocs/:googledocId",templateUrl:"modules/googledocs/views/view-googledoc.client.view.html"}).state("editGoogledoc",{url:"/googledocs/:googledocId/edit",templateUrl:"modules/googledocs/views/edit-googledoc.client.view.html"})}]),angular.module("googledocs").controller("GoogledocsController",GoogledocsController),angular.module("googledocs").directive("gdocsCreate",gdocsCreate),angular.module("googledocs").directive("gdocsEdit",gdocsEdit),angular.module("googledocs").directive("gdocsList",gdocsList),angular.module("googledocs").directive("gdocsView",gdocsView),angular.module("googledocs").factory("Googledocs",["$resource",function($resource){return $resource("googledocs/:googledocId",{googledocId:"@_id"},{update:{method:"PUT"}})}]).factory("GoogledocsByLesson",["$resource",function($resource){return $resource("googledocsByLesson/:lessonId",{lessonId:"@_id"},{update:{method:"PUT"}})}]),angular.module("gsap-editor").config(["$stateProvider",function($stateProvider){$stateProvider.state("gsap-editor",{url:"/gsap-editor",templateUrl:"modules/gsap-editor/views/gsap-editor.client.view.html"})}]),angular.module("gsap-editor").controller("GsapEditorController",GsapEditorCtrl),angular.module("matrail-plugin").directive("toolbarCustom",toolbarCustom),angular.module("mean-events").run(["Menus",function(Menus){}]),angular.module("mean-events").config(["$stateProvider",function($stateProvider){$stateProvider.state("listMeanEvents",{url:"/mean-events",templateUrl:"modules/mean-events/views/list-mean-events.client.view.html"}).state("createMeanEvent",{url:"/mean-events/create",templateUrl:"modules/mean-events/views/create-mean-event.client.view.html"}).state("viewMeanEvent",{url:"/mean-events/:meanEventId",templateUrl:"modules/mean-events/views/view-mean-event.client.view.html"}).state("editMeanEvent",{url:"/mean-events/:meanEventId/edit",templateUrl:"modules/mean-events/views/edit-mean-event.client.view.html"})}]),angular.module("mean-events").controller("MeanEventsController",["$scope","$stateParams","$location","Authentication","MeanEvents",function($scope,$stateParams,$location,Authentication,MeanEvents){$scope.authentication=Authentication,console.log($scope.authentication),$scope.create=function(){var meanEvent=new MeanEvents({name:this.name});meanEvent.$save(function(response){$location.path("mean-events/"+response._id),$scope.name=""},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.remove=function(meanEvent){if(meanEvent){meanEvent.$remove();for(var i in $scope.meanEvents)$scope.meanEvents[i]===meanEvent&&$scope.meanEvents.splice(i,1)}else $scope.meanEvent.$remove(function(){$location.path("mean-events")})},$scope.update=function(){var meanEvent=$scope.meanEvent;meanEvent.$update(function(){$location.path("mean-events/"+meanEvent._id)},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.find=function(){$scope.meanEvents=MeanEvents.query()},$scope.findOne=function(){$scope.meanEvent=MeanEvents.get({meanEventId:$stateParams.meanEventId})}}]),angular.module("mean-events").factory("MeanEvents",["$resource",function($resource){return $resource("mean-events/:meanEventId",{meanEventId:"@_id"},{update:{method:"PUT"}})}]),angular.module("mean-tutorials").config(["$stateProvider",function($stateProvider){$stateProvider.state("projectview",{"abstract":!0,url:"/projects",templateUrl:"modules/mean-tutorials/views/projectView.client.view.html"}).state("projectview.dashboard",{url:"/dashboard",templateUrl:"modules/mean-tutorials/template/projectView.dashboard.tmp.html"}).state("projectview.projects",{url:"/projectlist",templateUrl:"modules/mean-tutorials/template/projectView.projects.tmp.html"}).state("projectview.articles",{url:"/articleslist",templateUrl:"modules/mean-tutorials/template/projectView.articles.tmp.html"}).state("versioning",{url:"/versioning",templateUrl:"modules/mean-tutorials/views/versioning.client.view.html"}).state("project2",{url:"/project2",templateUrl:"modules/mean-tutorials/views/project2.client.view.html"}).state("project1",{url:"/project1",templateUrl:"modules/mean-tutorials/views/project1.client.view.html"}).state("mean-home",{url:"/",templateUrl:"modules/mean-tutorials/views/mean-home.client.view.html"})}]),angular.module("mean-tutorials").controller("GapiCtrlController",["$scope","$http",function($scope,$http){$scope.googleAccess=function(){$http.get("/gapi").success(function(data,status,headers,config){$scope.url=data,$http.get($scope.url).success(function(data){console.log(data)})}).error(function(data,status,headers,config){$scope.url="Error"})}}]),angular.module("mean-tutorials").controller("HomeDialogtmpController",["$scope","$mdDialog",function($scope,$mdDialog){$scope.hide=function(){$mdDialog.hide()},$scope.cancel=function(){$mdDialog.cancel()},$scope.answer=function(answer){$mdDialog.hide(answer)}}]),angular.module("mean-tutorials").controller("MeanLoginCtrl",MeanLoginCtrl).controller("MeanHomeController",MeanHomeController),angular.module("mean-tutorials").controller("Project1Controller",["$scope","$document","$timeout","$log","$mdSidenav",function($scope,$document,$timeout,$log,$mdSidenav){function clicked(d){var x,y,k;if(d&&centered!==d){var centroid=path.centroid(d);x=centroid[0],y=centroid[1],k=4,centered=d}else x=width/2,y=height/2,k=1,centered=null;g.selectAll("path").classed("active",centered&&function(d){return d===centered}),g.transition().duration(750).attr("transform","translate("+width/2+","+height/2+")scale("+k+")translate("+-x+","+-y+")").style("stroke-width",1.5/k+"px")}$scope.snippet="angular.module('mean-tutorials').controller('Project1Controller', ['$scope','$document','$timeout','$log','$mdSidenav',function($scope, $document, $timeout, $log, $mdSidenav) {",$scope.toggleLeft=function(){$mdSidenav("left").toggle().then(function(){$log.debug("toggle left is done")})},$scope.toggleRight=function(){$mdSidenav("right").toggle().then(function(){$log.debug("toggle RIGHT is done")})},$scope.id="meanT-project1";var centered,width=960,height=500,projection=d3.geo.albersUsa().scale(1070).translate([width/2,height/2]),path=d3.geo.path().projection(projection),svg=d3.select("#geo").append("svg").attr("viewBox","0 0 960 500").attr("preserveAspectRatio","xMidMid");svg.append("rect").attr("class","background").attr("width",width).attr("height",height).on("click",clicked);var g=svg.append("g");d3.json("/modules/mean-tutorials/img/us.json",function(error,us){g.append("g").attr("id","states").selectAll("path").data(topojson.feature(us,us.objects.states).features).enter().append("path").attr("d",path).on("click",clicked),g.append("path").datum(topojson.mesh(us,us.objects.states,function(a,b){return a!==b})).attr("id","state-borders").attr("d",path)})}]).controller("LeftCtrl12",function($scope,$timeout,$mdSidenav,$log){$scope.close=function(){$mdSidenav("left").close().then(function(){$log.debug("close LEFT is done")})}}).controller("RightCtrl11",function($scope,$timeout,$mdSidenav,$log){$scope.close=function(){$mdSidenav("right").close().then(function(){$log.debug("close RIGHT is done")})}}),angular.module("mean-tutorials").controller("Project2Controller",["$scope",function($scope,$rootScope){$scope.id="meanT-project2",$scope.$on("handleEmit",function(event,args){$scope.$broadcast("handleBroadcast",args)}),$scope.password="",$scope.grade=function(){var size=$scope.password.length;size>8?$scope.strength="strong":size>3?$scope.strength="medium":$scope.strength="weak"}}]),angular.module("mean-tutorials").controller("ProjectViewController",["$scope","$stateParams","$state","$timeout","Articles",function($scope,$stateParams,$state,$timeout,Articles){$scope.title="Project3",$scope.body="",$scope.menus=[{icon:"",name:"Dashboard",state:"projectview.dashboard"},{icon:"",name:"Project",state:"projectview.projects"},{icon:"",name:"Article",state:"projectview.articles"},{icon:"",name:"Comments",state:"projectview.dashboard"},{icon:"",name:"Survey",state:"projectview.dashboard"}],$scope.goChildView=function(stateName){$state.go(stateName)},$scope.find=function(){$scope.articles=Articles.query()},$scope.findOne=function(){$scope.article=Articles.get({articleId:$stateParams.articleId})},$scope.shrinkleftPane=function(){TweenLite.to(".leftPane",1,{x:"-75px"}),TweenLite.to(".rightPane",1,{x:"-75px"}),TweenLite.to(".svgBtnLeftPane",1,{x:"75px"})}}]),angular.module("mean-tutorials").controller("ProjectviewProjectsController",["$scope","$resource","Articles",function($scope,$resource,Articles){var Projects=$resource("/articles/projects/:docType",{docType:"@docType"},{getProjects:{method:"GET",isArray:!0}});$scope.findProjects=function(type){$scope.resultProjects=Projects.getProjects({docType:type})},$scope.selectProject=function(index){TweenLite.set(".rightPane",{"margin-left":"72px",position:"inherit"}),$scope.selectedProject=$scope.resultProjects[index]}}]),angular.module("mean-tutorials").controller("ProjectviewdashboardController",["$scope","$window","$state","$http","$q","$mdDialog","$mdSidenav","configGdrive","Googledrive","GooglePlus","Products","Authentication","ProductByUserId","UtCalendar","$timeout","$mdBottomSheet","MeanEvents",function($scope,$window,$state,$http,$q,$mdDialog,$mdSidenav,configGdrive,Googledrive,GooglePlus,Products,Authentication,ProductByUserId,UtCalendar,$timeout,$mdBottomSheet,MeanEvents){function handleAuthentication(result){result&&!result.error?($scope.isAuth=!0,$scope.authName="Deauthorize",accessToken=result.access_token,createNewAccountFolder(),setFilePicker()):(console.log(result),console.log(result.error),console.log("fail to authentication")),$scope.$digest()}function createNewAccountFolder(){var callback=function(resp){console.log(resp.result.items.length),0==resp.result.items.length?$http.get("users/me").success(function(response){console.log(response);var folderName="D2l-"+response._id;Googledrive.createFolder(folderName,accessToken)}):(console.log("there is already exist"),$scope.rootGdriveFolderID=resp.result.items[0].id,$scope.$digest())};Googledrive.findFolder(callback)}$scope.authentication=Authentication,$scope.foo="tbody",$scope.findEvents=function(){$scope.meanEvents=MeanEvents.query()},$scope.testCreateFolder=function(){Googledrive.createFolder("chulwoo Fuck1",accessToken)},$scope.testGetGoogleDriveInfo=function(){Googledrive.getGoogleDriveInfo()};var accessToken;$scope.permalLink="http://drive.google.com/uc?export=view&id=",$scope.arrive=!1,$scope.authName="Authorize",$scope.isAuth=!1,$scope.init=function(){window.gapi.load("auth",$scope.authenticateWithGoogle),window.gapi.load("picker"),gapi.client.load("urlshortener","v1")},$scope.authenticateWithGoogle=function(){window.gapi.auth.authorize({client_id:configGdrive.clientId,scope:configGdrive.scopes,immediate:!1},handleAuthentication)},$scope.setupPicker=function(){function pickerCallback(data){if(data.action==google.picker.Action.PICKED){$scope.files=data.docs,$scope.arrive=!0;var request=gapi.client.urlshortener.url.get({shortUrl:"http://goo.gl/fbsS"});request.then(function(response){appendResults(response.result.longUrl)},function(reason){console.log("Error: "+reason.result.error.message)}),$scope.$digest()}else data.action==google.picker.Action.CANCEL}Googledrive.setupPicker(accessToken,pickerCallback)},$scope.listFolderInformation=function(){Googledrive.listFolder()},$scope.alert="",$scope.showListBottomSheet=function($event){$scope.alert="",$mdBottomSheet.show({templateUrl:"modules/mean-tutorials/template/bottom-sheet-list-template.html",controller:"BottomSheetListCtrl",targetEvent:$event}).then(function(clickedItem){$scope.alert=clickedItem.name+" clicked!"})},$scope.showGridBottomSheet=function($event){$scope.alert="",$mdBottomSheet.show({templateUrl:"modules/mean-tutorials/template/bottom-sheet-grid-template.html",controller:"BottomSheetGridCtrl",targetEvent:$event}).then(function(clickedItem){$scope.alert=clickedItem.name+" clicked!"})},$scope.today=function(){$scope.dt=new Date},$scope.today(),$scope.clear=function(){$scope.dt=null},$scope.disabled=function(date,mode){return"day"===mode&&(0===date.getDay()||6===date.getDay())},$scope.toggleMin=function(){$scope.minDate=$scope.minDate?null:new Date},$scope.toggleMin(),$scope.open=function($event){$event.preventDefault(),$event.stopPropagation(),$scope.opened=!0},$scope.dateOptions={formatYear:"yy",startingDay:1},$scope.formats=["dd-MMMM-yyyy","yyyy/MM/dd","dd.MM.yyyy","shortDate"],$scope.format=$scope.formats[0]}]).controller("gDriveDashCtrl",function($scope,Googledrive){$scope.googleDrive={info:"gDriveCtrl"},$scope.listingFolderInfo=function(){$scope.gDocs="dd",console.log("gDriveDashCtrl"),$scope.gDocs=Googledrive.listFolder();var request=gapi.client.drive.files.get({fileId:"1Q_CJwJftcL-zabVm0USc1px5HDfbpxu6Klav-XYOzNg"});request.execute(function(resp){resp.error?401==resp.error.code?checkAuth():console.log("An error occured: "+resp.error.message):(console.log("Title: "+resp.title),console.log("Description: "+resp.description),console.log("MIME type: "+resp.mimeType),console.log(resp),$scope.gDocs=resp)})}}).controller("BottomSheetListCtrl",function($scope,$mdBottomSheet){$scope.items=[{name:"Upload New Image (Google Drive)",icon:"share"},{name:"Select Existing Image (Google Drive)",icon:"upload"},{name:"Product History (Google Sheets)",icon:"copy"},{name:"Print this page (PDF Printer)",icon:"print"}],$scope.listItemClick=function($index){var clickedItem=$scope.items[$index];$mdBottomSheet.hide(clickedItem)}}).controller("BottomSheetGridCtrl",function($scope,$mdBottomSheet){$scope.items=[{name:"Hangout",icon:"hangout"},{name:"Mail",icon:"mail"},{name:"Message",icon:"message"},{name:"Copy",icon:"copy"}],$scope.listItemClick=function($index){var clickedItem=$scope.items[$index];$mdBottomSheet.hide(clickedItem)}}),angular.module("mean-tutorials").directive("backDrop",["$compile",function($compile){return{restrict:"A",controller:backDropCtrl,controllerAs:"backDrop",link:function(scope,element,attrs){var backDrop=angular.element("<div></div>"),classEnter=angular.element('<md-button ng-click="backDrop.openClass(lesson._id)" class="md-primary md-raised">Open Class</md-button>');backDrop.addClass("backDrop-directive"),backDrop.append(classEnter),$compile(classEnter)(scope),element.append(backDrop),element.on("mouseenter",function(){TweenMax.fromTo(backDrop,.5,{alpha:0,display:"none"},{alpha:1,display:"block"})}),element.on("mouseleave",function(){TweenMax.fromTo(backDrop,.5,{alpha:1,display:"block"},{alpha:0,display:"none"})})}}}]);var CalendarException=function(message){this.message=message,this.toString=function(){return this.constructor.name+": "+this.message}},Calendar=function(firstWeekDay){this.firstWeekDay=firstWeekDay||0};Calendar.prototype={constructor:Calendar,weekStartDate:function(date){for(var startDate=new Date(date.getTime());startDate.getDay()!==this.firstWeekDay;)startDate.setDate(startDate.getDate()-1);return startDate},monthDates:function(year,month,dayFormatter,weekFormatter){if("number"!=typeof year||1970>year)throw new CalendarException("year must be a number >= 1970");if("number"!=typeof month||0>month||month>11)throw new CalendarException("month must be a number (Jan is 0)");var weeks=[],week=[],i=0,date=this.weekStartDate(new Date(year,month,1));do{for(i=0;7>i;i++)week.push(dayFormatter?dayFormatter(date):date),date=new Date(date.getTime()),date.setDate(date.getDate()+1);weeks.push(weekFormatter?weekFormatter(week):week),week=[]}while(date.getMonth()<=month&&date.getFullYear()===year);return weeks},monthDays:function(year,month){var getDayOrZero=function(date){return date.getMonth()===month?date.getDate():0};return this.monthDates(year,month,getDayOrZero)},monthText:function(year,month){if("undefined"==typeof year){var now=new Date;year=now.getFullYear(),month=now.getMonth()}var getDayOrBlank=function(date){for(var s=date.getMonth()===month?date.getDate().toString():"  ";s.length<2;)s=" "+s;return s},weeks=this.monthDates(year,month,getDayOrBlank,function(week){return week.join(" ")});return weeks.join("\n")}};for(var months="JAN FEB MAR APR MAY JUN JUL AUG SEP OCT NOV DEC".split(" "),i=0;i<months.length;i++)Calendar[months[i]]=i;window.Calendar=Calendar,window.consts={monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],dayNames:["일","월","화","수","목","금","S"]},angular.module("mean-tutorials").directive("macWindow",[function(){return{scope:{projectInfos:"=info"},templateUrl:"modules/mean-tutorials/directives/templates/mac-window.html",restrict:"E",link:function(scope,element,attrs){scope.description="hello",scope.minimizeMacWindow=function(event){console.log("Click minimize");var pageElement=event.target.parentElement.parentElement.getElementsByClassName("page");TweenMax.to(pageElement,1.2,{display:"none",height:"0%"})},scope.maximizeMacWindow=function(event){console.log("Click maximize");var pageElement=event.target.parentElement.parentElement.getElementsByClassName("page");TweenMax.to(pageElement,1.2,{display:"block",height:"100%"})}}}}]),angular.module("mean-tutorials").directive("mjHomeAni",[function(){return{templateUrl:"modules/mean-tutorials/directives/templates/mjHomeAni.tpl.html",restrict:"E",link:function(scope,element,attrs){var title=$(".ani-title"),youtubePlayBtn=$("#youtubePlayButton"),meanTotem=($(".ani-techs"),$("#meanTotem")),meanTotemDesc=$("#meanTotem-desc");scope.clickPlayBtn=function(){TweenMax.fromTo(youtubePlayBtn,1.5,{scale:2},{scale:.8,opacity:0}),TweenMax.to(title,2.5,{x:-1200}),TweenMax.to(".ani-techs",.1,{opacity:1}),TweenMax.to([meanTotem,meanTotemDesc],1.3,{display:"block",height:"100%",opacity:1})},scope.resetPlayBtn=function(){TweenMax.to(youtubePlayBtn,.5,{scale:1,opacity:1}),TweenMax.to(title,.5,{x:0}),TweenMax.to([meanTotem,meanTotemDesc],1.3,{display:"none",height:"0%",opacity:0})},scope.aniTrigger=function(){var tl=new TimelineMax,t1=TweenMax.to($("#meanTotem"),1,{yPercent:-45,force3D:!0}),t2=TweenMax.to($("#meanTotem"),1,{yPercent:0,force3D:!0});tl.add(t1).add(t2)}}}}]),angular.module("mean-tutorials").directive("utCalendar",["UtCalendar",function(UtCalendar){return{template:'<div class="container" style="margin-top:20px"><table id="calendar" class="meanT-calendar"></table></div>',scope:{},restrict:"E",link:function(scope,element,attrs){UtCalendar.calendar(),element.bind("click",function(val){if(0===$("#calSvg").length){var position=$(val.target.parentElement.parentElement).position({of:$(window)}),width=$(val.target.parentElement.parentElement).width(),height=$(val.target.parentElement.parentElement).height(),margin={top:-5,right:-5,bottom:-5,left:-5},width=width-margin.left-margin.right,height=height-margin.top-margin.bottom,zoom=d3.behavior.zoom().center([width/2,height/2]).scaleExtent([1,10]).on("zoom",zoomed);scope.svg=d3.select("#calendar").append("svg").attr("id","calSvg").attr("width",width+margin.left+margin.right).attr("height",height+margin.top+margin.bottom).style("position","absolute").style("top",position.top).append("g").attr("transform","translate("+margin.left+","+margin.right+")").call(zoom);var container=scope.svg.append("g");container.append("g").attr("class","axis").selectAll("circle").data(d3.range(10,width,10)).enter().append("circle").attr("cx",width/2).attr("cy",height/2).attr("r",function(d){return d});var zoomed=(scope.svg.append("circle").style("fill","red").attr("cx",width/2).attr("cy",height/2).attr("r",10),function(){container.attr("transform","translate("+d3.event.translate+")scale("+d3.event.scale+")")})}})}}}]),angular.module("mean-tutorials").factory("UtCalendar",[function(){function calendar(){var cal=new Calendar,month=0,year=2015,weeks=cal.monthDays(year,month),table=d3.select("#calendar"),header=table.append("thead"),body=table.append("tbody");header.append("tr").append("td").attr("colspan",7).style("text-align","center").style("font-size","16px").text(consts.monthNames[month]),header.append("tr").selectAll("td").data(consts.dayNames).enter().append("td").style("text-align","center").text(function(d){return d}),weeks.forEach(function(week){body.append("tr").selectAll("td").data(week).enter().append("td").attr("class",function(d){return d>0?"date":"empty"}).text(function(d){return d>0?d:""})})}return{calendar:calendar}}]),angular.module("openboard").config(["$stateProvider",function($stateProvider){$stateProvider.state("class-content",{url:"/class-content",templateUrl:"modules/openboard/views/class-content.client.view.html"}).state("angular-tutorial",{url:"/angular-tutorial",templateUrl:"modules/openboard/views/angular-tutorial.client.view.html"}).state("openboard",{url:"/openboard",templateUrl:"modules/openboard/views/openboard.client.view.html"})}]),angular.module("openboard").controller("AngularCtrl",AngularCtrl),angular.module("openboard").controller("ClassContentController",["$scope",function($scope){}]),angular.module("openboard").controller("OpenboardController",OpenboardController),angular.module("openboard").directive("opProfile",["$interval","Authentication",function($interval,Authentication){return{templateUrl:"modules/openboard/directives/template/op-profile.html",restrict:"E",link:function(scope,element,attrs){{var profileOpen=!0;Authentication.user}scope.openProfile=function(){console.log(element.find("md-card-content")),profileOpen?(TweenMax.to(element.find("md-card-content"),1,{autoAlpha:0,display:"none"}),TweenMax.to(element,1,{scale:.7})):(TweenMax.to(element.find("md-card-content"),1,{autoAlpha:1,display:"block"}),TweenMax.to(element,1,{scale:1})),profileOpen=!profileOpen},scope.closeProfile=function(){console.log(element.find("md-card-content"))}}}}]),angular.module("openboard").directive("openboardAni1",[function(){return{templateUrl:"/modules/openboard/directives/template/openboard-ani1.html",restrict:"E",link:function(scope,element,attrs){function play(){tl.restart()}$("#play").click(play);var body1=$("#body1"),body2=$("#body2"),face1=($("#body3"),$("#face1")),face2=$("#face2"),flag=$("#flag"),a1=$(".assign"),tl=new TimelineMax({repeat:2,repeatDelay:1}),t1=TweenMax.to([body1,face1],.7,{display:"none"}),t2=TweenMax.to([body2,face2],.2,{display:"block"}),f1=TweenMax.from(flag,1,{display:"none",xPercent:200,yPercent:-200,scale:.2}),ta1=TweenMax.to(a1,4,{x:1500});tl.add(ta1).add(f1).add(t1).add(t2).play()}}}]),angular.module("payment").config(["$stateProvider",function($stateProvider){$stateProvider.state("bt-payment-test",{url:"/bt-payment-test",templateUrl:"modules/payment/views/bt-payment-test.client.view.html"})}]),angular.module("payment").controller("BtPaymentTestController",["$scope",function($scope){}]),angular.module("payment").constant("clientTokenPath","/client-token").controller("BtPaymentController",BtPaymentController),angular.module("payment").directive("btPayment",[function(){return{templateUrl:"modules/payment/directives/template/bt-payment.html",restrict:"E",controller:"BtPaymentController",link:function(scope,element,attrs){}}}]),angular.module("present").config(["$stateProvider",function($stateProvider){$stateProvider.state("okky1",{url:"/okky1",templateUrl:"modules/present/views/okky1.client.view.html"}).state("open-board-present",{url:"/open-board-present",templateUrl:"modules/present/views/open-board-present.client.view.html"})}]),angular.module("present").controller("OpenBoardPresentController",["$scope",function($scope){$("#open-board-conents #open-board-toolbar"),$("#open-board-conents #open-board-content"),$("#revealSlide");Reveal.initialize({controls:!0,progress:!0,slideNumber:!0,history:!1,keyboard:!0,overview:!0,center:!0,touch:!0,loop:!1,rtl:!1,fragments:!0,embedded:!1,help:!0,autoSlide:0,autoSlideStoppable:!0,mouseWheel:!1,hideAddressBar:!0,previewLinks:!1,transition:"zoom",transitionSpeed:"slow",backgroundTransition:"default",viewDistance:3,parallaxBackgroundImage:"",parallaxBackgroundSize:""})}]),angular.module("size-util").controller("SizeUtil.sizeOfWidthController",["$scope",function($scope){$scope.width=window.innerWidth,$(".bottom-sheet-dashboard").width(window.innerWidth-74),$(window).on("resize.doResize",function(){$scope.width=window.innerWidth,$scope.width<600?$scope.screen="sm size":$scope.width<960?$scope.screen="md size":$scope.screen="bg size",$(".bottom-sheet-dashboard").width(window.innerWidth-74),$scope.$apply(function(){})}),$scope.$on("$destroy",function(){$(window).off("resize.doResize")})}]),angular.module("size-util").directive("colorBorder",[function(){return{scope:{color:"@colorBorder"},link:function(scope,element,attrs){TweenLite.set(element.children(),{borderColor:scope.color,borderStyle:"solid",borderWidth:"1px"})}}}]),angular.module("size-util").directive("coverResize",["$window",function($window){return{restrict:"A",scope:{targetElem:"=bindingFoo"},link:function(scope,element,attrs){var w=angular.element($window);w.on("reszie",function(){console.log("resize")}),console.log(element),element.on("resize",function(){console.log("resized.- element On")}),element.bind("resize",function(){console.log("resize"),scope.$apply()}),element.bind("click",function(){console.log("resize"),scope.$apply()})}}}]).directive("ngSize",["$window",function($window){return{scope:{size:"=ngSize"},link:function(scope,element,attrs){angular.element(element);element.bind("resize",function(e){console.log(" Window resized! ")}),$("#calendar").bind("resize",function(){console.log("resized")})}}}]).directive("testSize",yourDirectiveName),angular.module("the-clean-cruds").config(["$stateProvider",function($stateProvider){$stateProvider.state("listTheCleanCruds",{url:"/the-clean-cruds",templateUrl:"modules/the-clean-cruds/views/list-the-clean-cruds.client.view.html"}).state("createTheCleanCrud",{url:"/the-clean-cruds/create",templateUrl:"modules/the-clean-cruds/views/create-the-clean-crud.client.view.html"}).state("viewTheCleanCrud",{url:"/the-clean-cruds/:theCleanCrudId",templateUrl:"modules/the-clean-cruds/views/view-the-clean-crud.client.view.html"}).state("editTheCleanCrud",{url:"/the-clean-cruds/:theCleanCrudId/edit",templateUrl:"modules/the-clean-cruds/views/edit-the-clean-crud.client.view.html"})}]),angular.module("the-clean-cruds").controller("TheCleanCrudsController",["$scope","$stateParams","$location","Authentication","TheCleanCruds",function($scope,$stateParams,$location,Authentication,TheCleanCruds){$scope.authentication=Authentication,$scope.create=function(){var theCleanCrud=new TheCleanCruds({orderDate:this.orderDate,deliberyDate:this.deliberyDate,Address:this.address,numOrder:this.numOrder,detailInfo:this.detailInfo});theCleanCrud.$save(function(response){$location.path("the-clean-cruds/"+response._id),$scope.name=""},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.remove=function(theCleanCrud){if(theCleanCrud){theCleanCrud.$remove();for(var i in $scope.theCleanCruds)$scope.theCleanCruds[i]===theCleanCrud&&$scope.theCleanCruds.splice(i,1)}else $scope.theCleanCrud.$remove(function(){$location.path("the-clean-cruds")})},$scope.update=function(){var theCleanCrud=$scope.theCleanCrud;theCleanCrud.$update(function(){$location.path("the-clean-cruds/"+theCleanCrud._id)},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.find=function(){$scope.theCleanCruds=TheCleanCruds.query()},$scope.findOne=function(){$scope.theCleanCrud=TheCleanCruds.get({theCleanCrudId:$stateParams.theCleanCrudId})}}]),angular.module("the-clean-cruds").factory("TheCleanCruds",["$resource",function($resource){return $resource("the-clean-cruds/:theCleanCrudId",{theCleanCrudId:"@_id"},{update:{method:"PUT"}})}]),angular.module("the-clean").config(["$stateProvider","$mdIconProvider",function($stateProvider,$mdIconProvider){$stateProvider.state("tc-order",{url:"/tc-order",templateUrl:"modules/the-clean/views/tc-order.client.view.html"}).state("the-clean",{url:"/the-clean",templateUrl:"modules/the-clean/views/the-clean.client.view.html"}),$mdIconProvider.icon("basket","modules/the-clean/svg/basket.svg"),$mdIconProvider.icon("drum","modules/the-clean/svg/drum.svg")}]),angular.module("the-clean").controller("TcOrderController",["$scope",function($scope){}]),angular.module("the-clean").controller("TheCleanController",["$scope","Authentication",function($scope,Authentication){$scope.authentication=Authentication,$scope.toppings=[{category:"meat",name:"Pepperoni"},{category:"meat",name:"Sausage"},{category:"meat",name:"Ground Beef"},{category:"meat",name:"Bacon"},{category:"veg",name:"Mushrooms"},{category:"veg",name:"Onion"
},{category:"veg",name:"Green Pepper"},{category:"veg",name:"Green Olives"}],$scope.tcOrder=!0,$scope.tcStartPage=!1,$scope.tcPrice=!1,$scope.tcUserInfo=!0,$scope.tcProgress=!1,$scope.toggle=function(targetDirective){return targetDirective=!targetDirective},$scope.options={chart:{type:"discreteBarChart",height:450,margin:{top:20,right:20,bottom:60,left:55},x:function(d){return d.label},y:function(d){return d.value},showValues:!0,valueFormat:function(d){return d3.format(",.4f")(d)},transitionDuration:500,xAxis:{axisLabel:"Module(s)"},yAxis:{axisLabel:"Complete(%)",axisLabelDistance:30}}},$scope.data=[{key:"Cumulative Return",values:[{label:"User Interface",value:22},{label:"Backend",value:5},{label:"Start Page",value:5},{label:"Icon Design",value:5},{label:"Complete",value:100}]}]}]),angular.module("the-clean").directive("tcOrder",OrderDirective).directive("tcOrderHeader",OrderHeader).directive("tcGetRequires",GetRequires).provider("$tcOrder",SelectProvider),angular.module("tinymce").run(["Menus",function(Menus){}]).value("uiTinymceConfig",{plugins:"image, link, fullscreen, code, table, contextmenu, media",contextmenu:"link media image inserttable | cell row column deletetable",image_advtab:!0,image_class_list:[{title:"Responsive Size",value:"img-responsive"}],fullscreen_new_window:!0,fullscreen_settings:{theme_advanced_path_location:"top"}}),angular.module("tinymce").directive("uiTinymce",["uiTinymceConfig",function(uiTinymceConfig){uiTinymceConfig=uiTinymceConfig||{};var generatedIds=0;return{require:"ngModel",link:function(scope,elm,attrs,ngModel){var expression,options,tinyInstance;attrs.id||attrs.$set("id","uiTinymce"+generatedIds++),options={setup:function(ed){ed.on("init",function(args){ngModel.$render()}),ed.on("ExecCommand",function(e){ed.save(),ngModel.$setViewValue(elm.val()),scope.$$phase||scope.$apply()}),ed.on("KeyUp",function(e){console.log(ed.isDirty()),ed.save(),ngModel.$setViewValue(elm.val()),scope.$$phase||scope.$apply()})},mode:"exact",elements:attrs.id},expression=attrs.uiTinymce?scope.$eval(attrs.uiTinymce):{},angular.extend(options,uiTinymceConfig,expression),setTimeout(function(){tinymce.init(options)}),ngModel.$render=function(){tinyInstance||(tinyInstance=tinymce.get(attrs.id)),tinyInstance&&tinyInstance.setContent(ngModel.$viewValue||"")}}}}]),angular.module("user-interface").config(["$stateProvider",function($stateProvider){$stateProvider.state("mcmu",{url:"/mcmu",templateUrl:"modules/user-interface/views/mcmu.client.view.html"}).state("front-1",{url:"/front-1",templateUrl:"modules/user-interface/views/front-1.client.view.html"}).state("experimental-interface",{url:"/experimental-interface",templateUrl:"modules/user-interface/views/experimental-interface.client.view.html"}).state("listing-product",{url:"/urimium",templateUrl:"modules/user-interface/views/listing-product.client.view.html"}).state("detail-product",{url:"/detail-product/:productId",templateUrl:"modules/user-interface/views/detail-product.client.view.html"})}]),angular.module("user-interface").controller("DetailProductController",["$scope","$stateParams","$sce","Products","GetPurchaseJWT","Payments","configGdrive",function($scope,$stateParams,$sce,Products,GetPurchaseJWT,Payments,configGdrive){function announceDeselected(tab){$scope.farewell="Goodbye "+tab.title+"!"}function announceSelected(tab){$scope.greeting="Hello "+tab.title+"!"}function buttonReady(params){"SUCCESS"==params.status&&("interactive"===document.readyState||"complete"==document.readyState||"loaded"==document.readyState?document.getElementById("wallet-button-holder").appendChild(params.walletButtonElement):document.addEventListener("DOMContentLoaded",function(){document.getElementById("wallet-button-holder").appendChild(params.walletButtonElement)}))}function handleAuthentication(result){console.log(configGdrive.clientId),google.wallet.online.authorize({clientId:configGdrive.clientId,callback:function(result){console.log(result),google.wallet.online.createWalletButton({jwt:"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiIwODI0MzM2MjAwNzE3NDcwMDQ2NiIsImF1ZCI6Ikdvb2dsZSIsInR5cCI6Imdvb2dsZS93YWxsZXQvb25saW5lL21hc2tlZC92Mi9yZXF1ZXN0IiwiaWF0IjoxNDE1ODU5MTYzLCJleHAiOjE2NzI0NjY0MDAwMDAsInJlcXVlc3QiOnsiY2xpZW50SWQiOiI1NzQ1NjM1Mzk0ODgtbjB2cmV2Z2pwMzYwNmwyMGhmazRycWZrMWRjOGozcWIuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJtZXJjaGFudE5hbWUiOiJwYlNob3AiLCJvcmlnaW4iOiJodHRwOi8vbG9jYWxob3N0OjMwMDAvIiwicGhvbmVOdW1iZXJSZXF1aXJlZCI6dHJ1ZSwicGF5Ijp7ImVzdGltYXRlZFRvdGFsUHJpY2UiOiIxNS4wMSIsImN1cnJlbmN5Q29kZSI6IlVTRCJ9LCJzaGlwIjp7fX19.ayFuAfhYnlzBWNlJxbuwHT2o-4k01tZ2x41c9_fzeJk",success:createWalletButtonSuccessCallback,failure:createWalletButtonFailureCallback,ready:buttonReady,height:"44",width:"230"})}})}var productId=$stateParams.productId;$scope.quantity=1;var tabs=[{title:"반품/배송/교환 문의",content:"No Contents"},{title:"상세 상품설명",content:""},{title:"상품분석평/상품문의",content:"No Contents"}];$scope.findOne=function(){Products.get({productId:productId}).$promise.then(function(value){$scope.product=value,tabs[1].content=$sce.trustAsHtml(value.detailDesc)})},$scope.tabs=tabs,$scope.selectedIndex=1,$scope.announceSelected=announceSelected,$scope.announceDeselected=announceDeselected,$scope.addTab=function(title,view){view=view||title+" Content View",tabs.push({title:title,content:view,disabled:!1,style:style})},$scope.removeTab=function(tab){for(var j=0;j<tabs.length;j++)if(tab.title==tabs[j].title){$scope.tabs.splice(j,1);break}},$scope.from_one={from_one:"bold data in controller in from_one.js"};$scope.authenticateWithGoogle=function(){window.gapi.auth.authorize({client_id:configGdrive.clientId,scope:configGdrive.scopes,immediate:!1},handleAuthentication)};var createWalletButtonSuccessCallback=function(param){wallet.transactionId=param.response.response.googleTransactionId,console.log("Masked Wallet Response:"+JSON.stringify(param.response))},createWalletButtonFailureCallback=function(error){console.log("There was an error getting the Masked Wallet: "+JSON.stringify(error))};$scope.testPurchaseProduct=function(){google.wallet.online.setAccessToken("[accessToken]")},$scope.purchaseProduct=function(productID,quantity){console.log(productID),console.log(quantity);var optdesc="주문수량: "+quantity+"개";GetPurchaseJWT.query({productID:productID,qty:quantity,optdesc:optdesc}).$promise.then(function(response){google.payments.inapp.buy({parameters:{},jwt:response[0],success:function(result){console.log(result.jwt),createPaymentHistory(result)},failure:function(){window.alert("Your Payment transaction is failed")}})})};var createPaymentHistory=function(result){var payment=new Payments({name:result.request.name,price:Number(result.request.price),sellerData:result.request.sellerData,description:result.request.description,currencyCode:result.request.currencyCode,orderID:result.response.orderId});payment.$save(function(response){},function(errorResponse){$scope.error=errorResponse.data.message})}}]),angular.module("user-interface").controller("ExperimentalinterfaceController",["$scope",function($scope){}]),angular.module("user-interface").controller("Front1Controller",["$scope","$log",function($scope,$log){function master(){var takeOne=new TimelineLite;takeOne.to(box,2,{scale:.5,ease:Expo.easeOut}).to(box,3,{scale:.8,y:-120,ease:Expo.easeOut}).to(box,3,{rotation:180,transformOrigin:"50% 50%",ease:Expo.easeOut,onComplete:openCloseBox})}$scope.id="frint-1",$scope.tests=[];for(var index=0;4>index;index++)$scope.tests.push(index);$scope.title="의리미엄으로 가보자",$scope.clickProduct=function(index){console.log(index)};var closedBox,boxGraphic=Snap(".boxSvg"),headBox=boxGraphic.select("#box-lead"),upperBox=boxGraphic.select("#box-lead-target"),headBoxOpenPath=headBox.attr("d"),headBoxClosedPath=boxGraphic.select("#box-lead-target").attr("d");headBox.click(openCloseBox);var openCloseBox=function(){var path,ease;closedBox?(path=headBoxOpenPath,ease=mina.easein,closedBox=0,console.log("open Box")):(path=headBoxClosedPath,ease=mina.bounce,closedBox=1,console.log("close box")),headBox.stop().animate({d:path},1e3,ease)};openCloseBox(),upperBox.click(function(){console.log("upperBox")});var menuSvg=Snap("#menu1");menuSvg.attr({opacity:.2,fill:"#FFFFFF"});var menuSvg2=Snap("#menu2"),menuSvg3=Snap("#menu3"),circle1=menuSvg.circle(60,60,60),text1=(menuSvg2.circle(60,60,60),menuSvg3.circle(60,60,60),menuSvg.text(55,60,"D"));text1.attr({fill:"#FFFFFF"});var circleNText=menuSvg.group(circle1,text1);circleNText.drag(),TweenMax.ticker.fps(60);var box=$(".boxSvg");$(document).ready(master);for(var data=Snap.path.toCubic($(".boxSvg2 path").attr("d")),dataLength=data.length,points=[],i=(data.toString(),0);dataLength>i;i++){var seg=data[i];if("M"===seg[0]){var point={};point.x=seg[1],point.y=seg[2],points.push(point)}else for(var j=1;6>j;j+=2){var point={};point.x=seg[j],point.y=seg[j+1],points.push(point)}}TweenMax.to("#circleTarget",3,{bezier:{type:"cubic",values:points},force3D:!0,ease:Power0.easeNone})}]),angular.module("user-interface").controller("ListingProductController",["$scope","$log",function($scope,$log){function partition(input,size){for(var newArr=[],i=0;i<input.length;i+=size)newArr.push(input.slice(i,i+size));return newArr}$scope.find=function(){$scope.products=Products.query(),$scope.products.$promise.then(function(result){$scope.partitioned=partition(result,3)})},$scope.testColumnSystem=function(numberOfColumn){$scope.partitioned=partition($scope.products,numberOfColumn)},$scope.listItemClick=function($index){var clickedItem=$scope.items[$index];$mdBottomSheet.hide(clickedItem)}}]),angular.module("user-interface").controller("McmuController",["$scope","$timeout",function($scope,$timeout){var svgMVMU=Snap("#faceSvg");Snap.load("modules/user-interface/img/mcmu/mcmu.svg",function(data){svgMVMU.append(data);var lylics_small=$("#song_small"),lylics_ah=$("#song_ah"),lylics_hak=$("#song_hak"),lylics_haak=$("#song_haak"),master=function(){{var mcmu=$("#faceSvg svg"),eyeBro=$("#eyebro path"),leftBro=($("#mouth1"),$("#mouth2"),eyeBro[0]),rightBro=eyeBro[2];document.getElementById("audioTag")}console.log(leftBro),console.log(rightBro);var closeMouth=$("#mouth1"),openMouth=$("#mouth2"),mouth_timeLine=new TimelineMax({repeat:3});mouth_timeLine.set(closeMouth,{opacity:0}).to(openMouth,.5,{opacity:1}).set(openMouth,{opacity:0}).set(closeMouth,{opacity:1});var screamSmell=new TimelineMax;screamSmell.from(lylics_small,.5,{scale:.5,autoAlpha:0,ease:Back.easeOut}).to(lylics_small,.1,{scale:.5,autoAlpha:1,ease:Back.easeOut}).set(lylics_small,{autoAlpha:0});var screamAh=new TimelineMax({repeat:8});screamAh.add(mouth_timeLine).from(lylics_ah,.5,{scale:.5,autoAlpha:0,ease:Back.easeOut}).to(lylics_ah,.5,{scale:1,autoAlpha:1,ease:Back.easeOut}).from(lylics_ah,.1,{scale:.5,autoAlpha:0,ease:Back.easeOut}).to(lylics_ah,.5,{scale:1,autoAlpha:1,ease:Back.easeOut}).from(lylics_ah,.5,{scale:.5,autoAlpha:0,ease:Back.easeOut}).to(lylics_ah,.1,{scale:1,autoAlpha:1,ease:Back.easeOut}).from(lylics_ah,.5,{scale:.5,autoAlpha:0,ease:Back.easeOut}).to(lylics_ah,.5,{scale:1,autoAlpha:1,ease:Back.easeOut}).from(lylics_ah,.5,{scale:.5,autoAlpha:0,ease:Back.easeOut}).to(lylics_ah,.5,{scale:1,autoAlpha:1,ease:Back.easeOut}).set(lylics_ah,{scale:1,autoAlpha:0,ease:Back.easeOut});var screamhak=new TimelineMax;screamhak.from(lylics_hak,1.5,{scale:.5,autoAlpha:0,ease:Back.easeOut}).to(lylics_hak,1.5,{scale:.5,autoAlpha:0,ease:Back.easeOut}).from(lylics_haak,1.5,{scale:.5,autoAlpha:0,ease:Back.easeOut}).to(lylics_haak,1.5,{scale:.5,autoAlpha:0,ease:Back.easeOut});var timeLine=new TimelineMax({paused:!0,delay:.2,onComplete:printComplete});timeLine.to(mcmu,3.3,{scale:.5,opacity:1}).to([leftBro,rightBro],1,{rotation:360,scale:1.2,fill:"red",opacity:1,transformOrigin:"50% 50%"}).add(screamSmell,3.7).add(screamAh,4.5).add(mouth_timeLine,4.5).add(screamhak,8),timeLine.stop(),$scope.totalTime=timeLine.totalDuration().toFixed(2),$timeout(function(){console.log("time out is done")},5e3)};master()});var printComplete=function(){console.log("complete")},boxes=$(".box"),stage=$(".stage");TweenLite.set(stage,{css:{perspective:400,transformStyle:"preserve-3d"}}),boxes.each(function(index,element){TweenLite.set(element,{css:{rotationY:20*index,transformOrigin:"left 50% -200"}}),TweenMax.to(element,20,{css:{rotationY:"+=180"},repeat:1,ease:Linear.easeNone})})}]),angular.module("user-interface").directive("article",["Articles",function(Articles){return{templateUrl:"modules/user-interface/directives/templates/article.html",restrict:"E",link:function(scope,element,attrs){scope.find=function(){scope.articles=Articles.query()},scope.find()}}}]),angular.module("user-interface").directive("mainInterface",["$compile",function($compile){return{templateUrl:"modules/user-interface/directives/templates/main-interface.html",restrict:"E",link:function(scope,element,attrs){var draggableTargets=$(".draggable-target"),ids=[];angular.forEach(draggableTargets,function(index){ids.push(index.id)}),console.log(ids),scope.clicked=!1,scope.dragable=!1,scope.dragin=!1;var sortable=$("#box"),box=Draggable.create(sortable,{type:"x,y",edgeResistance:.85,onDragStart:function(){TweenMax.to("#box",.25,{scale:.8}),console.log("Click")},onDrag:function(){TweenMax.to(".draggable-target",0,{opacity:1,backgroundColor:"lightgreen"}),angular.forEach(ids,function(index){box[0].hitTest("#"+index,20)&&TweenMax.to("#"+index,.25,{opacity:.5,backgroundColor:"lightgreen"})})},onDragEnd:function(){angular.forEach(ids,function(index){if(box[0].hitTest("#"+index,20)){var el=$compile("<article></article>")(scope);angular.element("#"+index).append(el),box[0].applyBounds("#widget_menu"),box[0].vars.bounds=""}}),TweenMax.to("#box",.25,{scale:1})}})}}}]),angular.module("user-interface").factory("Allproducts",["$resource",function($resource){return $resource("products/:productID",{productID:"@_id"})}]),angular.module("user-interface").factory("AllBanners",["$resource",function($resource){return $resource("banners",{productID:"@_id"})}]),angular.module("users").config(["$httpProvider",function($httpProvider){$httpProvider.interceptors.push(["$q","$location","Authentication",function($q,$location,Authentication){return{responseError:function(rejection){switch(rejection.status){case 401:Authentication.user=null,$location.path("signin");break;case 403:}return $q.reject(rejection)}}}])}]),angular.module("users").config(["$stateProvider",function($stateProvider){$stateProvider.state("profile",{url:"/settings/profile",templateUrl:"modules/users/views/settings/edit-profile.client.view.html"}).state("password",{url:"/settings/password",templateUrl:"modules/users/views/settings/change-password.client.view.html"}).state("accounts",{url:"/settings/accounts",templateUrl:"modules/users/views/settings/social-accounts.client.view.html"}).state("signup",{url:"/signup",templateUrl:"modules/users/views/authentication/signup.client.view.html"}).state("signin",{url:"/signin",templateUrl:"modules/users/views/authentication/signin.client.view.html"}).state("forgot",{url:"/password/forgot",templateUrl:"modules/users/views/password/forgot-password.client.view.html"}).state("reset-invalid",{url:"/password/reset/invalid",templateUrl:"modules/users/views/password/reset-password-invalid.client.view.html"}).state("reset-success",{url:"/password/reset/success",templateUrl:"modules/users/views/password/reset-password-success.client.view.html"}).state("reset",{url:"/password/reset/:token",templateUrl:"modules/users/views/password/reset-password.client.view.html"})}]),angular.module("users").controller("AuthenticationController",["$scope","$http","$timeout","$location","$mdDialog","$state","Authentication","Users",function($scope,$http,$timeout,$location,$mdDialog,$state,Authentication,Users){$scope.authentication=Authentication,$scope.user=Authentication.user,$scope.signup=function(destination){$http.post("/auth/signup",$scope.credentials).success(function(response){$scope.authentication.user=response,$mdDialog.hide(),void 0==typeof destination?$location.path("/"):$state.go(destination)}).error(function(response){$scope.error=response.message})},$scope.signin=function(destination){$http.post("/auth/signin",$scope.credentials).success(function(response){$scope.authentication.user=response,$mdDialog.hide(),$location.path("/"),void 0==typeof destination?$location.path("/"):$state.go(destination)}).error(function(response){$scope.error=response.message})}}]),angular.module("users").controller("PasswordController",["$scope","$stateParams","$http","$location","Authentication",function($scope,$stateParams,$http,$location,Authentication){$scope.authentication=Authentication,$scope.authentication.user&&$location.path("/"),$scope.askForPasswordReset=function(){$scope.success=$scope.error=null,$http.post("/auth/forgot",$scope.credentials).success(function(response){$scope.credentials=null,$scope.success=response.message}).error(function(response){$scope.credentials=null,$scope.error=response.message})},$scope.resetUserPassword=function(){$scope.success=$scope.error=null,$http.post("/auth/reset/"+$stateParams.token,$scope.passwordDetails).success(function(response){$scope.passwordDetails=null,Authentication.user=response,$location.path("/password/reset/success")}).error(function(response){$scope.error=response.message})}}]),angular.module("users").controller("SettingsController",["$scope","$http","$location","Users","Authentication",function($scope,$http,$location,Users,Authentication){$scope.user=Authentication.user,$scope.user||$location.path("/"),$scope.hasConnectedAdditionalSocialAccounts=function(provider){for(var i in $scope.user.additionalProvidersData)return!0;return!1},$scope.isConnectedSocialAccount=function(provider){return $scope.user.provider===provider||$scope.user.additionalProvidersData&&$scope.user.additionalProvidersData[provider]},$scope.removeUserSocialAccount=function(provider){$scope.success=$scope.error=null,$http["delete"]("/users/accounts",{params:{provider:provider}}).success(function(response){$scope.success=!0,$scope.user=Authentication.user=response}).error(function(response){$scope.error=response.message})},$scope.updateUserProfile=function(isValid){if(isValid){$scope.success=$scope.error=null;var user=new Users($scope.user);user.$update(function(response){$scope.success=!0,Authentication.user=response},function(response){$scope.error=response.data.message})}else $scope.submitted=!0},$scope.changeUserPassword=function(){$scope.success=$scope.error=null,$http.post("/users/password",$scope.passwordDetails).success(function(response){$scope.success=!0,$scope.passwordDetails=null}).error(function(response){$scope.error=response.message})}}]),angular.module("users").factory("Authentication",[function(){var _this=this;return _this._data={user:window.user},_this._data}]),angular.module("users").factory("Users",["$resource",function($resource){return $resource("users",{},{update:{method:"PUT"}})}]).factory("UsersRole",["$resource",function($resource){return $resource("users/role",{},{update:{method:"PUT"}})}]),angular.module("util").directive("bigPanel",["$interval",function($interval){return{templateUrl:"modules/util/directives/template/bigPanel.html",restrict:"E",link:function(scope,element,attrs){}}}]),angular.module("util").directive("keyMenu",[function(){return{restrict:"A",link:function(scope,element,attrs){element.bind("keydown keypress",function(event){13===event.which?(scope.$apply(function(){scope.$eval(attrs.ngEnter)}),event.preventDefault()):console.log(event.which)})}}}]),angular.module("util").directive("prism",[function(){return{restrict:"A",link:function(scope,element,attrs){element.ready(function(){Prism.highlightElement(element[0])})}}}]);